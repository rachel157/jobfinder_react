function jm(e,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _m={exports:{}},br={},Nm={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),mg=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),gg=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),jg=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),_g=Symbol.for("react.memo"),Ng=Symbol.for("react.lazy"),Jd=Symbol.iterator;function bg(e){return e===null||typeof e!="object"?null:(e=Jd&&e[Jd]||e["@@iterator"],typeof e=="function"?e:null)}var bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wm=Object.assign,km={};function Ua(e,n,s){this.props=e,this.context=n,this.refs=km,this.updater=s||bm}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cm(){}Cm.prototype=Ua.prototype;function Oc(e,n,s){this.props=e,this.context=n,this.refs=km,this.updater=s||bm}var Uc=Oc.prototype=new Cm;Uc.constructor=Oc;wm(Uc,Ua.prototype);Uc.isPureReactComponent=!0;var Qd=Array.isArray,Sm=Object.prototype.hasOwnProperty,Hc={current:null},Tm={key:!0,ref:!0,__self:!0,__source:!0};function Em(e,n,s){var a,i={},l=null,r=null;if(n!=null)for(a in n.ref!==void 0&&(r=n.ref),n.key!==void 0&&(l=""+n.key),n)Sm.call(n,a)&&!Tm.hasOwnProperty(a)&&(i[a]=n[a]);var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){for(var c=Array(o),h=0;h<o;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)i[a]===void 0&&(i[a]=o[a]);return{$$typeof:Ji,type:e,key:l,ref:r,props:i,_owner:Hc.current}}function wg(e,n){return{$$typeof:Ji,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Kc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function kg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var Xd=/\/+/g;function Wr(e,n){return typeof e=="object"&&e!==null&&e.key!=null?kg(""+e.key):n.toString(36)}function Tl(e,n,s,a,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(l){case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Ji:case mg:r=!0}}if(r)return r=e,i=i(r),e=a===""?"."+Wr(r,0):a,Qd(i)?(s="",e!=null&&(s=e.replace(Xd,"$&/")+"/"),Tl(i,n,s,"",function(h){return h})):i!=null&&(Kc(i)&&(i=wg(i,s+(!i.key||r&&r.key===i.key?"":(""+i.key).replace(Xd,"$&/")+"/")+e)),n.push(i)),1;if(r=0,a=a===""?".":a+":",Qd(e))for(var o=0;o<e.length;o++){l=e[o];var c=a+Wr(l,o);r+=Tl(l,n,s,c,i)}else if(c=bg(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=a+Wr(l,o++),r+=Tl(l,n,s,c,i);else if(l==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return r}function ll(e,n,s){if(e==null)return e;var a=[],i=0;return Tl(e,a,"","",function(l){return n.call(s,l,i++)}),a}function Cg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},El={transition:null},Sg={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:El,ReactCurrentOwner:Hc};function Lm(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:ll,forEach:function(e,n,s){ll(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return ll(e,function(){n++}),n},toArray:function(e){return ll(e,function(n){return n})||[]},only:function(e){if(!Kc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=Ua;Ve.Fragment=pg;Ve.Profiler=gg;Ve.PureComponent=Oc;Ve.StrictMode=fg;Ve.Suspense=yg;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg;Ve.act=Lm;Ve.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=wm({},e.props),i=e.key,l=e.ref,r=e._owner;if(n!=null){if(n.ref!==void 0&&(l=n.ref,r=Hc.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in n)Sm.call(n,c)&&!Tm.hasOwnProperty(c)&&(a[c]=n[c]===void 0&&o!==void 0?o[c]:n[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){o=Array(c);for(var h=0;h<c;h++)o[h]=arguments[h+2];a.children=o}return{$$typeof:Ji,type:e.type,key:i,ref:l,props:a,_owner:r}};Ve.createContext=function(e){return e={$$typeof:vg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xg,_context:e},e.Consumer=e};Ve.createElement=Em;Ve.createFactory=function(e){var n=Em.bind(null,e);return n.type=e,n};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:jg,render:e}};Ve.isValidElement=Kc;Ve.lazy=function(e){return{$$typeof:Ng,_payload:{_status:-1,_result:e},_init:Cg}};Ve.memo=function(e,n){return{$$typeof:_g,type:e,compare:n===void 0?null:n}};Ve.startTransition=function(e){var n=El.transition;El.transition={};try{e()}finally{El.transition=n}};Ve.unstable_act=Lm;Ve.useCallback=function(e,n){return Jt.current.useCallback(e,n)};Ve.useContext=function(e){return Jt.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};Ve.useEffect=function(e,n){return Jt.current.useEffect(e,n)};Ve.useId=function(){return Jt.current.useId()};Ve.useImperativeHandle=function(e,n,s){return Jt.current.useImperativeHandle(e,n,s)};Ve.useInsertionEffect=function(e,n){return Jt.current.useInsertionEffect(e,n)};Ve.useLayoutEffect=function(e,n){return Jt.current.useLayoutEffect(e,n)};Ve.useMemo=function(e,n){return Jt.current.useMemo(e,n)};Ve.useReducer=function(e,n,s){return Jt.current.useReducer(e,n,s)};Ve.useRef=function(e){return Jt.current.useRef(e)};Ve.useState=function(e){return Jt.current.useState(e)};Ve.useSyncExternalStore=function(e,n,s){return Jt.current.useSyncExternalStore(e,n,s)};Ve.useTransition=function(){return Jt.current.useTransition()};Ve.version="18.3.1";Nm.exports=Ve;var u=Nm.exports;const Dm=ym(u),Tg=jm({__proto__:null,default:Dm},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=u,Lg=Symbol.for("react.element"),Dg=Symbol.for("react.fragment"),Pg=Object.prototype.hasOwnProperty,Mg=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rg={key:!0,ref:!0,__self:!0,__source:!0};function Pm(e,n,s){var a,i={},l=null,r=null;s!==void 0&&(l=""+s),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(r=n.ref);for(a in n)Pg.call(n,a)&&!Rg.hasOwnProperty(a)&&(i[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)i[a]===void 0&&(i[a]=n[a]);return{$$typeof:Lg,type:e,key:l,ref:r,props:i,_owner:Mg.current}}br.Fragment=Dg;br.jsx=Pm;br.jsxs=Pm;_m.exports=br;var t=_m.exports,Mm={exports:{}},mn={},Rm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(R,X){var A=R.length;R.push(X);e:for(;0<A;){var ie=A-1>>>1,te=R[ie];if(0<i(te,X))R[ie]=X,R[A]=te,A=ie;else break e}}function s(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var X=R[0],A=R.pop();if(A!==X){R[0]=A;e:for(var ie=0,te=R.length,pe=te>>>1;ie<pe;){var G=2*(ie+1)-1,q=R[G],ee=G+1,be=R[ee];if(0>i(q,A))ee<te&&0>i(be,q)?(R[ie]=be,R[ee]=A,ie=ee):(R[ie]=q,R[G]=A,ie=G);else if(ee<te&&0>i(be,A))R[ie]=be,R[ee]=A,ie=ee;else break e}}return X}function i(R,X){var A=R.sortIndex-X.sortIndex;return A!==0?A:R.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var r=Date,o=r.now();e.unstable_now=function(){return r.now()-o}}var c=[],h=[],v=1,f=null,x=3,j=!1,_=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var X=s(h);X!==null;){if(X.callback===null)a(h);else if(X.startTime<=R)a(h),X.sortIndex=X.expirationTime,n(c,X);else break;X=s(h)}}function y(R){if(b=!1,p(R),!_)if(s(c)!==null)_=!0,Y(S);else{var X=s(h);X!==null&&H(y,X.startTime-R)}}function S(R,X){_=!1,b&&(b=!1,m(C),C=-1),j=!0;var A=x;try{for(p(X),f=s(c);f!==null&&(!(f.expirationTime>X)||R&&!O());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,x=f.priorityLevel;var te=ie(f.expirationTime<=X);X=e.unstable_now(),typeof te=="function"?f.callback=te:f===s(c)&&a(c),p(X)}else a(c);f=s(c)}if(f!==null)var pe=!0;else{var G=s(h);G!==null&&H(y,G.startTime-X),pe=!1}return pe}finally{f=null,x=A,j=!1}}var w=!1,k=null,C=-1,T=5,L=-1;function O(){return!(e.unstable_now()-L<T)}function se(){if(k!==null){var R=e.unstable_now();L=R;var X=!0;try{X=k(!0,R)}finally{X?$():(w=!1,k=null)}}else w=!1}var $;if(typeof d=="function")$=function(){d(se)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=se,$=function(){re.postMessage(null)}}else $=function(){g(se,0)};function Y(R){k=R,w||(w=!0,$())}function H(R,X){C=g(function(){R(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){_||j||(_=!0,Y(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var A=x;x=X;try{return R()}finally{x=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,X){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var A=x;x=R;try{return X()}finally{x=A}},e.unstable_scheduleCallback=function(R,X,A){var ie=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ie+A:ie):A=ie,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=A+te,R={id:v++,callback:X,priorityLevel:R,startTime:A,expirationTime:te,sortIndex:-1},A>ie?(R.sortIndex=A,n(h,R),s(c)===null&&R===s(h)&&(b?(m(C),C=-1):b=!0,H(y,A-ie))):(R.sortIndex=te,n(c,R),_||j||(_=!0,Y(S))),R},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(R){var X=x;return function(){var A=x;x=X;try{return R.apply(this,arguments)}finally{x=A}}}})(Am);Rm.exports=Am;var Ag=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=u,hn=Ag;function ce(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zm=new Set,Si={};function ca(e,n){Ma(e,n),Ma(e+"Capture",n)}function Ma(e,n){for(Si[e]=n,e=0;e<n.length;e++)zm.add(n[e])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=Object.prototype.hasOwnProperty,Ig=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gd={},Yd={};function $g(e){return Bo.call(Yd,e)?!0:Bo.call(Gd,e)?!1:Ig.test(e)?Yd[e]=!0:(Gd[e]=!0,!1)}function Fg(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vg(e,n,s,a){if(n===null||typeof n>"u"||Fg(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Qt(e,n,s,a,i,l,r){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=l,this.removeEmptyString=r}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Vt[n]=new Qt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function qc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Wc,qc);Vt[n]=new Qt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Wc,qc);Vt[n]=new Qt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Wc,qc);Vt[n]=new Qt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jc(e,n,s,a){var i=Vt.hasOwnProperty(n)?Vt[n]:null;(i!==null?i.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Vg(n,s,i,a)&&(s=null),a||i===null?$g(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(n=i.attributeName,a=i.attributeNamespace,s===null?e.removeAttribute(n):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var ds=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),pa=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),Qc=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),$m=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),Uo=Symbol.for("react.suspense"),Ho=Symbol.for("react.suspense_list"),Gc=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),Fm=Symbol.for("react.offscreen"),Zd=Symbol.iterator;function Qa(e){return e===null||typeof e!="object"?null:(e=Zd&&e[Zd]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,qr;function ui(e){if(qr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||""}return`
`+qr+e}var Jr=!1;function Qr(e,n){if(!e||Jr)return"";Jr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(h){var a=h}Reflect.construct(e,[],n)}else{try{n.call()}catch(h){a=h}e.call(n.prototype)}else{try{throw Error()}catch(h){a=h}e()}}catch(h){if(h&&a&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),l=a.stack.split(`
`),r=i.length-1,o=l.length-1;1<=r&&0<=o&&i[r]!==l[o];)o--;for(;1<=r&&0<=o;r--,o--)if(i[r]!==l[o]){if(r!==1||o!==1)do if(r--,o--,0>o||i[r]!==l[o]){var c=`
`+i[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=o);break}}}finally{Jr=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ui(e):""}function Bg(e){switch(e.tag){case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return e=Qr(e.type,!1),e;case 11:return e=Qr(e.type.render,!1),e;case 1:return e=Qr(e.type,!0),e;default:return""}}function Ko(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fa:return"Fragment";case pa:return"Portal";case Oo:return"Profiler";case Qc:return"StrictMode";case Uo:return"Suspense";case Ho:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $m:return(e.displayName||"Context")+".Consumer";case Im:return(e._context.displayName||"Context")+".Provider";case Xc:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gc:return n=e.displayName||null,n!==null?n:Ko(e.type)||"Memo";case Ns:n=e._payload,e=e._init;try{return Ko(e(n))}catch{}}return null}function Og(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(n);case 8:return n===Qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ug(e){var n=Vm(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,l=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(r){a=""+r,l.call(this,r)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ol(e){e._valueTracker||(e._valueTracker=Ug(e))}function Bm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=Vm(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wo(e,n){var s=n.checked;return yt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function eu(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=Is(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Om(e,n){n=n.checked,n!=null&&Jc(e,"checked",n,!1)}function qo(e,n){Om(e,n);var s=Is(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Jo(e,n.type,s):n.hasOwnProperty("defaultValue")&&Jo(e,n.type,Is(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function tu(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Jo(e,n,s){(n!=="number"||Ol(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var hi=Array.isArray;function Sa(e,n,s,a){if(e=e.options,n){n={};for(var i=0;i<s.length;i++)n["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=n.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Is(s),n=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function Qo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ce(91));return yt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nu(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(ce(92));if(hi(s)){if(1<s.length)throw Error(ce(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Is(s)}}function Um(e,n){var s=Is(n.value),a=Is(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function su(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Hm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Hm(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cl,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,i){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(cl=cl||document.createElement("div"),cl.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=cl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ti(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hg=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(e){Hg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),gi[n]=gi[e]})});function Wm(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||gi.hasOwnProperty(e)&&gi[e]?(""+n).trim():n+"px"}function qm(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,i=Wm(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,i):e[s]=i}}var Kg=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(e,n){if(n){if(Kg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ce(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ce(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ce(62))}}function Yo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ec=null,Ta=null,Ea=null;function au(e){if(e=Gi(e)){if(typeof ec!="function")throw Error(ce(280));var n=e.stateNode;n&&(n=Tr(n),ec(e.stateNode,e.type,n))}}function Jm(e){Ta?Ea?Ea.push(e):Ea=[e]:Ta=e}function Qm(){if(Ta){var e=Ta,n=Ea;if(Ea=Ta=null,au(e),n)for(e=0;e<n.length;e++)au(n[e])}}function Xm(e,n){return e(n)}function Gm(){}var Xr=!1;function Ym(e,n,s){if(Xr)return e(n,s);Xr=!0;try{return Xm(e,n,s)}finally{Xr=!1,(Ta!==null||Ea!==null)&&(Gm(),Qm())}}function Ei(e,n){var s=e.stateNode;if(s===null)return null;var a=Tr(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ce(231,n,typeof s));return s}var tc=!1;if(is)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){tc=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{tc=!1}function Wg(e,n,s,a,i,l,r,o,c){var h=Array.prototype.slice.call(arguments,3);try{n.apply(s,h)}catch(v){this.onError(v)}}var xi=!1,Ul=null,Hl=!1,nc=null,qg={onError:function(e){xi=!0,Ul=e}};function Jg(e,n,s,a,i,l,r,o,c){xi=!1,Ul=null,Wg.apply(qg,arguments)}function Qg(e,n,s,a,i,l,r,o,c){if(Jg.apply(this,arguments),xi){if(xi){var h=Ul;xi=!1,Ul=null}else throw Error(ce(198));Hl||(Hl=!0,nc=h)}}function da(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Zm(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function iu(e){if(da(e)!==e)throw Error(ce(188))}function Xg(e){var n=e.alternate;if(!n){if(n=da(e),n===null)throw Error(ce(188));return n!==e?null:e}for(var s=e,a=n;;){var i=s.return;if(i===null)break;var l=i.alternate;if(l===null){if(a=i.return,a!==null){s=a;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===s)return iu(i),e;if(l===a)return iu(i),n;l=l.sibling}throw Error(ce(188))}if(s.return!==a.return)s=i,a=l;else{for(var r=!1,o=i.child;o;){if(o===s){r=!0,s=i,a=l;break}if(o===a){r=!0,a=i,s=l;break}o=o.sibling}if(!r){for(o=l.child;o;){if(o===s){r=!0,s=l,a=i;break}if(o===a){r=!0,a=l,s=i;break}o=o.sibling}if(!r)throw Error(ce(189))}}if(s.alternate!==a)throw Error(ce(190))}if(s.tag!==3)throw Error(ce(188));return s.stateNode.current===s?e:n}function ep(e){return e=Xg(e),e!==null?tp(e):null}function tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=tp(e);if(n!==null)return n;e=e.sibling}return null}var np=hn.unstable_scheduleCallback,lu=hn.unstable_cancelCallback,Gg=hn.unstable_shouldYield,Yg=hn.unstable_requestPaint,kt=hn.unstable_now,Zg=hn.unstable_getCurrentPriorityLevel,Zc=hn.unstable_ImmediatePriority,sp=hn.unstable_UserBlockingPriority,Kl=hn.unstable_NormalPriority,ex=hn.unstable_LowPriority,ap=hn.unstable_IdlePriority,wr=null,Wn=null;function tx(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(wr,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:ax,nx=Math.log,sx=Math.LN2;function ax(e){return e>>>=0,e===0?32:31-(nx(e)/sx|0)|0}var dl=64,ul=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,i=e.suspendedLanes,l=e.pingedLanes,r=s&268435455;if(r!==0){var o=r&~i;o!==0?a=mi(o):(l&=r,l!==0&&(a=mi(l)))}else r=s&~i,r!==0?a=mi(r):l!==0&&(a=mi(l));if(a===0)return 0;if(n!==0&&n!==a&&!(n&i)&&(i=a&-a,l=n&-n,i>=l||i===16&&(l&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Dn(n),i=1<<s,a|=e[s],n&=~i;return a}function ix(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lx(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var r=31-Dn(l),o=1<<r,c=i[r];c===-1?(!(o&s)||o&a)&&(i[r]=ix(o,n)):c<=n&&(e.expiredLanes|=o),l&=~o}}function sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ip(){var e=dl;return dl<<=1,!(dl&4194240)&&(dl=64),e}function Gr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Qi(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Dn(n),e[n]=s}function rx(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Dn(s),l=1<<i;n[i]=0,a[i]=-1,e[i]=-1,s&=~l}}function ed(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Dn(s),i=1<<a;i&n|e[a]&n&&(e[a]|=n),s&=~i}}var at=0;function lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rp,td,op,cp,dp,ac=!1,hl=[],Es=null,Ls=null,Ds=null,Li=new Map,Di=new Map,ws=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ru(e,n){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Li.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(n.pointerId)}}function Ga(e,n,s,a,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:l,targetContainers:[i]},n!==null&&(n=Gi(n),n!==null&&td(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function cx(e,n,s,a,i){switch(n){case"focusin":return Es=Ga(Es,e,n,s,a,i),!0;case"dragenter":return Ls=Ga(Ls,e,n,s,a,i),!0;case"mouseover":return Ds=Ga(Ds,e,n,s,a,i),!0;case"pointerover":var l=i.pointerId;return Li.set(l,Ga(Li.get(l)||null,e,n,s,a,i)),!0;case"gotpointercapture":return l=i.pointerId,Di.set(l,Ga(Di.get(l)||null,e,n,s,a,i)),!0}return!1}function up(e){var n=Xs(e.target);if(n!==null){var s=da(n);if(s!==null){if(n=s.tag,n===13){if(n=Zm(s),n!==null){e.blockedOn=n,dp(e.priority,function(){op(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ic(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Zo=a,s.target.dispatchEvent(a),Zo=null}else return n=Gi(s),n!==null&&td(n),e.blockedOn=s,!1;n.shift()}return!0}function ou(e,n,s){Ll(e)&&s.delete(n)}function dx(){ac=!1,Es!==null&&Ll(Es)&&(Es=null),Ls!==null&&Ll(Ls)&&(Ls=null),Ds!==null&&Ll(Ds)&&(Ds=null),Li.forEach(ou),Di.forEach(ou)}function Ya(e,n){e.blockedOn===n&&(e.blockedOn=null,ac||(ac=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,dx)))}function Pi(e){function n(i){return Ya(i,e)}if(0<hl.length){Ya(hl[0],e);for(var s=1;s<hl.length;s++){var a=hl[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Es!==null&&Ya(Es,e),Ls!==null&&Ya(Ls,e),Ds!==null&&Ya(Ds,e),Li.forEach(n),Di.forEach(n),s=0;s<ws.length;s++)a=ws[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<ws.length&&(s=ws[0],s.blockedOn===null);)up(s),s.blockedOn===null&&ws.shift()}var La=ds.ReactCurrentBatchConfig,ql=!0;function ux(e,n,s,a){var i=at,l=La.transition;La.transition=null;try{at=1,nd(e,n,s,a)}finally{at=i,La.transition=l}}function hx(e,n,s,a){var i=at,l=La.transition;La.transition=null;try{at=4,nd(e,n,s,a)}finally{at=i,La.transition=l}}function nd(e,n,s,a){if(ql){var i=ic(e,n,s,a);if(i===null)ro(e,n,a,Jl,s),ru(e,a);else if(cx(i,e,n,s,a))a.stopPropagation();else if(ru(e,a),n&4&&-1<ox.indexOf(e)){for(;i!==null;){var l=Gi(i);if(l!==null&&rp(l),l=ic(e,n,s,a),l===null&&ro(e,n,a,Jl,s),l===i)break;i=l}i!==null&&a.stopPropagation()}else ro(e,n,a,null,s)}}var Jl=null;function ic(e,n,s,a){if(Jl=null,e=Yc(a),e=Xs(e),e!==null)if(n=da(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Zm(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Jl=e,null}function hp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case Zc:return 1;case sp:return 4;case Kl:case ex:return 16;case ap:return 536870912;default:return 16}default:return 16}}var Cs=null,sd=null,Dl=null;function mp(){if(Dl)return Dl;var e,n=sd,s=n.length,a,i="value"in Cs?Cs.value:Cs.textContent,l=i.length;for(e=0;e<s&&n[e]===i[e];e++);var r=s-e;for(a=1;a<=r&&n[s-a]===i[l-a];a++);return Dl=i.slice(e,1<a?1-a:void 0)}function Pl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function cu(){return!1}function pn(e){function n(s,a,i,l,r){this._reactName=s,this._targetInst=i,this.type=a,this.nativeEvent=l,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ml:cu,this.isPropagationStopped=cu,this}return yt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),n}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=pn(Ha),Xi=yt({},Ha,{view:0,detail:0}),mx=pn(Xi),Yr,Zr,Za,kr=yt({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Za&&(Za&&e.type==="mousemove"?(Yr=e.screenX-Za.screenX,Zr=e.screenY-Za.screenY):Zr=Yr=0,Za=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),du=pn(kr),px=yt({},kr,{dataTransfer:0}),fx=pn(px),gx=yt({},Xi,{relatedTarget:0}),eo=pn(gx),xx=yt({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=pn(xx),jx=yt({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yx=pn(jx),_x=yt({},Ha,{data:0}),uu=pn(_x),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wx[e])?!!n[e]:!1}function id(){return kx}var Cx=yt({},Xi,{key:function(e){if(e.key){var n=Nx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sx=pn(Cx),Tx=yt({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=pn(Tx),Ex=yt({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),Lx=pn(Ex),Dx=yt({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Px=pn(Dx),Mx=yt({},kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rx=pn(Mx),Ax=[9,13,27,32],ld=is&&"CompositionEvent"in window,vi=null;is&&"documentMode"in document&&(vi=document.documentMode);var zx=is&&"TextEvent"in window&&!vi,pp=is&&(!ld||vi&&8<vi&&11>=vi),mu=" ",pu=!1;function fp(e,n){switch(e){case"keyup":return Ax.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function Ix(e,n){switch(e){case"compositionend":return gp(n);case"keypress":return n.which!==32?null:(pu=!0,mu);case"textInput":return e=n.data,e===mu&&pu?null:e;default:return null}}function $x(e,n){if(ga)return e==="compositionend"||!ld&&fp(e,n)?(e=mp(),Dl=sd=Cs=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pp&&n.locale!=="ko"?null:n.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fx[e.type]:n==="textarea"}function xp(e,n,s,a){Jm(a),n=Ql(n,"onChange"),0<n.length&&(s=new ad("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var ji=null,Mi=null;function Vx(e){Tp(e,0)}function Cr(e){var n=ja(e);if(Bm(n))return e}function Bx(e,n){if(e==="change")return n}var vp=!1;if(is){var to;if(is){var no="oninput"in document;if(!no){var gu=document.createElement("div");gu.setAttribute("oninput","return;"),no=typeof gu.oninput=="function"}to=no}else to=!1;vp=to&&(!document.documentMode||9<document.documentMode)}function xu(){ji&&(ji.detachEvent("onpropertychange",jp),Mi=ji=null)}function jp(e){if(e.propertyName==="value"&&Cr(Mi)){var n=[];xp(n,Mi,e,Yc(e)),Ym(Vx,n)}}function Ox(e,n,s){e==="focusin"?(xu(),ji=n,Mi=s,ji.attachEvent("onpropertychange",jp)):e==="focusout"&&xu()}function Ux(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(Mi)}function Hx(e,n){if(e==="click")return Cr(n)}function Kx(e,n){if(e==="input"||e==="change")return Cr(n)}function Wx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:Wx;function Ri(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var i=s[a];if(!Bo.call(n,i)||!An(e[i],n[i]))return!1}return!0}function vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ju(e,n){var s=vu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vu(s)}}function yp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _p(){for(var e=window,n=Ol();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ol(e.document)}return n}function rd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function qx(e){var n=_p(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&yp(s.ownerDocument.documentElement,s)){if(a!==null&&rd(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,l=Math.min(a.start,i);a=a.end===void 0?l:Math.min(a.end,i),!e.extend&&l>a&&(i=a,a=l,l=i),i=ju(s,l);var r=ju(s,a);i&&r&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),l>a?(e.addRange(n),e.extend(r.node,r.offset)):(n.setEnd(r.node,r.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jx=is&&"documentMode"in document&&11>=document.documentMode,xa=null,lc=null,yi=null,rc=!1;function yu(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rc||xa==null||xa!==Ol(a)||(a=xa,"selectionStart"in a&&rd(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),yi&&Ri(yi,a)||(yi=a,a=Ql(lc,"onSelect"),0<a.length&&(n=new ad("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=xa)))}function pl(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var va={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},so={},Np={};is&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Sr(e){if(so[e])return so[e];if(!va[e])return e;var n=va[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Np)return so[e]=n[s];return e}var bp=Sr("animationend"),wp=Sr("animationiteration"),kp=Sr("animationstart"),Cp=Sr("transitionend"),Sp=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(e,n){Sp.set(e,n),ca(n,[e])}for(var ao=0;ao<_u.length;ao++){var io=_u[ao],Qx=io.toLowerCase(),Xx=io[0].toUpperCase()+io.slice(1);Fs(Qx,"on"+Xx)}Fs(bp,"onAnimationEnd");Fs(wp,"onAnimationIteration");Fs(kp,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(Cp,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Nu(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,Qg(a,n,void 0,e),e.currentTarget=null}function Tp(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],i=a.event;a=a.listeners;e:{var l=void 0;if(n)for(var r=a.length-1;0<=r;r--){var o=a[r],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==l&&i.isPropagationStopped())break e;Nu(i,o,h),l=c}else for(r=0;r<a.length;r++){if(o=a[r],c=o.instance,h=o.currentTarget,o=o.listener,c!==l&&i.isPropagationStopped())break e;Nu(i,o,h),l=c}}}if(Hl)throw e=nc,Hl=!1,nc=null,e}function ht(e,n){var s=n[hc];s===void 0&&(s=n[hc]=new Set);var a=e+"__bubble";s.has(a)||(Ep(n,e,2,!1),s.add(a))}function lo(e,n,s){var a=0;n&&(a|=4),Ep(s,e,a,n)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[fl]){e[fl]=!0,zm.forEach(function(s){s!=="selectionchange"&&(Gx.has(s)||lo(s,!1,e),lo(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fl]||(n[fl]=!0,lo("selectionchange",!1,n))}}function Ep(e,n,s,a){switch(hp(n)){case 1:var i=ux;break;case 4:i=hx;break;default:i=nd}s=i.bind(null,n,s,e),i=void 0,!tc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(n,s,{capture:!0,passive:i}):e.addEventListener(n,s,!0):i!==void 0?e.addEventListener(n,s,{passive:i}):e.addEventListener(n,s,!1)}function ro(e,n,s,a,i){var l=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var o=a.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(r===4)for(r=a.return;r!==null;){var c=r.tag;if((c===3||c===4)&&(c=r.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;r=r.return}for(;o!==null;){if(r=Xs(o),r===null)return;if(c=r.tag,c===5||c===6){a=l=r;continue e}o=o.parentNode}}a=a.return}Ym(function(){var h=l,v=Yc(s),f=[];e:{var x=Sp.get(e);if(x!==void 0){var j=ad,_=e;switch(e){case"keypress":if(Pl(s)===0)break e;case"keydown":case"keyup":j=Sx;break;case"focusin":_="focus",j=eo;break;case"focusout":_="blur",j=eo;break;case"beforeblur":case"afterblur":j=eo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Lx;break;case bp:case wp:case kp:j=vx;break;case Cp:j=Px;break;case"scroll":j=mx;break;case"wheel":j=Rx;break;case"copy":case"cut":case"paste":j=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=hu}var b=(n&4)!==0,g=!b&&e==="scroll",m=b?x!==null?x+"Capture":null:x;b=[];for(var d=h,p;d!==null;){p=d;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,m!==null&&(y=Ei(d,m),y!=null&&b.push(zi(d,y,p)))),g)break;d=d.return}0<b.length&&(x=new j(x,_,null,s,v),f.push({event:x,listeners:b}))}}if(!(n&7)){e:{if(x=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",x&&s!==Zo&&(_=s.relatedTarget||s.fromElement)&&(Xs(_)||_[ls]))break e;if((j||x)&&(x=v.window===v?v:(x=v.ownerDocument)?x.defaultView||x.parentWindow:window,j?(_=s.relatedTarget||s.toElement,j=h,_=_?Xs(_):null,_!==null&&(g=da(_),_!==g||_.tag!==5&&_.tag!==6)&&(_=null)):(j=null,_=h),j!==_)){if(b=du,y="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(b=hu,y="onPointerLeave",m="onPointerEnter",d="pointer"),g=j==null?x:ja(j),p=_==null?x:ja(_),x=new b(y,d+"leave",j,s,v),x.target=g,x.relatedTarget=p,y=null,Xs(v)===h&&(b=new b(m,d+"enter",_,s,v),b.target=p,b.relatedTarget=g,y=b),g=y,j&&_)t:{for(b=j,m=_,d=0,p=b;p;p=ua(p))d++;for(p=0,y=m;y;y=ua(y))p++;for(;0<d-p;)b=ua(b),d--;for(;0<p-d;)m=ua(m),p--;for(;d--;){if(b===m||m!==null&&b===m.alternate)break t;b=ua(b),m=ua(m)}b=null}else b=null;j!==null&&bu(f,x,j,b,!1),_!==null&&g!==null&&bu(f,g,_,b,!0)}}e:{if(x=h?ja(h):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var S=Bx;else if(fu(x))if(vp)S=Kx;else{S=Ux;var w=Ox}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=Hx);if(S&&(S=S(e,h))){xp(f,S,s,v);break e}w&&w(e,x,h),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&Jo(x,"number",x.value)}switch(w=h?ja(h):window,e){case"focusin":(fu(w)||w.contentEditable==="true")&&(xa=w,lc=h,yi=null);break;case"focusout":yi=lc=xa=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,yu(f,s,v);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":yu(f,s,v)}var k;if(ld)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ga?fp(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(pp&&s.locale!=="ko"&&(ga||C!=="onCompositionStart"?C==="onCompositionEnd"&&ga&&(k=mp()):(Cs=v,sd="value"in Cs?Cs.value:Cs.textContent,ga=!0)),w=Ql(h,C),0<w.length&&(C=new uu(C,e,null,s,v),f.push({event:C,listeners:w}),k?C.data=k:(k=gp(s),k!==null&&(C.data=k)))),(k=zx?Ix(e,s):$x(e,s))&&(h=Ql(h,"onBeforeInput"),0<h.length&&(v=new uu("onBeforeInput","beforeinput",null,s,v),f.push({event:v,listeners:h}),v.data=k))}Tp(f,n)})}function zi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ql(e,n){for(var s=n+"Capture",a=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Ei(e,s),l!=null&&a.unshift(zi(e,l,i)),l=Ei(e,n),l!=null&&a.push(zi(e,l,i))),e=e.return}return a}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bu(e,n,s,a,i){for(var l=n._reactName,r=[];s!==null&&s!==a;){var o=s,c=o.alternate,h=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&h!==null&&(o=h,i?(c=Ei(s,l),c!=null&&r.unshift(zi(s,c,o))):i||(c=Ei(s,l),c!=null&&r.push(zi(s,c,o)))),s=s.return}r.length!==0&&e.push({event:n,listeners:r})}var Yx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function wu(e){return(typeof e=="string"?e:""+e).replace(Yx,`
`).replace(Zx,"")}function gl(e,n,s){if(n=wu(n),wu(e)!==n&&s)throw Error(ce(425))}function Xl(){}var oc=null,cc=null;function dc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uc=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(nv)}:uc;function nv(e){setTimeout(function(){throw e})}function oo(e,n){var s=n,a=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(a===0){e.removeChild(i),Pi(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=i}while(s);Pi(n)}function Ps(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Cu(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ka,Ii="__reactProps$"+Ka,ls="__reactContainer$"+Ka,hc="__reactEvents$"+Ka,sv="__reactListeners$"+Ka,av="__reactHandles$"+Ka;function Xs(e){var n=e[Hn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ls]||s[Hn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Cu(e);e!==null;){if(s=e[Hn])return s;e=Cu(e)}return n}e=s,s=e.parentNode}return null}function Gi(e){return e=e[Hn]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ja(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Tr(e){return e[Ii]||null}var mc=[],ya=-1;function Vs(e){return{current:e}}function mt(e){0>ya||(e.current=mc[ya],mc[ya]=null,ya--)}function dt(e,n){ya++,mc[ya]=e.current,e.current=n}var $s={},Kt=Vs($s),tn=Vs(!1),sa=$s;function Ra(e,n){var s=e.type.contextTypes;if(!s)return $s;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in s)i[l]=n[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function Gl(){mt(tn),mt(Kt)}function Su(e,n,s){if(Kt.current!==$s)throw Error(ce(168));dt(Kt,n),dt(tn,s)}function Lp(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var i in a)if(!(i in n))throw Error(ce(108,Og(e)||"Unknown",i));return yt({},s,a)}function Yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$s,sa=Kt.current,dt(Kt,e),dt(tn,tn.current),!0}function Tu(e,n,s){var a=e.stateNode;if(!a)throw Error(ce(169));s?(e=Lp(e,n,sa),a.__reactInternalMemoizedMergedChildContext=e,mt(tn),mt(Kt),dt(Kt,e)):mt(tn),dt(tn,s)}var es=null,Er=!1,co=!1;function Dp(e){es===null?es=[e]:es.push(e)}function iv(e){Er=!0,Dp(e)}function Bs(){if(!co&&es!==null){co=!0;var e=0,n=at;try{var s=es;for(at=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}es=null,Er=!1}catch(i){throw es!==null&&(es=es.slice(e+1)),np(Zc,Bs),i}finally{at=n,co=!1}}return null}var _a=[],Na=0,Zl=null,er=0,vn=[],jn=0,aa=null,ts=1,ns="";function Ws(e,n){_a[Na++]=er,_a[Na++]=Zl,Zl=e,er=n}function Pp(e,n,s){vn[jn++]=ts,vn[jn++]=ns,vn[jn++]=aa,aa=e;var a=ts;e=ns;var i=32-Dn(a)-1;a&=~(1<<i),s+=1;var l=32-Dn(n)+i;if(30<l){var r=i-i%5;l=(a&(1<<r)-1).toString(32),a>>=r,i-=r,ts=1<<32-Dn(n)+i|s<<i|a,ns=l+e}else ts=1<<l|s<<i|a,ns=e}function od(e){e.return!==null&&(Ws(e,1),Pp(e,1,0))}function cd(e){for(;e===Zl;)Zl=_a[--Na],_a[Na]=null,er=_a[--Na],_a[Na]=null;for(;e===aa;)aa=vn[--jn],vn[jn]=null,ns=vn[--jn],vn[jn]=null,ts=vn[--jn],vn[jn]=null}var un=null,dn=null,ft=!1,En=null;function Mp(e,n){var s=yn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Eu(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,un=e,dn=Ps(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,un=e,dn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=aa!==null?{id:ts,overflow:ns}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=yn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,un=e,dn=null,!0):!1;default:return!1}}function pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fc(e){if(ft){var n=dn;if(n){var s=n;if(!Eu(e,n)){if(pc(e))throw Error(ce(418));n=Ps(s.nextSibling);var a=un;n&&Eu(e,n)?Mp(a,s):(e.flags=e.flags&-4097|2,ft=!1,un=e)}}else{if(pc(e))throw Error(ce(418));e.flags=e.flags&-4097|2,ft=!1,un=e}}}function Lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function xl(e){if(e!==un)return!1;if(!ft)return Lu(e),ft=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!dc(e.type,e.memoizedProps)),n&&(n=dn)){if(pc(e))throw Rp(),Error(ce(418));for(;n;)Mp(e,n),n=Ps(n.nextSibling)}if(Lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){dn=Ps(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}dn=null}}else dn=un?Ps(e.stateNode.nextSibling):null;return!0}function Rp(){for(var e=dn;e;)e=Ps(e.nextSibling)}function Aa(){dn=un=null,ft=!1}function dd(e){En===null?En=[e]:En.push(e)}var lv=ds.ReactCurrentBatchConfig;function ei(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ce(309));var a=s.stateNode}if(!a)throw Error(ce(147,e));var i=a,l=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===l?n.ref:(n=function(r){var o=i.refs;r===null?delete o[l]:o[l]=r},n._stringRef=l,n)}if(typeof e!="string")throw Error(ce(284));if(!s._owner)throw Error(ce(290,e))}return e}function vl(e,n){throw e=Object.prototype.toString.call(n),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Du(e){var n=e._init;return n(e._payload)}function Ap(e){function n(m,d){if(e){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function s(m,d){if(!e)return null;for(;d!==null;)n(m,d),d=d.sibling;return null}function a(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function i(m,d){return m=zs(m,d),m.index=0,m.sibling=null,m}function l(m,d,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=2,d):p):(m.flags|=2,d)):(m.flags|=1048576,d)}function r(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,d,p,y){return d===null||d.tag!==6?(d=xo(p,m.mode,y),d.return=m,d):(d=i(d,p),d.return=m,d)}function c(m,d,p,y){var S=p.type;return S===fa?v(m,d,p.props.children,y,p.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&Du(S)===d.type)?(y=i(d,p.props),y.ref=ei(m,d,p),y.return=m,y):(y=Fl(p.type,p.key,p.props,null,m.mode,y),y.ref=ei(m,d,p),y.return=m,y)}function h(m,d,p,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=vo(p,m.mode,y),d.return=m,d):(d=i(d,p.children||[]),d.return=m,d)}function v(m,d,p,y,S){return d===null||d.tag!==7?(d=na(p,m.mode,y,S),d.return=m,d):(d=i(d,p),d.return=m,d)}function f(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=xo(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case rl:return p=Fl(d.type,d.key,d.props,null,m.mode,p),p.ref=ei(m,null,d),p.return=m,p;case pa:return d=vo(d,m.mode,p),d.return=m,d;case Ns:var y=d._init;return f(m,y(d._payload),p)}if(hi(d)||Qa(d))return d=na(d,m.mode,p,null),d.return=m,d;vl(m,d)}return null}function x(m,d,p,y){var S=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:o(m,d,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rl:return p.key===S?c(m,d,p,y):null;case pa:return p.key===S?h(m,d,p,y):null;case Ns:return S=p._init,x(m,d,S(p._payload),y)}if(hi(p)||Qa(p))return S!==null?null:v(m,d,p,y,null);vl(m,p)}return null}function j(m,d,p,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(p)||null,o(d,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rl:return m=m.get(y.key===null?p:y.key)||null,c(d,m,y,S);case pa:return m=m.get(y.key===null?p:y.key)||null,h(d,m,y,S);case Ns:var w=y._init;return j(m,d,p,w(y._payload),S)}if(hi(y)||Qa(y))return m=m.get(p)||null,v(d,m,y,S,null);vl(d,y)}return null}function _(m,d,p,y){for(var S=null,w=null,k=d,C=d=0,T=null;k!==null&&C<p.length;C++){k.index>C?(T=k,k=null):T=k.sibling;var L=x(m,k,p[C],y);if(L===null){k===null&&(k=T);break}e&&k&&L.alternate===null&&n(m,k),d=l(L,d,C),w===null?S=L:w.sibling=L,w=L,k=T}if(C===p.length)return s(m,k),ft&&Ws(m,C),S;if(k===null){for(;C<p.length;C++)k=f(m,p[C],y),k!==null&&(d=l(k,d,C),w===null?S=k:w.sibling=k,w=k);return ft&&Ws(m,C),S}for(k=a(m,k);C<p.length;C++)T=j(k,m,C,p[C],y),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),d=l(T,d,C),w===null?S=T:w.sibling=T,w=T);return e&&k.forEach(function(O){return n(m,O)}),ft&&Ws(m,C),S}function b(m,d,p,y){var S=Qa(p);if(typeof S!="function")throw Error(ce(150));if(p=S.call(p),p==null)throw Error(ce(151));for(var w=S=null,k=d,C=d=0,T=null,L=p.next();k!==null&&!L.done;C++,L=p.next()){k.index>C?(T=k,k=null):T=k.sibling;var O=x(m,k,L.value,y);if(O===null){k===null&&(k=T);break}e&&k&&O.alternate===null&&n(m,k),d=l(O,d,C),w===null?S=O:w.sibling=O,w=O,k=T}if(L.done)return s(m,k),ft&&Ws(m,C),S;if(k===null){for(;!L.done;C++,L=p.next())L=f(m,L.value,y),L!==null&&(d=l(L,d,C),w===null?S=L:w.sibling=L,w=L);return ft&&Ws(m,C),S}for(k=a(m,k);!L.done;C++,L=p.next())L=j(k,m,C,L.value,y),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?C:L.key),d=l(L,d,C),w===null?S=L:w.sibling=L,w=L);return e&&k.forEach(function(se){return n(m,se)}),ft&&Ws(m,C),S}function g(m,d,p,y){if(typeof p=="object"&&p!==null&&p.type===fa&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case rl:e:{for(var S=p.key,w=d;w!==null;){if(w.key===S){if(S=p.type,S===fa){if(w.tag===7){s(m,w.sibling),d=i(w,p.props.children),d.return=m,m=d;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&Du(S)===w.type){s(m,w.sibling),d=i(w,p.props),d.ref=ei(m,w,p),d.return=m,m=d;break e}s(m,w);break}else n(m,w);w=w.sibling}p.type===fa?(d=na(p.props.children,m.mode,y,p.key),d.return=m,m=d):(y=Fl(p.type,p.key,p.props,null,m.mode,y),y.ref=ei(m,d,p),y.return=m,m=y)}return r(m);case pa:e:{for(w=p.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){s(m,d.sibling),d=i(d,p.children||[]),d.return=m,m=d;break e}else{s(m,d);break}else n(m,d);d=d.sibling}d=vo(p,m.mode,y),d.return=m,m=d}return r(m);case Ns:return w=p._init,g(m,d,w(p._payload),y)}if(hi(p))return _(m,d,p,y);if(Qa(p))return b(m,d,p,y);vl(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(s(m,d.sibling),d=i(d,p),d.return=m,m=d):(s(m,d),d=xo(p,m.mode,y),d.return=m,m=d),r(m)):s(m,d)}return g}var za=Ap(!0),zp=Ap(!1),tr=Vs(null),nr=null,ba=null,ud=null;function hd(){ud=ba=nr=null}function md(e){var n=tr.current;mt(tr),e._currentValue=n}function gc(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function Da(e,n){nr=e,ud=ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(en=!0),e.firstContext=null)}function Nn(e){var n=e._currentValue;if(ud!==e)if(e={context:e,memoizedValue:n,next:null},ba===null){if(nr===null)throw Error(ce(308));ba=e,nr.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return n}var Gs=null;function pd(e){Gs===null?Gs=[e]:Gs.push(e)}function Ip(e,n,s,a){var i=n.interleaved;return i===null?(s.next=s,pd(n)):(s.next=i.next,i.next=s),n.interleaved=s,rs(e,a)}function rs(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var bs=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,qe&2){var i=a.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n,rs(e,s)}return i=a.interleaved,i===null?(n.next=n,pd(a)):(n.next=i.next,i.next=n),a.interleaved=n,rs(e,s)}function Ml(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,ed(e,s)}}function Pu(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var i=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var r={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?i=l=r:l=l.next=r,s=s.next}while(s!==null);l===null?i=l=n:l=l.next=n}else i=l=n;s={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function sr(e,n,s,a){var i=e.updateQueue;bs=!1;var l=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,h=c.next;c.next=null,r===null?l=h:r.next=h,r=c;var v=e.alternate;v!==null&&(v=v.updateQueue,o=v.lastBaseUpdate,o!==r&&(o===null?v.firstBaseUpdate=h:o.next=h,v.lastBaseUpdate=c))}if(l!==null){var f=i.baseState;r=0,v=h=c=null,o=l;do{var x=o.lane,j=o.eventTime;if((a&x)===x){v!==null&&(v=v.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,b=o;switch(x=n,j=s,b.tag){case 1:if(_=b.payload,typeof _=="function"){f=_.call(j,f,x);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,x=typeof _=="function"?_.call(j,f,x):_,x==null)break e;f=yt({},f,x);break e;case 2:bs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[o]:x.push(o))}else j={eventTime:j,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(h=v=j,c=f):v=v.next=j,r|=x;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;x=o,o=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(v===null&&(c=f),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=v,n=i.shared.interleaved,n!==null){i=n;do r|=i.lane,i=i.next;while(i!==n)}else l===null&&(i.shared.lanes=0);la|=r,e.lanes=r,e.memoizedState=f}}function Mu(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],i=a.callback;if(i!==null){if(a.callback=null,a=s,typeof i!="function")throw Error(ce(191,i));i.call(a)}}}var Yi={},qn=Vs(Yi),$i=Vs(Yi),Fi=Vs(Yi);function Ys(e){if(e===Yi)throw Error(ce(174));return e}function gd(e,n){switch(dt(Fi,n),dt($i,e),dt(qn,Yi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xo(n,e)}mt(qn),dt(qn,n)}function Ia(){mt(qn),mt($i),mt(Fi)}function Fp(e){Ys(Fi.current);var n=Ys(qn.current),s=Xo(n,e.type);n!==s&&(dt($i,e),dt(qn,s))}function xd(e){$i.current===e&&(mt(qn),mt($i))}var vt=Vs(0);function ar(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var uo=[];function vd(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var Rl=ds.ReactCurrentDispatcher,ho=ds.ReactCurrentBatchConfig,ia=0,jt=null,Lt=null,Mt=null,ir=!1,_i=!1,Vi=0,rv=0;function Bt(){throw Error(ce(321))}function jd(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function yd(e,n,s,a,i,l){if(ia=l,jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Rl.current=e===null||e.memoizedState===null?uv:hv,e=s(a,i),_i){l=0;do{if(_i=!1,Vi=0,25<=l)throw Error(ce(301));l+=1,Mt=Lt=null,n.updateQueue=null,Rl.current=mv,e=s(a,i)}while(_i)}if(Rl.current=lr,n=Lt!==null&&Lt.next!==null,ia=0,Mt=Lt=jt=null,ir=!1,n)throw Error(ce(300));return e}function _d(){var e=Vi!==0;return Vi=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?jt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function bn(){if(Lt===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var n=Mt===null?jt.memoizedState:Mt.next;if(n!==null)Mt=n,Lt=e;else{if(e===null)throw Error(ce(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Mt===null?jt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Bi(e,n){return typeof n=="function"?n(e):n}function mo(e){var n=bn(),s=n.queue;if(s===null)throw Error(ce(311));s.lastRenderedReducer=e;var a=Lt,i=a.baseQueue,l=s.pending;if(l!==null){if(i!==null){var r=i.next;i.next=l.next,l.next=r}a.baseQueue=i=l,s.pending=null}if(i!==null){l=i.next,a=a.baseState;var o=r=null,c=null,h=l;do{var v=h.lane;if((ia&v)===v)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),a=h.hasEagerState?h.eagerState:e(a,h.action);else{var f={lane:v,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(o=c=f,r=a):c=c.next=f,jt.lanes|=v,la|=v}h=h.next}while(h!==null&&h!==l);c===null?r=a:c.next=o,An(a,n.memoizedState)||(en=!0),n.memoizedState=a,n.baseState=r,n.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){i=e;do l=i.lane,jt.lanes|=l,la|=l,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function po(e){var n=bn(),s=n.queue;if(s===null)throw Error(ce(311));s.lastRenderedReducer=e;var a=s.dispatch,i=s.pending,l=n.memoizedState;if(i!==null){s.pending=null;var r=i=i.next;do l=e(l,r.action),r=r.next;while(r!==i);An(l,n.memoizedState)||(en=!0),n.memoizedState=l,n.baseQueue===null&&(n.baseState=l),s.lastRenderedState=l}return[l,a]}function Vp(){}function Bp(e,n){var s=jt,a=bn(),i=n(),l=!An(a.memoizedState,i);if(l&&(a.memoizedState=i,en=!0),a=a.queue,Nd(Hp.bind(null,s,a,e),[e]),a.getSnapshot!==n||l||Mt!==null&&Mt.memoizedState.tag&1){if(s.flags|=2048,Oi(9,Up.bind(null,s,a,i,n),void 0,null),At===null)throw Error(ce(349));ia&30||Op(s,n,i)}return i}function Op(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=jt.updateQueue,n===null?(n={lastEffect:null,stores:null},jt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Up(e,n,s,a){n.value=s,n.getSnapshot=a,Kp(n)&&Wp(e)}function Hp(e,n,s){return s(function(){Kp(n)&&Wp(e)})}function Kp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function Wp(e){var n=rs(e,1);n!==null&&Pn(n,e,1,-1)}function Ru(e){var n=Un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n.queue=e,e=e.dispatch=dv.bind(null,jt,e),[n.memoizedState,e]}function Oi(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=jt.updateQueue,n===null?(n={lastEffect:null,stores:null},jt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function qp(){return bn().memoizedState}function Al(e,n,s,a){var i=Un();jt.flags|=e,i.memoizedState=Oi(1|n,s,void 0,a===void 0?null:a)}function Lr(e,n,s,a){var i=bn();a=a===void 0?null:a;var l=void 0;if(Lt!==null){var r=Lt.memoizedState;if(l=r.destroy,a!==null&&jd(a,r.deps)){i.memoizedState=Oi(n,s,l,a);return}}jt.flags|=e,i.memoizedState=Oi(1|n,s,l,a)}function Au(e,n){return Al(8390656,8,e,n)}function Nd(e,n){return Lr(2048,8,e,n)}function Jp(e,n){return Lr(4,2,e,n)}function Qp(e,n){return Lr(4,4,e,n)}function Xp(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gp(e,n,s){return s=s!=null?s.concat([e]):null,Lr(4,4,Xp.bind(null,n,e),s)}function bd(){}function Yp(e,n){var s=bn();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&jd(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function Zp(e,n){var s=bn();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&jd(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function ef(e,n,s){return ia&21?(An(s,n)||(s=ip(),jt.lanes|=s,la|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=s)}function ov(e,n){var s=at;at=s!==0&&4>s?s:4,e(!0);var a=ho.transition;ho.transition={};try{e(!1),n()}finally{at=s,ho.transition=a}}function tf(){return bn().memoizedState}function cv(e,n,s){var a=As(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},nf(e))sf(n,s);else if(s=Ip(e,n,s,a),s!==null){var i=qt();Pn(s,e,a,i),af(s,n,a)}}function dv(e,n,s){var a=As(e),i={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(nf(e))sf(n,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=n.lastRenderedReducer,l!==null))try{var r=n.lastRenderedState,o=l(r,s);if(i.hasEagerState=!0,i.eagerState=o,An(o,r)){var c=n.interleaved;c===null?(i.next=i,pd(n)):(i.next=c.next,c.next=i),n.interleaved=i;return}}catch{}finally{}s=Ip(e,n,i,a),s!==null&&(i=qt(),Pn(s,e,a,i),af(s,n,a))}}function nf(e){var n=e.alternate;return e===jt||n!==null&&n===jt}function sf(e,n){_i=ir=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function af(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,ed(e,s)}}var lr={readContext:Nn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},uv={readContext:Nn,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:Au,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Al(4194308,4,Xp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Al(4194308,4,e,n)},useInsertionEffect:function(e,n){return Al(4,2,e,n)},useMemo:function(e,n){var s=Un();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Un();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=cv.bind(null,jt,e),[a.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:Ru,useDebugValue:bd,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Ru(!1),n=e[0];return e=ov.bind(null,e[1]),Un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=jt,i=Un();if(ft){if(s===void 0)throw Error(ce(407));s=s()}else{if(s=n(),At===null)throw Error(ce(349));ia&30||Op(a,n,s)}i.memoizedState=s;var l={value:s,getSnapshot:n};return i.queue=l,Au(Hp.bind(null,a,l,e),[e]),a.flags|=2048,Oi(9,Up.bind(null,a,l,s,n),void 0,null),s},useId:function(){var e=Un(),n=At.identifierPrefix;if(ft){var s=ns,a=ts;s=(a&~(1<<32-Dn(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Vi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=rv++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},hv={readContext:Nn,useCallback:Yp,useContext:Nn,useEffect:Nd,useImperativeHandle:Gp,useInsertionEffect:Jp,useLayoutEffect:Qp,useMemo:Zp,useReducer:mo,useRef:qp,useState:function(){return mo(Bi)},useDebugValue:bd,useDeferredValue:function(e){var n=bn();return ef(n,Lt.memoizedState,e)},useTransition:function(){var e=mo(Bi)[0],n=bn().memoizedState;return[e,n]},useMutableSource:Vp,useSyncExternalStore:Bp,useId:tf,unstable_isNewReconciler:!1},mv={readContext:Nn,useCallback:Yp,useContext:Nn,useEffect:Nd,useImperativeHandle:Gp,useInsertionEffect:Jp,useLayoutEffect:Qp,useMemo:Zp,useReducer:po,useRef:qp,useState:function(){return po(Bi)},useDebugValue:bd,useDeferredValue:function(e){var n=bn();return Lt===null?n.memoizedState=e:ef(n,Lt.memoizedState,e)},useTransition:function(){var e=po(Bi)[0],n=bn().memoizedState;return[e,n]},useMutableSource:Vp,useSyncExternalStore:Bp,useId:tf,unstable_isNewReconciler:!1};function Cn(e,n){if(e&&e.defaultProps){n=yt({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function xc(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:yt({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Dr={isMounted:function(e){return(e=e._reactInternals)?da(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=qt(),i=As(e),l=ss(a,i);l.payload=n,s!=null&&(l.callback=s),n=Ms(e,l,i),n!==null&&(Pn(n,e,i,a),Ml(n,e,i))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=qt(),i=As(e),l=ss(a,i);l.tag=1,l.payload=n,s!=null&&(l.callback=s),n=Ms(e,l,i),n!==null&&(Pn(n,e,i,a),Ml(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=qt(),a=As(e),i=ss(s,a);i.tag=2,n!=null&&(i.callback=n),n=Ms(e,i,a),n!==null&&(Pn(n,e,a,s),Ml(n,e,a))}};function zu(e,n,s,a,i,l,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,r):n.prototype&&n.prototype.isPureReactComponent?!Ri(s,a)||!Ri(i,l):!0}function lf(e,n,s){var a=!1,i=$s,l=n.contextType;return typeof l=="object"&&l!==null?l=Nn(l):(i=nn(n)?sa:Kt.current,a=n.contextTypes,l=(a=a!=null)?Ra(e,i):$s),n=new n(s,l),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Dr,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),n}function Iu(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&Dr.enqueueReplaceState(n,n.state,null)}function vc(e,n,s,a){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},fd(e);var l=n.contextType;typeof l=="object"&&l!==null?i.context=Nn(l):(l=nn(n)?sa:Kt.current,i.context=Ra(e,l)),i.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(xc(e,n,l,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&Dr.enqueueReplaceState(i,i.state,null),sr(e,s,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $a(e,n){try{var s="",a=n;do s+=Bg(a),a=a.return;while(a);var i=s}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:n,stack:i,digest:null}}function fo(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function jc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var pv=typeof WeakMap=="function"?WeakMap:Map;function rf(e,n,s){s=ss(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){or||(or=!0,Ec=a),jc(e,n)},s}function of(e,n,s){s=ss(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;s.payload=function(){return a(i)},s.callback=function(){jc(e,n)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){jc(e,n),typeof a!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})}),s}function $u(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new pv;var i=new Set;a.set(n,i)}else i=a.get(n),i===void 0&&(i=new Set,a.set(n,i));i.has(s)||(i.add(s),e=Tv.bind(null,e,n,s),n.then(e,e))}function Fu(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Vu(e,n,s,a,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ss(-1,1),n.tag=2,Ms(s,n,1))),s.lanes|=1),e)}var fv=ds.ReactCurrentOwner,en=!1;function Wt(e,n,s,a){n.child=e===null?zp(n,null,s,a):za(n,e.child,s,a)}function Bu(e,n,s,a,i){s=s.render;var l=n.ref;return Da(n,i),a=yd(e,n,s,a,l,i),s=_d(),e!==null&&!en?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,os(e,n,i)):(ft&&s&&od(n),n.flags|=1,Wt(e,n,a,i),n.child)}function Ou(e,n,s,a,i){if(e===null){var l=s.type;return typeof l=="function"&&!Dd(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=l,cf(e,n,l,a,i)):(e=Fl(s.type,null,a,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(l=e.child,!(e.lanes&i)){var r=l.memoizedProps;if(s=s.compare,s=s!==null?s:Ri,s(r,a)&&e.ref===n.ref)return os(e,n,i)}return n.flags|=1,e=zs(l,a),e.ref=n.ref,e.return=n,n.child=e}function cf(e,n,s,a,i){if(e!==null){var l=e.memoizedProps;if(Ri(l,a)&&e.ref===n.ref)if(en=!1,n.pendingProps=a=l,(e.lanes&i)!==0)e.flags&131072&&(en=!0);else return n.lanes=e.lanes,os(e,n,i)}return yc(e,n,s,a,i)}function df(e,n,s){var a=n.pendingProps,i=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(ka,on),on|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,dt(ka,on),on|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:s,dt(ka,on),on|=a}else l!==null?(a=l.baseLanes|s,n.memoizedState=null):a=s,dt(ka,on),on|=a;return Wt(e,n,i,s),n.child}function uf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function yc(e,n,s,a,i){var l=nn(s)?sa:Kt.current;return l=Ra(n,l),Da(n,i),s=yd(e,n,s,a,l,i),a=_d(),e!==null&&!en?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,os(e,n,i)):(ft&&a&&od(n),n.flags|=1,Wt(e,n,s,i),n.child)}function Uu(e,n,s,a,i){if(nn(s)){var l=!0;Yl(n)}else l=!1;if(Da(n,i),n.stateNode===null)zl(e,n),lf(n,s,a),vc(n,s,a,i),a=!0;else if(e===null){var r=n.stateNode,o=n.memoizedProps;r.props=o;var c=r.context,h=s.contextType;typeof h=="object"&&h!==null?h=Nn(h):(h=nn(s)?sa:Kt.current,h=Ra(n,h));var v=s.getDerivedStateFromProps,f=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function";f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==a||c!==h)&&Iu(n,r,a,h),bs=!1;var x=n.memoizedState;r.state=x,sr(n,a,r,i),c=n.memoizedState,o!==a||x!==c||tn.current||bs?(typeof v=="function"&&(xc(n,s,v,a),c=n.memoizedState),(o=bs||zu(n,s,o,a,x,c,h))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(n.flags|=4194308)):(typeof r.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=c),r.props=a,r.state=c,r.context=h,a=o):(typeof r.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{r=n.stateNode,$p(e,n),o=n.memoizedProps,h=n.type===n.elementType?o:Cn(n.type,o),r.props=h,f=n.pendingProps,x=r.context,c=s.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=nn(s)?sa:Kt.current,c=Ra(n,c));var j=s.getDerivedStateFromProps;(v=typeof j=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==f||x!==c)&&Iu(n,r,a,c),bs=!1,x=n.memoizedState,r.state=x,sr(n,a,r,i);var _=n.memoizedState;o!==f||x!==_||tn.current||bs?(typeof j=="function"&&(xc(n,s,j,a),_=n.memoizedState),(h=bs||zu(n,s,h,a,x,_,c)||!1)?(v||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,_,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,_,c)),typeof r.componentDidUpdate=="function"&&(n.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=_),r.props=a,r.state=_,r.context=c,a=h):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),a=!1)}return _c(e,n,s,a,l,i)}function _c(e,n,s,a,i,l){uf(e,n);var r=(n.flags&128)!==0;if(!a&&!r)return i&&Tu(n,s,!1),os(e,n,l);a=n.stateNode,fv.current=n;var o=r&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&r?(n.child=za(n,e.child,null,l),n.child=za(n,null,o,l)):Wt(e,n,o,l),n.memoizedState=a.state,i&&Tu(n,s,!0),n.child}function hf(e){var n=e.stateNode;n.pendingContext?Su(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Su(e,n.context,!1),gd(e,n.containerInfo)}function Hu(e,n,s,a,i){return Aa(),dd(i),n.flags|=256,Wt(e,n,s,a),n.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function bc(e){return{baseLanes:e,cachePool:null,transitions:null}}function mf(e,n,s){var a=n.pendingProps,i=vt.current,l=!1,r=(n.flags&128)!==0,o;if((o=r)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(l=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),dt(vt,i&1),e===null)return fc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(r=a.children,e=a.fallback,l?(a=n.mode,l=n.child,r={mode:"hidden",children:r},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=r):l=Rr(r,a,0,null),e=na(e,a,s,null),l.return=n,e.return=n,l.sibling=e,n.child=l,n.child.memoizedState=bc(s),n.memoizedState=Nc,e):wd(n,r));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return gv(e,n,r,a,o,i,s);if(l){l=a.fallback,r=n.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:a.children};return!(r&1)&&n.child!==i?(a=n.child,a.childLanes=0,a.pendingProps=c,n.deletions=null):(a=zs(i,c),a.subtreeFlags=i.subtreeFlags&14680064),o!==null?l=zs(o,l):(l=na(l,r,s,null),l.flags|=2),l.return=n,a.return=n,a.sibling=l,n.child=a,a=l,l=n.child,r=e.child.memoizedState,r=r===null?bc(s):{baseLanes:r.baseLanes|s,cachePool:null,transitions:r.transitions},l.memoizedState=r,l.childLanes=e.childLanes&~s,n.memoizedState=Nc,a}return l=e.child,e=l.sibling,a=zs(l,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function wd(e,n){return n=Rr({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function jl(e,n,s,a){return a!==null&&dd(a),za(n,e.child,null,s),e=wd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gv(e,n,s,a,i,l,r){if(s)return n.flags&256?(n.flags&=-257,a=fo(Error(ce(422))),jl(e,n,r,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(l=a.fallback,i=n.mode,a=Rr({mode:"visible",children:a.children},i,0,null),l=na(l,i,r,null),l.flags|=2,a.return=n,l.return=n,a.sibling=l,n.child=a,n.mode&1&&za(n,e.child,null,r),n.child.memoizedState=bc(r),n.memoizedState=Nc,l);if(!(n.mode&1))return jl(e,n,r,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var o=a.dgst;return a=o,l=Error(ce(419)),a=fo(l,a,void 0),jl(e,n,r,a)}if(o=(r&e.childLanes)!==0,en||o){if(a=At,a!==null){switch(r&-r){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|r)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,rs(e,i),Pn(a,e,i,-1))}return Ld(),a=fo(Error(ce(421))),jl(e,n,r,a)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=Ev.bind(null,e),i._reactRetry=n,null):(e=l.treeContext,dn=Ps(i.nextSibling),un=n,ft=!0,En=null,e!==null&&(vn[jn++]=ts,vn[jn++]=ns,vn[jn++]=aa,ts=e.id,ns=e.overflow,aa=n),n=wd(n,a.children),n.flags|=4096,n)}function Ku(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),gc(e.return,n,s)}function go(e,n,s,a,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:i}:(l.isBackwards=n,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=s,l.tailMode=i)}function pf(e,n,s){var a=n.pendingProps,i=a.revealOrder,l=a.tail;if(Wt(e,n,a.children,s),a=vt.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,s,n);else if(e.tag===19)Ku(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(dt(vt,a),!(n.mode&1))n.memoizedState=null;else switch(i){case"forwards":for(s=n.child,i=null;s!==null;)e=s.alternate,e!==null&&ar(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=n.child,n.child=null):(i=s.sibling,s.sibling=null),go(n,!1,i,s,l);break;case"backwards":for(s=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&ar(e)===null){n.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}go(n,!0,s,null,l);break;case"together":go(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function os(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),la|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ce(153));if(n.child!==null){for(e=n.child,s=zs(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=zs(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xv(e,n,s){switch(n.tag){case 3:hf(n),Aa();break;case 5:Fp(n);break;case 1:nn(n.type)&&Yl(n);break;case 4:gd(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,i=n.memoizedProps.value;dt(tr,a._currentValue),a._currentValue=i;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(dt(vt,vt.current&1),n.flags|=128,null):s&n.child.childLanes?mf(e,n,s):(dt(vt,vt.current&1),e=os(e,n,s),e!==null?e.sibling:null);dt(vt,vt.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return pf(e,n,s);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(vt,vt.current),a)break;return null;case 22:case 23:return n.lanes=0,df(e,n,s)}return os(e,n,s)}var ff,wc,gf,xf;ff=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};wc=function(){};gf=function(e,n,s,a){var i=e.memoizedProps;if(i!==a){e=n.stateNode,Ys(qn.current);var l=null;switch(s){case"input":i=Wo(e,i),a=Wo(e,a),l=[];break;case"select":i=yt({},i,{value:void 0}),a=yt({},a,{value:void 0}),l=[];break;case"textarea":i=Qo(e,i),a=Qo(e,a),l=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Xl)}Go(s,a);var r;s=null;for(h in i)if(!a.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var o=i[h];for(r in o)o.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Si.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in a){var c=a[h];if(o=i!=null?i[h]:void 0,a.hasOwnProperty(h)&&c!==o&&(c!=null||o!=null))if(h==="style")if(o){for(r in o)!o.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in c)c.hasOwnProperty(r)&&o[r]!==c[r]&&(s||(s={}),s[r]=c[r])}else s||(l||(l=[]),l.push(h,s)),s=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Si.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ht("scroll",e),l||o===c||(l=[])):(l=l||[]).push(h,c))}s&&(l=l||[]).push("style",s);var h=l;(n.updateQueue=h)&&(n.flags|=4)}};xf=function(e,n,s,a){s!==a&&(n.flags|=4)};function ti(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function vv(e,n,s){var a=n.pendingProps;switch(cd(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(n),null;case 1:return nn(n.type)&&Gl(),Ot(n),null;case 3:return a=n.stateNode,Ia(),mt(tn),mt(Kt),vd(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,En!==null&&(Pc(En),En=null))),wc(e,n),Ot(n),null;case 5:xd(n);var i=Ys(Fi.current);if(s=n.type,e!==null&&n.stateNode!=null)gf(e,n,s,a,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(ce(166));return Ot(n),null}if(e=Ys(qn.current),xl(n)){a=n.stateNode,s=n.type;var l=n.memoizedProps;switch(a[Hn]=n,a[Ii]=l,e=(n.mode&1)!==0,s){case"dialog":ht("cancel",a),ht("close",a);break;case"iframe":case"object":case"embed":ht("load",a);break;case"video":case"audio":for(i=0;i<pi.length;i++)ht(pi[i],a);break;case"source":ht("error",a);break;case"img":case"image":case"link":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"input":eu(a,l),ht("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},ht("invalid",a);break;case"textarea":nu(a,l),ht("invalid",a)}Go(s,l),i=null;for(var r in l)if(l.hasOwnProperty(r)){var o=l[r];r==="children"?typeof o=="string"?a.textContent!==o&&(l.suppressHydrationWarning!==!0&&gl(a.textContent,o,e),i=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&gl(a.textContent,o,e),i=["children",""+o]):Si.hasOwnProperty(r)&&o!=null&&r==="onScroll"&&ht("scroll",a)}switch(s){case"input":ol(a),tu(a,l,!0);break;case"textarea":ol(a),su(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Xl)}a=i,n.updateQueue=a,a!==null&&(n.flags|=4)}else{r=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hm(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=r.createElement(s,{is:a.is}):(e=r.createElement(s),s==="select"&&(r=e,a.multiple?r.multiple=!0:a.size&&(r.size=a.size))):e=r.createElementNS(e,s),e[Hn]=n,e[Ii]=a,ff(e,n,!1,!1),n.stateNode=e;e:{switch(r=Yo(s,a),s){case"dialog":ht("cancel",e),ht("close",e),i=a;break;case"iframe":case"object":case"embed":ht("load",e),i=a;break;case"video":case"audio":for(i=0;i<pi.length;i++)ht(pi[i],e);i=a;break;case"source":ht("error",e),i=a;break;case"img":case"image":case"link":ht("error",e),ht("load",e),i=a;break;case"details":ht("toggle",e),i=a;break;case"input":eu(e,a),i=Wo(e,a),ht("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=yt({},a,{value:void 0}),ht("invalid",e);break;case"textarea":nu(e,a),i=Qo(e,a),ht("invalid",e);break;default:i=a}Go(s,i),o=i;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?qm(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Km(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Ti(e,c):typeof c=="number"&&Ti(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Si.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ht("scroll",e):c!=null&&Jc(e,l,c,r))}switch(s){case"input":ol(e),tu(e,a,!1);break;case"textarea":ol(e),su(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Is(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?Sa(e,!!a.multiple,l,!1):a.defaultValue!=null&&Sa(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xl)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ot(n),null;case 6:if(e&&n.stateNode!=null)xf(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(ce(166));if(s=Ys(Fi.current),Ys(qn.current),xl(n)){if(a=n.stateNode,s=n.memoizedProps,a[Hn]=n,(l=a.nodeValue!==s)&&(e=un,e!==null))switch(e.tag){case 3:gl(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gl(a.nodeValue,s,(e.mode&1)!==0)}l&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Hn]=n,n.stateNode=a}return Ot(n),null;case 13:if(mt(vt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&dn!==null&&n.mode&1&&!(n.flags&128))Rp(),Aa(),n.flags|=98560,l=!1;else if(l=xl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(ce(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ce(317));l[Hn]=n}else Aa(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ot(n),l=!1}else En!==null&&(Pc(En),En=null),l=!0;if(!l)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||vt.current&1?Dt===0&&(Dt=3):Ld())),n.updateQueue!==null&&(n.flags|=4),Ot(n),null);case 4:return Ia(),wc(e,n),e===null&&Ai(n.stateNode.containerInfo),Ot(n),null;case 10:return md(n.type._context),Ot(n),null;case 17:return nn(n.type)&&Gl(),Ot(n),null;case 19:if(mt(vt),l=n.memoizedState,l===null)return Ot(n),null;if(a=(n.flags&128)!==0,r=l.rendering,r===null)if(a)ti(l,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(r=ar(e),r!==null){for(n.flags|=128,ti(l,!1),a=r.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)l=s,e=a,l.flags&=14680066,r=l.alternate,r===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,l.type=r.type,e=r.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return dt(vt,vt.current&1|2),n.child}e=e.sibling}l.tail!==null&&kt()>Fa&&(n.flags|=128,a=!0,ti(l,!1),n.lanes=4194304)}else{if(!a)if(e=ar(r),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),ti(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!ft)return Ot(n),null}else 2*kt()-l.renderingStartTime>Fa&&s!==1073741824&&(n.flags|=128,a=!0,ti(l,!1),n.lanes=4194304);l.isBackwards?(r.sibling=n.child,n.child=r):(s=l.last,s!==null?s.sibling=r:n.child=r,l.last=r)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=kt(),n.sibling=null,s=vt.current,dt(vt,a?s&1|2:s&1),n):(Ot(n),null);case 22:case 23:return Ed(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?on&1073741824&&(Ot(n),n.subtreeFlags&6&&(n.flags|=8192)):Ot(n),null;case 24:return null;case 25:return null}throw Error(ce(156,n.tag))}function jv(e,n){switch(cd(n),n.tag){case 1:return nn(n.type)&&Gl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ia(),mt(tn),mt(Kt),vd(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return xd(n),null;case 13:if(mt(vt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ce(340));Aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return mt(vt),null;case 4:return Ia(),null;case 10:return md(n.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var yl=!1,Ht=!1,yv=typeof WeakSet=="function"?WeakSet:Set,xe=null;function wa(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){wt(e,n,a)}else s.current=null}function kc(e,n,s){try{s()}catch(a){wt(e,n,a)}}var Wu=!1;function _v(e,n){if(oc=ql,e=_p(),rd(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var i=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var r=0,o=-1,c=-1,h=0,v=0,f=e,x=null;t:for(;;){for(var j;f!==s||i!==0&&f.nodeType!==3||(o=r+i),f!==l||a!==0&&f.nodeType!==3||(c=r+a),f.nodeType===3&&(r+=f.nodeValue.length),(j=f.firstChild)!==null;)x=f,f=j;for(;;){if(f===e)break t;if(x===s&&++h===i&&(o=r),x===l&&++v===a&&(c=r),(j=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=j}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(cc={focusedElem:e,selectionRange:s},ql=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){n=xe;try{var _=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,g=_.memoizedState,m=n.stateNode,d=m.getSnapshotBeforeUpdate(n.elementType===n.type?b:Cn(n.type,b),g);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=n.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(y){wt(n,n.return,y)}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}return _=Wu,Wu=!1,_}function Ni(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&kc(n,s,l)}i=i.next}while(i!==a)}}function Pr(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function Cc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function vf(e){var n=e.alternate;n!==null&&(e.alternate=null,vf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Hn],delete n[Ii],delete n[hc],delete n[sv],delete n[av])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jf(e){return e.tag===5||e.tag===3||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Xl));else if(a!==4&&(e=e.child,e!==null))for(Sc(e,n,s),e=e.sibling;e!==null;)Sc(e,n,s),e=e.sibling}function Tc(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Tc(e,n,s),e=e.sibling;e!==null;)Tc(e,n,s),e=e.sibling}var It=null,Sn=!1;function fs(e,n,s){for(s=s.child;s!==null;)yf(e,n,s),s=s.sibling}function yf(e,n,s){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(wr,s)}catch{}switch(s.tag){case 5:Ht||wa(s,n);case 6:var a=It,i=Sn;It=null,fs(e,n,s),It=a,Sn=i,It!==null&&(Sn?(e=It,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):It.removeChild(s.stateNode));break;case 18:It!==null&&(Sn?(e=It,s=s.stateNode,e.nodeType===8?oo(e.parentNode,s):e.nodeType===1&&oo(e,s),Pi(e)):oo(It,s.stateNode));break;case 4:a=It,i=Sn,It=s.stateNode.containerInfo,Sn=!0,fs(e,n,s),It=a,Sn=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var l=i,r=l.destroy;l=l.tag,r!==void 0&&(l&2||l&4)&&kc(s,n,r),i=i.next}while(i!==a)}fs(e,n,s);break;case 1:if(!Ht&&(wa(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){wt(s,n,o)}fs(e,n,s);break;case 21:fs(e,n,s);break;case 22:s.mode&1?(Ht=(a=Ht)||s.memoizedState!==null,fs(e,n,s),Ht=a):fs(e,n,s);break;default:fs(e,n,s)}}function Ju(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new yv),n.forEach(function(a){var i=Lv.bind(null,e,a);s.has(a)||(s.add(a),a.then(i,i))})}}function kn(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var i=s[a];try{var l=e,r=n,o=r;e:for(;o!==null;){switch(o.tag){case 5:It=o.stateNode,Sn=!1;break e;case 3:It=o.stateNode.containerInfo,Sn=!0;break e;case 4:It=o.stateNode.containerInfo,Sn=!0;break e}o=o.return}if(It===null)throw Error(ce(160));yf(l,r,i),It=null,Sn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){wt(i,n,h)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)_f(n,e),n=n.sibling}function _f(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(n,e),Vn(e),a&4){try{Ni(3,e,e.return),Pr(3,e)}catch(b){wt(e,e.return,b)}try{Ni(5,e,e.return)}catch(b){wt(e,e.return,b)}}break;case 1:kn(n,e),Vn(e),a&512&&s!==null&&wa(s,s.return);break;case 5:if(kn(n,e),Vn(e),a&512&&s!==null&&wa(s,s.return),e.flags&32){var i=e.stateNode;try{Ti(i,"")}catch(b){wt(e,e.return,b)}}if(a&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,r=s!==null?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Om(i,l),Yo(o,r);var h=Yo(o,l);for(r=0;r<c.length;r+=2){var v=c[r],f=c[r+1];v==="style"?qm(i,f):v==="dangerouslySetInnerHTML"?Km(i,f):v==="children"?Ti(i,f):Jc(i,v,f,h)}switch(o){case"input":qo(i,l);break;case"textarea":Um(i,l);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?Sa(i,!!l.multiple,j,!1):x!==!!l.multiple&&(l.defaultValue!=null?Sa(i,!!l.multiple,l.defaultValue,!0):Sa(i,!!l.multiple,l.multiple?[]:"",!1))}i[Ii]=l}catch(b){wt(e,e.return,b)}}break;case 6:if(kn(n,e),Vn(e),a&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(b){wt(e,e.return,b)}}break;case 3:if(kn(n,e),Vn(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Pi(n.containerInfo)}catch(b){wt(e,e.return,b)}break;case 4:kn(n,e),Vn(e);break;case 13:kn(n,e),Vn(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Sd=kt())),a&4&&Ju(e);break;case 22:if(v=s!==null&&s.memoizedState!==null,e.mode&1?(Ht=(h=Ht)||v,kn(n,e),Ht=h):kn(n,e),Vn(e),a&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!v&&e.mode&1)for(xe=e,v=e.child;v!==null;){for(f=xe=v;xe!==null;){switch(x=xe,j=x.child,x.tag){case 0:case 11:case 14:case 15:Ni(4,x,x.return);break;case 1:wa(x,x.return);var _=x.stateNode;if(typeof _.componentWillUnmount=="function"){a=x,s=x.return;try{n=a,_.props=n.memoizedProps,_.state=n.memoizedState,_.componentWillUnmount()}catch(b){wt(a,s,b)}}break;case 5:wa(x,x.return);break;case 22:if(x.memoizedState!==null){Xu(f);continue}}j!==null?(j.return=x,xe=j):Xu(f)}v=v.sibling}e:for(v=null,f=e;;){if(f.tag===5){if(v===null){v=f;try{i=f.stateNode,h?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=f.stateNode,c=f.memoizedProps.style,r=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Wm("display",r))}catch(b){wt(e,e.return,b)}}}else if(f.tag===6){if(v===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(b){wt(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kn(n,e),Vn(e),a&4&&Ju(e);break;case 21:break;default:kn(n,e),Vn(e)}}function Vn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(jf(s)){var a=s;break e}s=s.return}throw Error(ce(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Ti(i,""),a.flags&=-33);var l=qu(e);Tc(e,l,i);break;case 3:case 4:var r=a.stateNode.containerInfo,o=qu(e);Sc(e,o,r);break;default:throw Error(ce(161))}}catch(c){wt(e,e.return,c)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Nv(e,n,s){xe=e,Nf(e)}function Nf(e,n,s){for(var a=(e.mode&1)!==0;xe!==null;){var i=xe,l=i.child;if(i.tag===22&&a){var r=i.memoizedState!==null||yl;if(!r){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Ht;o=yl;var h=Ht;if(yl=r,(Ht=c)&&!h)for(xe=i;xe!==null;)r=xe,c=r.child,r.tag===22&&r.memoizedState!==null?Gu(i):c!==null?(c.return=r,xe=c):Gu(i);for(;l!==null;)xe=l,Nf(l),l=l.sibling;xe=i,yl=o,Ht=h}Qu(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,xe=l):Qu(e)}}function Qu(e){for(;xe!==null;){var n=xe;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Ht||Pr(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Ht)if(s===null)a.componentDidMount();else{var i=n.elementType===n.type?s.memoizedProps:Cn(n.type,s.memoizedProps);a.componentDidUpdate(i,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=n.updateQueue;l!==null&&Mu(n,l,a);break;case 3:var r=n.updateQueue;if(r!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Mu(n,r,s)}break;case 5:var o=n.stateNode;if(s===null&&n.flags&4){s=o;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var h=n.alternate;if(h!==null){var v=h.memoizedState;if(v!==null){var f=v.dehydrated;f!==null&&Pi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Ht||n.flags&512&&Cc(n)}catch(x){wt(n,n.return,x)}}if(n===e){xe=null;break}if(s=n.sibling,s!==null){s.return=n.return,xe=s;break}xe=n.return}}function Xu(e){for(;xe!==null;){var n=xe;if(n===e){xe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,xe=s;break}xe=n.return}}function Gu(e){for(;xe!==null;){var n=xe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Pr(4,n)}catch(c){wt(n,s,c)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var i=n.return;try{a.componentDidMount()}catch(c){wt(n,i,c)}}var l=n.return;try{Cc(n)}catch(c){wt(n,l,c)}break;case 5:var r=n.return;try{Cc(n)}catch(c){wt(n,r,c)}}}catch(c){wt(n,n.return,c)}if(n===e){xe=null;break}var o=n.sibling;if(o!==null){o.return=n.return,xe=o;break}xe=n.return}}var bv=Math.ceil,rr=ds.ReactCurrentDispatcher,kd=ds.ReactCurrentOwner,_n=ds.ReactCurrentBatchConfig,qe=0,At=null,Et=null,Ft=0,on=0,ka=Vs(0),Dt=0,Ui=null,la=0,Mr=0,Cd=0,bi=null,Zt=null,Sd=0,Fa=1/0,Zn=null,or=!1,Ec=null,Rs=null,_l=!1,Ss=null,cr=0,wi=0,Lc=null,Il=-1,$l=0;function qt(){return qe&6?kt():Il!==-1?Il:Il=kt()}function As(e){return e.mode&1?qe&2&&Ft!==0?Ft&-Ft:lv.transition!==null?($l===0&&($l=ip()),$l):(e=at,e!==0||(e=window.event,e=e===void 0?16:hp(e.type)),e):1}function Pn(e,n,s,a){if(50<wi)throw wi=0,Lc=null,Error(ce(185));Qi(e,s,a),(!(qe&2)||e!==At)&&(e===At&&(!(qe&2)&&(Mr|=s),Dt===4&&ks(e,Ft)),sn(e,a),s===1&&qe===0&&!(n.mode&1)&&(Fa=kt()+500,Er&&Bs()))}function sn(e,n){var s=e.callbackNode;lx(e,n);var a=Wl(e,e===At?Ft:0);if(a===0)s!==null&&lu(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&lu(s),n===1)e.tag===0?iv(Yu.bind(null,e)):Dp(Yu.bind(null,e)),tv(function(){!(qe&6)&&Bs()}),s=null;else{switch(lp(a)){case 1:s=Zc;break;case 4:s=sp;break;case 16:s=Kl;break;case 536870912:s=ap;break;default:s=Kl}s=Lf(s,bf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function bf(e,n){if(Il=-1,$l=0,qe&6)throw Error(ce(327));var s=e.callbackNode;if(Pa()&&e.callbackNode!==s)return null;var a=Wl(e,e===At?Ft:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=dr(e,a);else{n=a;var i=qe;qe|=2;var l=kf();(At!==e||Ft!==n)&&(Zn=null,Fa=kt()+500,ta(e,n));do try{Cv();break}catch(o){wf(e,o)}while(!0);hd(),rr.current=l,qe=i,Et!==null?n=0:(At=null,Ft=0,n=Dt)}if(n!==0){if(n===2&&(i=sc(e),i!==0&&(a=i,n=Dc(e,i))),n===1)throw s=Ui,ta(e,0),ks(e,a),sn(e,kt()),s;if(n===6)ks(e,a);else{if(i=e.current.alternate,!(a&30)&&!wv(i)&&(n=dr(e,a),n===2&&(l=sc(e),l!==0&&(a=l,n=Dc(e,l))),n===1))throw s=Ui,ta(e,0),ks(e,a),sn(e,kt()),s;switch(e.finishedWork=i,e.finishedLanes=a,n){case 0:case 1:throw Error(ce(345));case 2:qs(e,Zt,Zn);break;case 3:if(ks(e,a),(a&130023424)===a&&(n=Sd+500-kt(),10<n)){if(Wl(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uc(qs.bind(null,e,Zt,Zn),n);break}qs(e,Zt,Zn);break;case 4:if(ks(e,a),(a&4194240)===a)break;for(n=e.eventTimes,i=-1;0<a;){var r=31-Dn(a);l=1<<r,r=n[r],r>i&&(i=r),a&=~l}if(a=i,a=kt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*bv(a/1960))-a,10<a){e.timeoutHandle=uc(qs.bind(null,e,Zt,Zn),a);break}qs(e,Zt,Zn);break;case 5:qs(e,Zt,Zn);break;default:throw Error(ce(329))}}}return sn(e,kt()),e.callbackNode===s?bf.bind(null,e):null}function Dc(e,n){var s=bi;return e.current.memoizedState.isDehydrated&&(ta(e,n).flags|=256),e=dr(e,n),e!==2&&(n=Zt,Zt=s,n!==null&&Pc(n)),e}function Pc(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function wv(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var i=s[a],l=i.getSnapshot;i=i.value;try{if(!An(l(),i))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n){for(n&=~Cd,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Dn(n),a=1<<s;e[s]=-1,n&=~a}}function Yu(e){if(qe&6)throw Error(ce(327));Pa();var n=Wl(e,0);if(!(n&1))return sn(e,kt()),null;var s=dr(e,n);if(e.tag!==0&&s===2){var a=sc(e);a!==0&&(n=a,s=Dc(e,a))}if(s===1)throw s=Ui,ta(e,0),ks(e,n),sn(e,kt()),s;if(s===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,qs(e,Zt,Zn),sn(e,kt()),null}function Td(e,n){var s=qe;qe|=1;try{return e(n)}finally{qe=s,qe===0&&(Fa=kt()+500,Er&&Bs())}}function ra(e){Ss!==null&&Ss.tag===0&&!(qe&6)&&Pa();var n=qe;qe|=1;var s=_n.transition,a=at;try{if(_n.transition=null,at=1,e)return e()}finally{at=a,_n.transition=s,qe=n,!(qe&6)&&Bs()}}function Ed(){on=ka.current,mt(ka)}function ta(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ev(s)),Et!==null)for(s=Et.return;s!==null;){var a=s;switch(cd(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Gl();break;case 3:Ia(),mt(tn),mt(Kt),vd();break;case 5:xd(a);break;case 4:Ia();break;case 13:mt(vt);break;case 19:mt(vt);break;case 10:md(a.type._context);break;case 22:case 23:Ed()}s=s.return}if(At=e,Et=e=zs(e.current,null),Ft=on=n,Dt=0,Ui=null,Cd=Mr=la=0,Zt=bi=null,Gs!==null){for(n=0;n<Gs.length;n++)if(s=Gs[n],a=s.interleaved,a!==null){s.interleaved=null;var i=a.next,l=s.pending;if(l!==null){var r=l.next;l.next=i,a.next=r}s.pending=a}Gs=null}return e}function wf(e,n){do{var s=Et;try{if(hd(),Rl.current=lr,ir){for(var a=jt.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}ir=!1}if(ia=0,Mt=Lt=jt=null,_i=!1,Vi=0,kd.current=null,s===null||s.return===null){Dt=1,Ui=n,Et=null;break}e:{var l=e,r=s.return,o=s,c=n;if(n=Ft,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,v=o,f=v.tag;if(!(v.mode&1)&&(f===0||f===11||f===15)){var x=v.alternate;x?(v.updateQueue=x.updateQueue,v.memoizedState=x.memoizedState,v.lanes=x.lanes):(v.updateQueue=null,v.memoizedState=null)}var j=Fu(r);if(j!==null){j.flags&=-257,Vu(j,r,o,l,n),j.mode&1&&$u(l,h,n),n=j,c=h;var _=n.updateQueue;if(_===null){var b=new Set;b.add(c),n.updateQueue=b}else _.add(c);break e}else{if(!(n&1)){$u(l,h,n),Ld();break e}c=Error(ce(426))}}else if(ft&&o.mode&1){var g=Fu(r);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Vu(g,r,o,l,n),dd($a(c,o));break e}}l=c=$a(c,o),Dt!==4&&(Dt=2),bi===null?bi=[l]:bi.push(l),l=r;do{switch(l.tag){case 3:l.flags|=65536,n&=-n,l.lanes|=n;var m=rf(l,c,n);Pu(l,m);break e;case 1:o=c;var d=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rs===null||!Rs.has(p)))){l.flags|=65536,n&=-n,l.lanes|=n;var y=of(l,o,n);Pu(l,y);break e}}l=l.return}while(l!==null)}Sf(s)}catch(S){n=S,Et===s&&s!==null&&(Et=s=s.return);continue}break}while(!0)}function kf(){var e=rr.current;return rr.current=lr,e===null?lr:e}function Ld(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),At===null||!(la&268435455)&&!(Mr&268435455)||ks(At,Ft)}function dr(e,n){var s=qe;qe|=2;var a=kf();(At!==e||Ft!==n)&&(Zn=null,ta(e,n));do try{kv();break}catch(i){wf(e,i)}while(!0);if(hd(),qe=s,rr.current=a,Et!==null)throw Error(ce(261));return At=null,Ft=0,Dt}function kv(){for(;Et!==null;)Cf(Et)}function Cv(){for(;Et!==null&&!Gg();)Cf(Et)}function Cf(e){var n=Ef(e.alternate,e,on);e.memoizedProps=e.pendingProps,n===null?Sf(e):Et=n,kd.current=null}function Sf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=jv(s,n),s!==null){s.flags&=32767,Et=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Et=null;return}}else if(s=vv(s,n,on),s!==null){Et=s;return}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);Dt===0&&(Dt=5)}function qs(e,n,s){var a=at,i=_n.transition;try{_n.transition=null,at=1,Sv(e,n,s,a)}finally{_n.transition=i,at=a}return null}function Sv(e,n,s,a){do Pa();while(Ss!==null);if(qe&6)throw Error(ce(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(rx(e,l),e===At&&(Et=At=null,Ft=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||_l||(_l=!0,Lf(Kl,function(){return Pa(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=_n.transition,_n.transition=null;var r=at;at=1;var o=qe;qe|=4,kd.current=null,_v(e,s),_f(s,e),qx(cc),ql=!!oc,cc=oc=null,e.current=s,Nv(s),Yg(),qe=o,at=r,_n.transition=l}else e.current=s;if(_l&&(_l=!1,Ss=e,cr=i),l=e.pendingLanes,l===0&&(Rs=null),tx(s.stateNode),sn(e,kt()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)i=n[s],a(i.value,{componentStack:i.stack,digest:i.digest});if(or)throw or=!1,e=Ec,Ec=null,e;return cr&1&&e.tag!==0&&Pa(),l=e.pendingLanes,l&1?e===Lc?wi++:(wi=0,Lc=e):wi=0,Bs(),null}function Pa(){if(Ss!==null){var e=lp(cr),n=_n.transition,s=at;try{if(_n.transition=null,at=16>e?16:e,Ss===null)var a=!1;else{if(e=Ss,Ss=null,cr=0,qe&6)throw Error(ce(331));var i=qe;for(qe|=4,xe=e.current;xe!==null;){var l=xe,r=l.child;if(xe.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var h=o[c];for(xe=h;xe!==null;){var v=xe;switch(v.tag){case 0:case 11:case 15:Ni(8,v,l)}var f=v.child;if(f!==null)f.return=v,xe=f;else for(;xe!==null;){v=xe;var x=v.sibling,j=v.return;if(vf(v),v===h){xe=null;break}if(x!==null){x.return=j,xe=x;break}xe=j}}}var _=l.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(b!==null)}}xe=l}}if(l.subtreeFlags&2064&&r!==null)r.return=l,xe=r;else e:for(;xe!==null;){if(l=xe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ni(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,xe=m;break e}xe=l.return}}var d=e.current;for(xe=d;xe!==null;){r=xe;var p=r.child;if(r.subtreeFlags&2064&&p!==null)p.return=r,xe=p;else e:for(r=d;xe!==null;){if(o=xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pr(9,o)}}catch(S){wt(o,o.return,S)}if(o===r){xe=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,xe=y;break e}xe=o.return}}if(qe=i,Bs(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(wr,e)}catch{}a=!0}return a}finally{at=s,_n.transition=n}}return!1}function Zu(e,n,s){n=$a(s,n),n=rf(e,n,1),e=Ms(e,n,1),n=qt(),e!==null&&(Qi(e,1,n),sn(e,n))}function wt(e,n,s){if(e.tag===3)Zu(e,e,s);else for(;n!==null;){if(n.tag===3){Zu(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rs===null||!Rs.has(a))){e=$a(s,e),e=of(n,e,1),n=Ms(n,e,1),e=qt(),n!==null&&(Qi(n,1,e),sn(n,e));break}}n=n.return}}function Tv(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=qt(),e.pingedLanes|=e.suspendedLanes&s,At===e&&(Ft&s)===s&&(Dt===4||Dt===3&&(Ft&130023424)===Ft&&500>kt()-Sd?ta(e,0):Cd|=s),sn(e,n)}function Tf(e,n){n===0&&(e.mode&1?(n=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):n=1);var s=qt();e=rs(e,n),e!==null&&(Qi(e,n,s),sn(e,s))}function Ev(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Tf(e,s)}function Lv(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ce(314))}a!==null&&a.delete(n),Tf(e,s)}var Ef;Ef=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||tn.current)en=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return en=!1,xv(e,n,s);en=!!(e.flags&131072)}else en=!1,ft&&n.flags&1048576&&Pp(n,er,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;zl(e,n),e=n.pendingProps;var i=Ra(n,Kt.current);Da(n,s),i=yd(null,n,a,e,i,s);var l=_d();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nn(a)?(l=!0,Yl(n)):l=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fd(n),i.updater=Dr,n.stateNode=i,i._reactInternals=n,vc(n,a,e,s),n=_c(null,n,a,!0,l,s)):(n.tag=0,ft&&l&&od(n),Wt(null,n,i,s),n=n.child),n;case 16:a=n.elementType;e:{switch(zl(e,n),e=n.pendingProps,i=a._init,a=i(a._payload),n.type=a,i=n.tag=Pv(a),e=Cn(a,e),i){case 0:n=yc(null,n,a,e,s);break e;case 1:n=Uu(null,n,a,e,s);break e;case 11:n=Bu(null,n,a,e,s);break e;case 14:n=Ou(null,n,a,Cn(a.type,e),s);break e}throw Error(ce(306,a,""))}return n;case 0:return a=n.type,i=n.pendingProps,i=n.elementType===a?i:Cn(a,i),yc(e,n,a,i,s);case 1:return a=n.type,i=n.pendingProps,i=n.elementType===a?i:Cn(a,i),Uu(e,n,a,i,s);case 3:e:{if(hf(n),e===null)throw Error(ce(387));a=n.pendingProps,l=n.memoizedState,i=l.element,$p(e,n),sr(n,a,null,s);var r=n.memoizedState;if(a=r.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},n.updateQueue.baseState=l,n.memoizedState=l,n.flags&256){i=$a(Error(ce(423)),n),n=Hu(e,n,a,s,i);break e}else if(a!==i){i=$a(Error(ce(424)),n),n=Hu(e,n,a,s,i);break e}else for(dn=Ps(n.stateNode.containerInfo.firstChild),un=n,ft=!0,En=null,s=zp(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Aa(),a===i){n=os(e,n,s);break e}Wt(e,n,a,s)}n=n.child}return n;case 5:return Fp(n),e===null&&fc(n),a=n.type,i=n.pendingProps,l=e!==null?e.memoizedProps:null,r=i.children,dc(a,i)?r=null:l!==null&&dc(a,l)&&(n.flags|=32),uf(e,n),Wt(e,n,r,s),n.child;case 6:return e===null&&fc(n),null;case 13:return mf(e,n,s);case 4:return gd(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=za(n,null,a,s):Wt(e,n,a,s),n.child;case 11:return a=n.type,i=n.pendingProps,i=n.elementType===a?i:Cn(a,i),Bu(e,n,a,i,s);case 7:return Wt(e,n,n.pendingProps,s),n.child;case 8:return Wt(e,n,n.pendingProps.children,s),n.child;case 12:return Wt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,i=n.pendingProps,l=n.memoizedProps,r=i.value,dt(tr,a._currentValue),a._currentValue=r,l!==null)if(An(l.value,r)){if(l.children===i.children&&!tn.current){n=os(e,n,s);break e}}else for(l=n.child,l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){r=l.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=ss(-1,s&-s),c.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var v=h.pending;v===null?c.next=c:(c.next=v.next,v.next=c),h.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),gc(l.return,s,n),o.lanes|=s;break}c=c.next}}else if(l.tag===10)r=l.type===n.type?null:l.child;else if(l.tag===18){if(r=l.return,r===null)throw Error(ce(341));r.lanes|=s,o=r.alternate,o!==null&&(o.lanes|=s),gc(r,s,n),r=l.sibling}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===n){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}Wt(e,n,i.children,s),n=n.child}return n;case 9:return i=n.type,a=n.pendingProps.children,Da(n,s),i=Nn(i),a=a(i),n.flags|=1,Wt(e,n,a,s),n.child;case 14:return a=n.type,i=Cn(a,n.pendingProps),i=Cn(a.type,i),Ou(e,n,a,i,s);case 15:return cf(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,i=n.pendingProps,i=n.elementType===a?i:Cn(a,i),zl(e,n),n.tag=1,nn(a)?(e=!0,Yl(n)):e=!1,Da(n,s),lf(n,a,i),vc(n,a,i,s),_c(null,n,a,!0,e,s);case 19:return pf(e,n,s);case 22:return df(e,n,s)}throw Error(ce(156,n.tag))};function Lf(e,n){return np(e,n)}function Dv(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,a){return new Dv(e,n,s,a)}function Dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pv(e){if(typeof e=="function")return Dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xc)return 11;if(e===Gc)return 14}return 2}function zs(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Fl(e,n,s,a,i,l){var r=2;if(a=e,typeof e=="function")Dd(e)&&(r=1);else if(typeof e=="string")r=5;else e:switch(e){case fa:return na(s.children,i,l,n);case Qc:r=8,i|=8;break;case Oo:return e=yn(12,s,n,i|2),e.elementType=Oo,e.lanes=l,e;case Uo:return e=yn(13,s,n,i),e.elementType=Uo,e.lanes=l,e;case Ho:return e=yn(19,s,n,i),e.elementType=Ho,e.lanes=l,e;case Fm:return Rr(s,i,l,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Im:r=10;break e;case $m:r=9;break e;case Xc:r=11;break e;case Gc:r=14;break e;case Ns:r=16,a=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return n=yn(r,s,n,i),n.elementType=e,n.type=a,n.lanes=l,n}function na(e,n,s,a){return e=yn(7,e,a,n),e.lanes=s,e}function Rr(e,n,s,a){return e=yn(22,e,a,n),e.elementType=Fm,e.lanes=s,e.stateNode={isHidden:!1},e}function xo(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function vo(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Mv(e,n,s,a,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gr(0),this.expirationTimes=Gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pd(e,n,s,a,i,l,r,o,c){return e=new Mv(e,n,s,o,c),n===1?(n=1,l===!0&&(n|=8)):n=0,l=yn(3,null,null,n),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},fd(l),e}function Rv(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pa,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function Df(e){if(!e)return $s;e=e._reactInternals;e:{if(da(e)!==e||e.tag!==1)throw Error(ce(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ce(171))}if(e.tag===1){var s=e.type;if(nn(s))return Lp(e,s,n)}return n}function Pf(e,n,s,a,i,l,r,o,c){return e=Pd(s,a,!0,e,i,l,r,o,c),e.context=Df(null),s=e.current,a=qt(),i=As(s),l=ss(a,i),l.callback=n??null,Ms(s,l,i),e.current.lanes=i,Qi(e,i,a),sn(e,a),e}function Ar(e,n,s,a){var i=n.current,l=qt(),r=As(i);return s=Df(s),n.context===null?n.context=s:n.pendingContext=s,n=ss(l,r),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Ms(i,n,r),e!==null&&(Pn(e,i,r,l),Ml(e,i,r)),r}function ur(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Md(e,n){eh(e,n),(e=e.alternate)&&eh(e,n)}function Av(){return null}var Mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rd(e){this._internalRoot=e}zr.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ce(409));Ar(e,n,null,null)};zr.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ra(function(){Ar(null,e,null,null)}),n[ls]=null}};function zr(e){this._internalRoot=e}zr.prototype.unstable_scheduleHydration=function(e){if(e){var n=cp();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ws.length&&n!==0&&n<ws[s].priority;s++);ws.splice(s,0,e),s===0&&up(e)}};function Ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ir(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function zv(e,n,s,a,i){if(i){if(typeof a=="function"){var l=a;a=function(){var h=ur(r);l.call(h)}}var r=Pf(n,a,e,0,null,!1,!1,"",th);return e._reactRootContainer=r,e[ls]=r.current,Ai(e.nodeType===8?e.parentNode:e),ra(),r}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var o=a;a=function(){var h=ur(c);o.call(h)}}var c=Pd(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=c,e[ls]=c.current,Ai(e.nodeType===8?e.parentNode:e),ra(function(){Ar(n,c,s,a)}),c}function $r(e,n,s,a,i){var l=s._reactRootContainer;if(l){var r=l;if(typeof i=="function"){var o=i;i=function(){var c=ur(r);o.call(c)}}Ar(n,r,e,i)}else r=zv(s,n,e,i,a);return ur(r)}rp=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=mi(n.pendingLanes);s!==0&&(ed(n,s|1),sn(n,kt()),!(qe&6)&&(Fa=kt()+500,Bs()))}break;case 13:ra(function(){var a=rs(e,1);if(a!==null){var i=qt();Pn(a,e,1,i)}}),Md(e,1)}};td=function(e){if(e.tag===13){var n=rs(e,134217728);if(n!==null){var s=qt();Pn(n,e,134217728,s)}Md(e,134217728)}};op=function(e){if(e.tag===13){var n=As(e),s=rs(e,n);if(s!==null){var a=qt();Pn(s,e,n,a)}Md(e,n)}};cp=function(){return at};dp=function(e,n){var s=at;try{return at=e,n()}finally{at=s}};ec=function(e,n,s){switch(n){case"input":if(qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var i=Tr(a);if(!i)throw Error(ce(90));Bm(a),qo(a,i)}}}break;case"textarea":Um(e,s);break;case"select":n=s.value,n!=null&&Sa(e,!!s.multiple,n,!1)}};Xm=Td;Gm=ra;var Iv={usingClientEntryPoint:!1,Events:[Gi,ja,Tr,Jm,Qm,Td]},ni={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$v={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ep(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{wr=Nl.inject($v),Wn=Nl}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;mn.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(n))throw Error(ce(200));return Rv(e,n,null,s)};mn.createRoot=function(e,n){if(!Ad(e))throw Error(ce(299));var s=!1,a="",i=Mf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=Pd(e,1,!1,null,null,s,!1,a,i),e[ls]=n.current,Ai(e.nodeType===8?e.parentNode:e),new Rd(n)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=ep(n),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return ra(e)};mn.hydrate=function(e,n,s){if(!Ir(n))throw Error(ce(200));return $r(null,e,n,!0,s)};mn.hydrateRoot=function(e,n,s){if(!Ad(e))throw Error(ce(405));var a=s!=null&&s.hydratedSources||null,i=!1,l="",r=Mf;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(r=s.onRecoverableError)),n=Pf(n,null,e,1,s??null,i,!1,l,r),e[ls]=n.current,Ai(e),a)for(e=0;e<a.length;e++)s=a[e],i=s._getVersion,i=i(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,i]:n.mutableSourceEagerHydrationData.push(s,i);return new zr(n)};mn.render=function(e,n,s){if(!Ir(n))throw Error(ce(200));return $r(null,e,n,!1,s)};mn.unmountComponentAtNode=function(e){if(!Ir(e))throw Error(ce(40));return e._reactRootContainer?(ra(function(){$r(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};mn.unstable_batchedUpdates=Td;mn.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!Ir(s))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return $r(e,n,s,!1,a)};mn.version="18.3.1-next-f1338f8080-20240426";function Rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rf)}catch(e){console.error(e)}}Rf(),Mm.exports=mn;var Fr=Mm.exports;const Fv=ym(Fr),Vv=jm({__proto__:null,default:Fv},[Fr]);var Af,nh=Fr;Af=nh.createRoot,nh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},pt.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const sh="popstate";function Bv(e){e===void 0&&(e={});function n(a,i){let{pathname:l,search:r,hash:o}=a.location;return Hi("",{pathname:l,search:r,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(a,i){return typeof i=="string"?i:oa(i)}return Uv(n,s,null,e)}function Fe(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Va(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Ov(){return Math.random().toString(36).substr(2,8)}function ah(e,n){return{usr:e.state,key:e.key,idx:n}}function Hi(e,n,s,a){return s===void 0&&(s=null),pt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Os(n):n,{state:s,key:n&&n.key||a||Ov()})}function oa(e){let{pathname:n="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Os(e){let n={};if(e){let s=e.indexOf("#");s>=0&&(n.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}function Uv(e,n,s,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:l=!1}=a,r=i.history,o=Ct.Pop,c=null,h=v();h==null&&(h=0,r.replaceState(pt({},r.state,{idx:h}),""));function v(){return(r.state||{idx:null}).idx}function f(){o=Ct.Pop;let g=v(),m=g==null?null:g-h;h=g,c&&c({action:o,location:b.location,delta:m})}function x(g,m){o=Ct.Push;let d=Hi(b.location,g,m);h=v()+1;let p=ah(d,h),y=b.createHref(d);try{r.pushState(p,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}l&&c&&c({action:o,location:b.location,delta:1})}function j(g,m){o=Ct.Replace;let d=Hi(b.location,g,m);h=v();let p=ah(d,h),y=b.createHref(d);r.replaceState(p,"",y),l&&c&&c({action:o,location:b.location,delta:0})}function _(g){let m=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof g=="string"?g:oa(g);return d=d.replace(/ $/,"%20"),Fe(m,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,m)}let b={get action(){return o},get location(){return e(i,r)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(sh,f),c=g,()=>{i.removeEventListener(sh,f),c=null}},createHref(g){return n(i,g)},createURL:_,encodeLocation(g){let m=_(g);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:x,replace:j,go(g){return r.go(g)}};return b}var st;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(st||(st={}));const Hv=new Set(["lazy","caseSensitive","path","id","index","children"]);function Kv(e){return e.index===!0}function hr(e,n,s,a){return s===void 0&&(s=[]),a===void 0&&(a={}),e.map((i,l)=>{let r=[...s,String(l)],o=typeof i.id=="string"?i.id:r.join("-");if(Fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Fe(!a[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),Kv(i)){let c=pt({},i,n(i),{id:o});return a[o]=c,c}else{let c=pt({},i,n(i),{id:o,children:void 0});return a[o]=c,i.children&&(c.children=hr(i.children,n,r,a)),c}})}function Js(e,n,s){return s===void 0&&(s="/"),Vl(e,n,s,!1)}function Vl(e,n,s,a){let i=typeof n=="string"?Os(n):n,l=cs(i.pathname||"/",s);if(l==null)return null;let r=zf(e);qv(r);let o=null;for(let c=0;o==null&&c<r.length;++c){let h=aj(l);o=nj(r[c],h,a)}return o}function Wv(e,n){let{route:s,pathname:a,params:i}=e;return{id:s.id,pathname:a,params:i,data:n[s.id],handle:s.handle}}function zf(e,n,s,a){n===void 0&&(n=[]),s===void 0&&(s=[]),a===void 0&&(a="");let i=(l,r,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:r,route:l};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let h=as([a,c.relativePath]),v=s.concat(c);l.children&&l.children.length>0&&(Fe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),zf(l.children,n,v,h)),!(l.path==null&&!l.index)&&n.push({path:h,score:ej(h,l.index),routesMeta:v})};return e.forEach((l,r)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))i(l,r);else for(let c of If(l.path))i(l,r,c)}),n}function If(e){let n=e.split("/");if(n.length===0)return[];let[s,...a]=n,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let r=If(a.join("/")),o=[];return o.push(...r.map(c=>c===""?l:[l,c].join("/"))),i&&o.push(...r),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function qv(e){e.sort((n,s)=>n.score!==s.score?s.score-n.score:tj(n.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Jv=/^:[\w-]+$/,Qv=3,Xv=2,Gv=1,Yv=10,Zv=-2,ih=e=>e==="*";function ej(e,n){let s=e.split("/"),a=s.length;return s.some(ih)&&(a+=Zv),n&&(a+=Xv),s.filter(i=>!ih(i)).reduce((i,l)=>i+(Jv.test(l)?Qv:l===""?Gv:Yv),a)}function tj(e,n){return e.length===n.length&&e.slice(0,-1).every((a,i)=>a===n[i])?e[e.length-1]-n[n.length-1]:0}function nj(e,n,s){s===void 0&&(s=!1);let{routesMeta:a}=e,i={},l="/",r=[];for(let o=0;o<a.length;++o){let c=a[o],h=o===a.length-1,v=l==="/"?n:n.slice(l.length)||"/",f=mr({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},v),x=c.route;if(!f&&h&&s&&!a[a.length-1].route.index&&(f=mr({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},v)),!f)return null;Object.assign(i,f.params),r.push({params:i,pathname:as([l,f.pathname]),pathnameBase:rj(as([l,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(l=as([l,f.pathnameBase]))}return r}function mr(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=sj(e.path,e.caseSensitive,e.end),i=n.match(s);if(!i)return null;let l=i[0],r=l.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:a.reduce((h,v,f)=>{let{paramName:x,isOptional:j}=v;if(x==="*"){let b=o[f]||"";r=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const _=o[f];return j&&!_?h[x]=void 0:h[x]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:r,pattern:e}}function sj(e,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Va(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),a]}function aj(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Va(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function cs(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function ij(e,n){n===void 0&&(n="/");let{pathname:s,search:a="",hash:i=""}=typeof e=="string"?Os(e):e;return{pathname:s?s.startsWith("/")?s:lj(s,n):n,search:oj(a),hash:cj(i)}}function lj(e,n){let s=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function jo(e,n,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $f(e){return e.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Vr(e,n){let s=$f(e);return n?s.map((a,i)=>i===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Br(e,n,s,a){a===void 0&&(a=!1);let i;typeof e=="string"?i=Os(e):(i=pt({},e),Fe(!i.pathname||!i.pathname.includes("?"),jo("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),jo("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),jo("#","search","hash",i)));let l=e===""||i.pathname==="",r=l?"/":i.pathname,o;if(r==null)o=s;else{let f=n.length-1;if(!a&&r.startsWith("..")){let x=r.split("/");for(;x[0]==="..";)x.shift(),f-=1;i.pathname=x.join("/")}o=f>=0?n[f]:"/"}let c=ij(i,o),h=r&&r!=="/"&&r.endsWith("/"),v=(l||r===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(h||v)&&(c.pathname+="/"),c}const as=e=>e.join("/").replace(/\/\/+/g,"/"),rj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class pr{constructor(n,s,a,i){i===void 0&&(i=!1),this.status=n,this.statusText=s||"",this.internal=i,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Ki(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ff=["post","put","patch","delete"],dj=new Set(Ff),uj=["get",...Ff],hj=new Set(uj),mj=new Set([301,302,303,307,308]),pj=new Set([307,308]),yo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},si={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gj=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Vf="remix-router-transitions";function xj(e){const n=e.window?e.window:typeof window<"u"?window:void 0,s=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u",a=!s;Fe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let P=e.detectErrorBoundary;i=V=>({hasErrorBoundary:P(V)})}else i=gj;let l={},r=hr(e.routes,i,void 0,l),o,c=e.basename||"/",h=e.dataStrategy||_j,v=e.patchRoutesOnNavigation,f=pt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),x=null,j=new Set,_=null,b=null,g=null,m=e.hydrationData!=null,d=Js(r,e.history.location,c),p=!1,y=null;if(d==null&&!v){let P=Yt(404,{pathname:e.history.location.pathname}),{matches:V,route:B}=gh(r);d=V,y={[B.id]:P}}d&&!e.hydrationData&&$n(d,r,e.history.location.pathname).active&&(d=null);let S;if(d)if(d.some(P=>P.route.lazy))S=!1;else if(!d.some(P=>P.route.loader))S=!0;else if(f.v7_partialHydration){let P=e.hydrationData?e.hydrationData.loaderData:null,V=e.hydrationData?e.hydrationData.errors:null;if(V){let B=d.findIndex(ne=>V[ne.route.id]!==void 0);S=d.slice(0,B+1).every(ne=>!Rc(ne.route,P,V))}else S=d.every(B=>!Rc(B.route,P,V))}else S=e.hydrationData!=null;else if(S=!1,d=[],f.v7_partialHydration){let P=$n(null,r,e.history.location.pathname);P.active&&P.matches&&(p=!0,d=P.matches)}let w,k={historyAction:e.history.action,location:e.history.location,matches:d,initialized:S,navigation:yo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},C=Ct.Pop,T=!1,L,O=!1,se=new Map,$=null,z=!1,re=!1,Y=[],H=new Set,R=new Map,X=0,A=-1,ie=new Map,te=new Set,pe=new Map,G=new Map,q=new Set,ee=new Map,be=new Map,Me;function Je(){if(x=e.history.listen(P=>{let{action:V,location:B,delta:ne}=P;if(Me){Me(),Me=void 0;return}Va(be.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=In({currentLocation:k.location,nextLocation:B,historyAction:V});if(de&&ne!=null){let Ne=new Promise(Ce=>{Me=Ce});e.history.go(ne*-1),an(de,{state:"blocked",location:B,proceed(){an(de,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),Ne.then(()=>e.history.go(ne))},reset(){let Ce=new Map(k.blockers);Ce.set(de,si),oe({blockers:Ce})}});return}return ue(V,B)}),s){Aj(n,se);let P=()=>zj(n,se);n.addEventListener("pagehide",P),$=()=>n.removeEventListener("pagehide",P)}return k.initialized||ue(Ct.Pop,k.location,{initialHydration:!0}),w}function Re(){x&&x(),$&&$(),j.clear(),L&&L.abort(),k.fetchers.forEach((P,V)=>le(V)),k.blockers.forEach((P,V)=>zn(V))}function Be(P){return j.add(P),()=>j.delete(P)}function oe(P,V){V===void 0&&(V={}),k=pt({},k,P);let B=[],ne=[];f.v7_fetcherPersist&&k.fetchers.forEach((de,Ne)=>{de.state==="idle"&&(q.has(Ne)?ne.push(Ne):B.push(Ne))}),q.forEach(de=>{!k.fetchers.has(de)&&!R.has(de)&&ne.push(de)}),[...j].forEach(de=>de(k,{deletedFetchers:ne,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),f.v7_fetcherPersist?(B.forEach(de=>k.fetchers.delete(de)),ne.forEach(de=>le(de))):ne.forEach(de=>q.delete(de))}function E(P,V,B){var ne,de;let{flushSync:Ne}=B===void 0?{}:B,Ce=k.actionData!=null&&k.navigation.formMethod!=null&&Tn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ne=P.state)==null?void 0:ne._isRedirect)!==!0,ge;V.actionData?Object.keys(V.actionData).length>0?ge=V.actionData:ge=null:Ce?ge=k.actionData:ge=null;let ve=V.loaderData?ph(k.loaderData,V.loaderData,V.matches||[],V.errors):k.loaderData,fe=k.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach(($e,_t)=>fe.set(_t,si)));let je=T===!0||k.navigation.formMethod!=null&&Tn(k.navigation.formMethod)&&((de=P.state)==null?void 0:de._isRedirect)!==!0;o&&(r=o,o=void 0),z||C===Ct.Pop||(C===Ct.Push?e.history.push(P,P.state):C===Ct.Replace&&e.history.replace(P,P.state));let Ae;if(C===Ct.Pop){let $e=se.get(k.location.pathname);$e&&$e.has(P.pathname)?Ae={currentLocation:k.location,nextLocation:P}:se.has(P.pathname)&&(Ae={currentLocation:P,nextLocation:k.location})}else if(O){let $e=se.get(k.location.pathname);$e?$e.add(P.pathname):($e=new Set([P.pathname]),se.set(k.location.pathname,$e)),Ae={currentLocation:k.location,nextLocation:P}}oe(pt({},V,{actionData:ge,loaderData:ve,historyAction:C,location:P,initialized:!0,navigation:yo,revalidation:"idle",restoreScrollPosition:Yn(P,V.matches||k.matches),preventScrollReset:je,blockers:fe}),{viewTransitionOpts:Ae,flushSync:Ne===!0}),C=Ct.Pop,T=!1,O=!1,z=!1,re=!1,Y=[]}async function J(P,V){if(typeof P=="number"){e.history.go(P);return}let B=Mc(k.location,k.matches,c,f.v7_prependBasename,P,f.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:ne,submission:de,error:Ne}=lh(f.v7_normalizeFormMethod,!1,B,V),Ce=k.location,ge=Hi(k.location,ne,V&&V.state);ge=pt({},ge,e.history.encodeLocation(ge));let ve=V&&V.replace!=null?V.replace:void 0,fe=Ct.Push;ve===!0?fe=Ct.Replace:ve===!1||de!=null&&Tn(de.formMethod)&&de.formAction===k.location.pathname+k.location.search&&(fe=Ct.Replace);let je=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Ae=(V&&V.flushSync)===!0,$e=In({currentLocation:Ce,nextLocation:ge,historyAction:fe});if($e){an($e,{state:"blocked",location:ge,proceed(){an($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),J(P,V)},reset(){let _t=new Map(k.blockers);_t.set($e,si),oe({blockers:_t})}});return}return await ue(fe,ge,{submission:de,pendingError:Ne,preventScrollReset:je,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:Ae})}function Q(){if(he(),oe({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){ue(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}ue(C||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:O===!0})}}async function ue(P,V,B){L&&L.abort(),L=null,C=P,z=(B&&B.startUninterruptedRevalidation)===!0,Ja(k.location,k.matches),T=(B&&B.preventScrollReset)===!0,O=(B&&B.enableViewTransition)===!0;let ne=o||r,de=B&&B.overrideNavigation,Ne=B!=null&&B.initialHydration&&k.matches&&k.matches.length>0&&!p?k.matches:Js(ne,V,c),Ce=(B&&B.flushSync)===!0;if(Ne&&k.initialized&&!re&&Sj(k.location,V)&&!(B&&B.submission&&Tn(B.submission.formMethod))){E(V,{matches:Ne},{flushSync:Ce});return}let ge=$n(Ne,ne,V.pathname);if(ge.active&&ge.matches&&(Ne=ge.matches),!Ne){let{error:D,notFoundMatches:M,route:K}=nt(V.pathname);E(V,{matches:M,loaderData:{},errors:{[K.id]:D}},{flushSync:Ce});return}L=new AbortController;let ve=ha(e.history,V,L.signal,B&&B.submission),fe;if(B&&B.pendingError)fe=[Qs(Ne).route.id,{type:st.error,error:B.pendingError}];else if(B&&B.submission&&Tn(B.submission.formMethod)){let D=await Te(ve,V,B.submission,Ne,ge.active,{replace:B.replace,flushSync:Ce});if(D.shortCircuited)return;if(D.pendingActionResult){let[M,K]=D.pendingActionResult;if(cn(K)&&Ki(K.error)&&K.error.status===404){L=null,E(V,{matches:D.matches,loaderData:{},errors:{[M]:K.error}});return}}Ne=D.matches||Ne,fe=D.pendingActionResult,de=_o(V,B.submission),Ce=!1,ge.active=!1,ve=ha(e.history,ve.url,ve.signal)}let{shortCircuited:je,matches:Ae,loaderData:$e,errors:_t}=await we(ve,V,Ne,ge.active,de,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,Ce,fe);je||(L=null,E(V,pt({matches:Ae||Ne},fh(fe),{loaderData:$e,errors:_t})))}async function Te(P,V,B,ne,de,Ne){Ne===void 0&&(Ne={}),he();let Ce=Mj(V,B);if(oe({navigation:Ce},{flushSync:Ne.flushSync===!0}),de){let fe=await Xt(ne,V.pathname,P.signal);if(fe.type==="aborted")return{shortCircuited:!0};if(fe.type==="error"){let je=Qs(fe.partialMatches).route.id;return{matches:fe.partialMatches,pendingActionResult:[je,{type:st.error,error:fe.error}]}}else if(fe.matches)ne=fe.matches;else{let{notFoundMatches:je,error:Ae,route:$e}=nt(V.pathname);return{matches:je,pendingActionResult:[$e.id,{type:st.error,error:Ae}]}}}let ge,ve=fi(ne,V);if(!ve.route.action&&!ve.route.lazy)ge={type:st.error,error:Yt(405,{method:P.method,pathname:V.pathname,routeId:ve.route.id})};else if(ge=(await Ye("action",k,P,[ve],ne,null))[ve.route.id],P.signal.aborted)return{shortCircuited:!0};if(Zs(ge)){let fe;return Ne&&Ne.replace!=null?fe=Ne.replace:fe=uh(ge.response.headers.get("Location"),new URL(P.url),c)===k.location.pathname+k.location.search,await Ke(P,ge,!0,{submission:B,replace:fe}),{shortCircuited:!0}}if(Ts(ge))throw Yt(400,{type:"defer-action"});if(cn(ge)){let fe=Qs(ne,ve.route.id);return(Ne&&Ne.replace)!==!0&&(C=Ct.Push),{matches:ne,pendingActionResult:[fe.route.id,ge]}}return{matches:ne,pendingActionResult:[ve.route.id,ge]}}async function we(P,V,B,ne,de,Ne,Ce,ge,ve,fe,je){let Ae=de||_o(V,Ne),$e=Ne||Ce||vh(Ae),_t=!z&&(!f.v7_partialHydration||!ve);if(ne){if(_t){let rt=Pe(je);oe(pt({navigation:Ae},rt!==void 0?{actionData:rt}:{}),{flushSync:fe})}let Ue=await Xt(B,V.pathname,P.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){let rt=Qs(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[rt]:Ue.error}}}else if(Ue.matches)B=Ue.matches;else{let{error:rt,notFoundMatches:ms,route:Hs}=nt(V.pathname);return{matches:ms,loaderData:{},errors:{[Hs.id]:rt}}}}let D=o||r,[M,K]=oh(e.history,k,B,$e,V,f.v7_partialHydration&&ve===!0,f.v7_skipActionErrorRevalidation,re,Y,H,q,pe,te,D,c,je);if(gn(Ue=>!(B&&B.some(rt=>rt.route.id===Ue))||M&&M.some(rt=>rt.route.id===Ue)),A=++X,M.length===0&&K.length===0){let Ue=U();return E(V,pt({matches:B,loaderData:{},errors:je&&cn(je[1])?{[je[0]]:je[1].error}:null},fh(je),Ue?{fetchers:new Map(k.fetchers)}:{}),{flushSync:fe}),{shortCircuited:!0}}if(_t){let Ue={};if(!ne){Ue.navigation=Ae;let rt=Pe(je);rt!==void 0&&(Ue.actionData=rt)}K.length>0&&(Ue.fetchers=ae(K)),oe(Ue,{flushSync:fe})}K.forEach(Ue=>{ct(Ue.key),Ue.controller&&R.set(Ue.key,Ue.controller)});let Le=()=>K.forEach(Ue=>ct(Ue.key));L&&L.signal.addEventListener("abort",Le);let{loaderResults:_e,fetcherResults:xt}=await F(k,B,M,K,P);if(P.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Le),K.forEach(Ue=>R.delete(Ue.key));let Oe=bl(_e);if(Oe)return await Ke(P,Oe.result,!0,{replace:ge}),{shortCircuited:!0};if(Oe=bl(xt),Oe)return te.add(Oe.key),await Ke(P,Oe.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Xe,errors:ut}=mh(k,B,_e,je,K,xt,ee);ee.forEach((Ue,rt)=>{Ue.subscribe(ms=>{(ms||Ue.done)&&ee.delete(rt)})}),f.v7_partialHydration&&ve&&k.errors&&(ut=pt({},k.errors,ut));let ze=U(),tt=et(A),ln=ze||tt||K.length>0;return pt({matches:B,loaderData:Xe,errors:ut},ln?{fetchers:new Map(k.fetchers)}:{})}function Pe(P){if(P&&!cn(P[1]))return{[P[0]]:P[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function ae(P){return P.forEach(V=>{let B=k.fetchers.get(V.key),ne=ai(void 0,B?B.data:void 0);k.fetchers.set(V.key,ne)}),new Map(k.fetchers)}function Ee(P,V,B,ne){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ct(P);let de=(ne&&ne.flushSync)===!0,Ne=o||r,Ce=Mc(k.location,k.matches,c,f.v7_prependBasename,B,f.v7_relativeSplatPath,V,ne==null?void 0:ne.relative),ge=Js(Ne,Ce,c),ve=$n(ge,Ne,Ce);if(ve.active&&ve.matches&&(ge=ve.matches),!ge){ke(P,V,Yt(404,{pathname:Ce}),{flushSync:de});return}let{path:fe,submission:je,error:Ae}=lh(f.v7_normalizeFormMethod,!0,Ce,ne);if(Ae){ke(P,V,Ae,{flushSync:de});return}let $e=fi(ge,fe),_t=(ne&&ne.preventScrollReset)===!0;if(je&&Tn(je.formMethod)){Ie(P,V,fe,$e,ge,ve.active,de,_t,je);return}pe.set(P,{routeId:V,path:fe}),it(P,V,fe,$e,ge,ve.active,de,_t,je)}async function Ie(P,V,B,ne,de,Ne,Ce,ge,ve){he(),pe.delete(P);function fe(Nt){if(!Nt.route.action&&!Nt.route.lazy){let ps=Yt(405,{method:ve.formMethod,pathname:B,routeId:V});return ke(P,V,ps,{flushSync:Ce}),!0}return!1}if(!Ne&&fe(ne))return;let je=k.fetchers.get(P);ye(P,Rj(ve,je),{flushSync:Ce});let Ae=new AbortController,$e=ha(e.history,B,Ae.signal,ve);if(Ne){let Nt=await Xt(de,new URL($e.url).pathname,$e.signal,P);if(Nt.type==="aborted")return;if(Nt.type==="error"){ke(P,V,Nt.error,{flushSync:Ce});return}else if(Nt.matches){if(de=Nt.matches,ne=fi(de,B),fe(ne))return}else{ke(P,V,Yt(404,{pathname:B}),{flushSync:Ce});return}}R.set(P,Ae);let _t=X,M=(await Ye("action",k,$e,[ne],de,P))[ne.route.id];if($e.signal.aborted){R.get(P)===Ae&&R.delete(P);return}if(f.v7_fetcherPersist&&q.has(P)){if(Zs(M)||cn(M)){ye(P,_s(void 0));return}}else{if(Zs(M))if(R.delete(P),A>_t){ye(P,_s(void 0));return}else return te.add(P),ye(P,ai(ve)),Ke($e,M,!1,{fetcherSubmission:ve,preventScrollReset:ge});if(cn(M)){ke(P,V,M.error);return}}if(Ts(M))throw Yt(400,{type:"defer-action"});let K=k.navigation.location||k.location,Le=ha(e.history,K,Ae.signal),_e=o||r,xt=k.navigation.state!=="idle"?Js(_e,k.navigation.location,c):k.matches;Fe(xt,"Didn't find any matches after fetcher action");let Oe=++X;ie.set(P,Oe);let Xe=ai(ve,M.data);k.fetchers.set(P,Xe);let[ut,ze]=oh(e.history,k,xt,ve,K,!1,f.v7_skipActionErrorRevalidation,re,Y,H,q,pe,te,_e,c,[ne.route.id,M]);ze.filter(Nt=>Nt.key!==P).forEach(Nt=>{let ps=Nt.key,nl=k.fetchers.get(ps),sl=ai(void 0,nl?nl.data:void 0);k.fetchers.set(ps,sl),ct(ps),Nt.controller&&R.set(ps,Nt.controller)}),oe({fetchers:new Map(k.fetchers)});let tt=()=>ze.forEach(Nt=>ct(Nt.key));Ae.signal.addEventListener("abort",tt);let{loaderResults:ln,fetcherResults:Ue}=await F(k,xt,ut,ze,Le);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",tt),ie.delete(P),R.delete(P),ze.forEach(Nt=>R.delete(Nt.key));let rt=bl(ln);if(rt)return Ke(Le,rt.result,!1,{preventScrollReset:ge});if(rt=bl(Ue),rt)return te.add(rt.key),Ke(Le,rt.result,!1,{preventScrollReset:ge});let{loaderData:ms,errors:Hs}=mh(k,xt,ln,void 0,ze,Ue,ee);if(k.fetchers.has(P)){let Nt=_s(M.data);k.fetchers.set(P,Nt)}et(Oe),k.navigation.state==="loading"&&Oe>A?(Fe(C,"Expected pending action"),L&&L.abort(),E(k.navigation.location,{matches:xt,loaderData:ms,errors:Hs,fetchers:new Map(k.fetchers)})):(oe({errors:Hs,loaderData:ph(k.loaderData,ms,xt,Hs),fetchers:new Map(k.fetchers)}),re=!1)}async function it(P,V,B,ne,de,Ne,Ce,ge,ve){let fe=k.fetchers.get(P);ye(P,ai(ve,fe?fe.data:void 0),{flushSync:Ce});let je=new AbortController,Ae=ha(e.history,B,je.signal);if(Ne){let M=await Xt(de,new URL(Ae.url).pathname,Ae.signal,P);if(M.type==="aborted")return;if(M.type==="error"){ke(P,V,M.error,{flushSync:Ce});return}else if(M.matches)de=M.matches,ne=fi(de,B);else{ke(P,V,Yt(404,{pathname:B}),{flushSync:Ce});return}}R.set(P,je);let $e=X,D=(await Ye("loader",k,Ae,[ne],de,P))[ne.route.id];if(Ts(D)&&(D=await Id(D,Ae.signal,!0)||D),R.get(P)===je&&R.delete(P),!Ae.signal.aborted){if(q.has(P)){ye(P,_s(void 0));return}if(Zs(D))if(A>$e){ye(P,_s(void 0));return}else{te.add(P),await Ke(Ae,D,!1,{preventScrollReset:ge});return}if(cn(D)){ke(P,V,D.error);return}Fe(!Ts(D),"Unhandled fetcher deferred data"),ye(P,_s(D.data))}}async function Ke(P,V,B,ne){let{submission:de,fetcherSubmission:Ne,preventScrollReset:Ce,replace:ge}=ne===void 0?{}:ne;V.response.headers.has("X-Remix-Revalidate")&&(re=!0);let ve=V.response.headers.get("Location");Fe(ve,"Expected a Location header on the redirect Response"),ve=uh(ve,new URL(P.url),c);let fe=Hi(k.location,ve,{_isRedirect:!0});if(s){let M=!1;if(V.response.headers.has("X-Remix-Reload-Document"))M=!0;else if(zd.test(ve)){const K=e.history.createURL(ve);M=K.origin!==n.location.origin||cs(K.pathname,c)==null}if(M){ge?n.location.replace(ve):n.location.assign(ve);return}}L=null;let je=ge===!0||V.response.headers.has("X-Remix-Replace")?Ct.Replace:Ct.Push,{formMethod:Ae,formAction:$e,formEncType:_t}=k.navigation;!de&&!Ne&&Ae&&$e&&_t&&(de=vh(k.navigation));let D=de||Ne;if(pj.has(V.response.status)&&D&&Tn(D.formMethod))await ue(je,fe,{submission:pt({},D,{formAction:ve}),preventScrollReset:Ce||T,enableViewTransition:B?O:void 0});else{let M=_o(fe,de);await ue(je,fe,{overrideNavigation:M,fetcherSubmission:Ne,preventScrollReset:Ce||T,enableViewTransition:B?O:void 0})}}async function Ye(P,V,B,ne,de,Ne){let Ce,ge={};try{Ce=await Nj(h,P,V,B,ne,de,Ne,l,i)}catch(ve){return ne.forEach(fe=>{ge[fe.route.id]={type:st.error,error:ve}}),ge}for(let[ve,fe]of Object.entries(Ce))if(Tj(fe)){let je=fe.result;ge[ve]={type:st.redirect,response:kj(je,B,ve,de,c,f.v7_relativeSplatPath)}}else ge[ve]=await wj(fe);return ge}async function F(P,V,B,ne,de){let Ne=P.matches,Ce=Ye("loader",P,de,B,V,null),ge=Promise.all(ne.map(async je=>{if(je.matches&&je.match&&je.controller){let $e=(await Ye("loader",P,ha(e.history,je.path,je.controller.signal),[je.match],je.matches,je.key))[je.match.route.id];return{[je.key]:$e}}else return Promise.resolve({[je.key]:{type:st.error,error:Yt(404,{pathname:je.path})}})})),ve=await Ce,fe=(await ge).reduce((je,Ae)=>Object.assign(je,Ae),{});return await Promise.all([Dj(V,ve,de.signal,Ne,P.loaderData),Pj(V,fe,ne)]),{loaderResults:ve,fetcherResults:fe}}function he(){re=!0,Y.push(...gn()),pe.forEach((P,V)=>{R.has(V)&&H.add(V),ct(V)})}function ye(P,V,B){B===void 0&&(B={}),k.fetchers.set(P,V),oe({fetchers:new Map(k.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function ke(P,V,B,ne){ne===void 0&&(ne={});let de=Qs(k.matches,V);le(P),oe({errors:{[de.route.id]:B},fetchers:new Map(k.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Qe(P){return G.set(P,(G.get(P)||0)+1),q.has(P)&&q.delete(P),k.fetchers.get(P)||fj}function le(P){let V=k.fetchers.get(P);R.has(P)&&!(V&&V.state==="loading"&&ie.has(P))&&ct(P),pe.delete(P),ie.delete(P),te.delete(P),f.v7_fetcherPersist&&q.delete(P),H.delete(P),k.fetchers.delete(P)}function De(P){let V=(G.get(P)||0)-1;V<=0?(G.delete(P),q.add(P),f.v7_fetcherPersist||le(P)):G.set(P,V),oe({fetchers:new Map(k.fetchers)})}function ct(P){let V=R.get(P);V&&(V.abort(),R.delete(P))}function Ze(P){for(let V of P){let B=Qe(V),ne=_s(B.data);k.fetchers.set(V,ne)}}function U(){let P=[],V=!1;for(let B of te){let ne=k.fetchers.get(B);Fe(ne,"Expected fetcher: "+B),ne.state==="loading"&&(te.delete(B),P.push(B),V=!0)}return Ze(P),V}function et(P){let V=[];for(let[B,ne]of ie)if(ne<P){let de=k.fetchers.get(B);Fe(de,"Expected fetcher: "+B),de.state==="loading"&&(ct(B),ie.delete(B),V.push(B))}return Ze(V),V.length>0}function tl(P,V){let B=k.blockers.get(P)||si;return be.get(P)!==V&&be.set(P,V),B}function zn(P){k.blockers.delete(P),be.delete(P)}function an(P,V){let B=k.blockers.get(P)||si;Fe(B.state==="unblocked"&&V.state==="blocked"||B.state==="blocked"&&V.state==="blocked"||B.state==="blocked"&&V.state==="proceeding"||B.state==="blocked"&&V.state==="unblocked"||B.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+V.state);let ne=new Map(k.blockers);ne.set(P,V),oe({blockers:ne})}function In(P){let{currentLocation:V,nextLocation:B,historyAction:ne}=P;if(be.size===0)return;be.size>1&&Va(!1,"A router only supports one blocker at a time");let de=Array.from(be.entries()),[Ne,Ce]=de[de.length-1],ge=k.blockers.get(Ne);if(!(ge&&ge.state==="proceeding")&&Ce({currentLocation:V,nextLocation:B,historyAction:ne}))return Ne}function nt(P){let V=Yt(404,{pathname:P}),B=o||r,{matches:ne,route:de}=gh(B);return gn(),{notFoundMatches:ne,route:de,error:V}}function gn(P){let V=[];return ee.forEach((B,ne)=>{(!P||P(ne))&&(B.cancel(),V.push(ne),ee.delete(ne))}),V}function hs(P,V,B){if(_=P,g=V,b=B||null,!m&&k.navigation===yo){m=!0;let ne=Yn(k.location,k.matches);ne!=null&&oe({restoreScrollPosition:ne})}return()=>{_=null,g=null,b=null}}function xn(P,V){return b&&b(P,V.map(ne=>Wv(ne,k.loaderData)))||P.key}function Ja(P,V){if(_&&g){let B=xn(P,V);_[B]=g()}}function Yn(P,V){if(_){let B=xn(P,V),ne=_[B];if(typeof ne=="number")return ne}return null}function $n(P,V,B){if(v)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Vl(V,B,c,!0)}}else return{active:!0,matches:Vl(V,B,c,!0)||[]};return{active:!1,matches:null}}async function Xt(P,V,B,ne){if(!v)return{type:"success",matches:P};let de=P;for(;;){let Ne=o==null,Ce=o||r,ge=l;try{await v({signal:B,path:V,matches:de,fetcherKey:ne,patch:(je,Ae)=>{B.aborted||dh(je,Ae,Ce,ge,i)}})}catch(je){return{type:"error",error:je,partialMatches:de}}finally{Ne&&!B.aborted&&(r=[...r])}if(B.aborted)return{type:"aborted"};let ve=Js(Ce,V,c);if(ve)return{type:"success",matches:ve};let fe=Vl(Ce,V,c,!0);if(!fe||de.length===fe.length&&de.every((je,Ae)=>je.route.id===fe[Ae].route.id))return{type:"success",matches:null};de=fe}}function Us(P){l={},o=hr(P,i,void 0,l)}function Fn(P,V){let B=o==null;dh(P,V,o||r,l,i),B&&(r=[...r],oe({}))}return w={get basename(){return c},get future(){return f},get state(){return k},get routes(){return r},get window(){return n},initialize:Je,subscribe:Be,enableScrollRestoration:hs,navigate:J,fetch:Ee,revalidate:Q,createHref:P=>e.history.createHref(P),encodeLocation:P=>e.history.encodeLocation(P),getFetcher:Qe,deleteFetcher:De,dispose:Re,getBlocker:tl,deleteBlocker:zn,patchRoutes:Fn,_internalFetchControllers:R,_internalActiveDeferreds:ee,_internalSetRoutes:Us},w}function vj(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Mc(e,n,s,a,i,l,r,o){let c,h;if(r){c=[];for(let f of n)if(c.push(f),f.route.id===r){h=f;break}}else c=n,h=n[n.length-1];let v=Br(i||".",Vr(c,l),cs(e.pathname,s)||e.pathname,o==="path");if(i==null&&(v.search=e.search,v.hash=e.hash),(i==null||i===""||i===".")&&h){let f=$d(v.search);if(h.route.index&&!f)v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&f){let x=new URLSearchParams(v.search),j=x.getAll("index");x.delete("index"),j.filter(b=>b).forEach(b=>x.append("index",b));let _=x.toString();v.search=_?"?"+_:""}}return a&&s!=="/"&&(v.pathname=v.pathname==="/"?s:as([s,v.pathname])),oa(v)}function lh(e,n,s,a){if(!a||!vj(a))return{path:s};if(a.formMethod&&!Lj(a.formMethod))return{path:s,error:Yt(405,{method:a.formMethod})};let i=()=>({path:s,error:Yt(400,{type:"invalid-body"})}),l=a.formMethod||"get",r=e?l.toUpperCase():l.toLowerCase(),o=Uf(s);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Tn(r))return i();let x=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((j,_)=>{let[b,g]=_;return""+j+b+"="+g+`
`},""):String(a.body);return{path:s,submission:{formMethod:r,formAction:o,formEncType:a.formEncType,formData:void 0,json:void 0,text:x}}}else if(a.formEncType==="application/json"){if(!Tn(r))return i();try{let x=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:s,submission:{formMethod:r,formAction:o,formEncType:a.formEncType,formData:void 0,json:x,text:void 0}}}catch{return i()}}}Fe(typeof FormData=="function","FormData is not available in this environment");let c,h;if(a.formData)c=Ac(a.formData),h=a.formData;else if(a.body instanceof FormData)c=Ac(a.body),h=a.body;else if(a.body instanceof URLSearchParams)c=a.body,h=hh(c);else if(a.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(a.body),h=hh(c)}catch{return i()}let v={formMethod:r,formAction:o,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Tn(v.formMethod))return{path:s,submission:v};let f=Os(s);return n&&f.search&&$d(f.search)&&c.append("index",""),f.search="?"+c,{path:oa(f),submission:v}}function rh(e,n,s){s===void 0&&(s=!1);let a=e.findIndex(i=>i.route.id===n);return a>=0?e.slice(0,s?a+1:a):e}function oh(e,n,s,a,i,l,r,o,c,h,v,f,x,j,_,b){let g=b?cn(b[1])?b[1].error:b[1].data:void 0,m=e.createURL(n.location),d=e.createURL(i),p=s;l&&n.errors?p=rh(s,Object.keys(n.errors)[0],!0):b&&cn(b[1])&&(p=rh(s,b[0]));let y=b?b[1].statusCode:void 0,S=r&&y&&y>=400,w=p.filter((C,T)=>{let{route:L}=C;if(L.lazy)return!0;if(L.loader==null)return!1;if(l)return Rc(L,n.loaderData,n.errors);if(jj(n.loaderData,n.matches[T],C)||c.some($=>$===C.route.id))return!0;let O=n.matches[T],se=C;return ch(C,pt({currentUrl:m,currentParams:O.params,nextUrl:d,nextParams:se.params},a,{actionResult:g,actionStatus:y,defaultShouldRevalidate:S?!1:o||m.pathname+m.search===d.pathname+d.search||m.search!==d.search||Bf(O,se)}))}),k=[];return f.forEach((C,T)=>{if(l||!s.some(z=>z.route.id===C.routeId)||v.has(T))return;let L=Js(j,C.path,_);if(!L){k.push({key:T,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let O=n.fetchers.get(T),se=fi(L,C.path),$=!1;x.has(T)?$=!1:h.has(T)?(h.delete(T),$=!0):O&&O.state!=="idle"&&O.data===void 0?$=o:$=ch(se,pt({currentUrl:m,currentParams:n.matches[n.matches.length-1].params,nextUrl:d,nextParams:s[s.length-1].params},a,{actionResult:g,actionStatus:y,defaultShouldRevalidate:S?!1:o})),$&&k.push({key:T,routeId:C.routeId,path:C.path,matches:L,match:se,controller:new AbortController})}),[w,k]}function Rc(e,n,s){if(e.lazy)return!0;if(!e.loader)return!1;let a=n!=null&&n[e.id]!==void 0,i=s!=null&&s[e.id]!==void 0;return!a&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!i}function jj(e,n,s){let a=!n||s.route.id!==n.route.id,i=e[s.route.id]===void 0;return a||i}function Bf(e,n){let s=e.route.path;return e.pathname!==n.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==n.params["*"]}function ch(e,n){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(n);if(typeof s=="boolean")return s}return n.defaultShouldRevalidate}function dh(e,n,s,a,i){var l;let r;if(e){let h=a[e];Fe(h,"No route found to patch children into: routeId = "+e),h.children||(h.children=[]),r=h.children}else r=s;let o=n.filter(h=>!r.some(v=>Of(h,v))),c=hr(o,i,[e||"_","patch",String(((l=r)==null?void 0:l.length)||"0")],a);r.push(...c)}function Of(e,n){return"id"in e&&"id"in n&&e.id===n.id?!0:e.index===n.index&&e.path===n.path&&e.caseSensitive===n.caseSensitive?(!e.children||e.children.length===0)&&(!n.children||n.children.length===0)?!0:e.children.every((s,a)=>{var i;return(i=n.children)==null?void 0:i.some(l=>Of(s,l))}):!1}async function yj(e,n,s){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let i=s[e.id];Fe(i,"No route found in manifest");let l={};for(let r in a){let c=i[r]!==void 0&&r!=="hasErrorBoundary";Va(!c,'Route "'+i.id+'" has a static property "'+r+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+r+'" will be ignored.')),!c&&!Hv.has(r)&&(l[r]=a[r])}Object.assign(i,l),Object.assign(i,pt({},n(i),{lazy:void 0}))}async function _j(e){let{matches:n}=e,s=n.filter(i=>i.shouldLoad);return(await Promise.all(s.map(i=>i.resolve()))).reduce((i,l,r)=>Object.assign(i,{[s[r].route.id]:l}),{})}async function Nj(e,n,s,a,i,l,r,o,c,h){let v=l.map(j=>j.route.lazy?yj(j.route,c,o):void 0),f=l.map((j,_)=>{let b=v[_],g=i.some(d=>d.route.id===j.route.id);return pt({},j,{shouldLoad:g,resolve:async d=>(d&&a.method==="GET"&&(j.route.lazy||j.route.loader)&&(g=!0),g?bj(n,a,j,b,d,h):Promise.resolve({type:st.data,result:void 0}))})}),x=await e({matches:f,request:a,params:l[0].params,fetcherKey:r,context:h});try{await Promise.all(v)}catch{}return x}async function bj(e,n,s,a,i,l){let r,o,c=h=>{let v,f=new Promise((_,b)=>v=b);o=()=>v(),n.signal.addEventListener("abort",o);let x=_=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+s.route.id+"]"))):h({request:n,params:s.params,context:l},..._!==void 0?[_]:[]),j=(async()=>{try{return{type:"data",result:await(i?i(b=>x(b)):x())}}catch(_){return{type:"error",result:_}}})();return Promise.race([j,f])};try{let h=s.route[e];if(a)if(h){let v,[f]=await Promise.all([c(h).catch(x=>{v=x}),a]);if(v!==void 0)throw v;r=f}else if(await a,h=s.route[e],h)r=await c(h);else if(e==="action"){let v=new URL(n.url),f=v.pathname+v.search;throw Yt(405,{method:n.method,pathname:f,routeId:s.route.id})}else return{type:st.data,result:void 0};else if(h)r=await c(h);else{let v=new URL(n.url),f=v.pathname+v.search;throw Yt(404,{pathname:f})}Fe(r.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+s.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:st.error,result:h}}finally{o&&n.signal.removeEventListener("abort",o)}return r}async function wj(e){let{result:n,type:s}=e;if(Hf(n)){let f;try{let x=n.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?n.body==null?f=null:f=await n.json():f=await n.text()}catch(x){return{type:st.error,error:x}}return s===st.error?{type:st.error,error:new pr(n.status,n.statusText,f),statusCode:n.status,headers:n.headers}:{type:st.data,data:f,statusCode:n.status,headers:n.headers}}if(s===st.error){if(xh(n)){var a,i;if(n.data instanceof Error){var l,r;return{type:st.error,error:n.data,statusCode:(l=n.init)==null?void 0:l.status,headers:(r=n.init)!=null&&r.headers?new Headers(n.init.headers):void 0}}return{type:st.error,error:new pr(((a=n.init)==null?void 0:a.status)||500,void 0,n.data),statusCode:Ki(n)?n.status:void 0,headers:(i=n.init)!=null&&i.headers?new Headers(n.init.headers):void 0}}return{type:st.error,error:n,statusCode:Ki(n)?n.status:void 0}}if(Ej(n)){var o,c;return{type:st.deferred,deferredData:n,statusCode:(o=n.init)==null?void 0:o.status,headers:((c=n.init)==null?void 0:c.headers)&&new Headers(n.init.headers)}}if(xh(n)){var h,v;return{type:st.data,data:n.data,statusCode:(h=n.init)==null?void 0:h.status,headers:(v=n.init)!=null&&v.headers?new Headers(n.init.headers):void 0}}return{type:st.data,data:n}}function kj(e,n,s,a,i,l){let r=e.headers.get("Location");if(Fe(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!zd.test(r)){let o=a.slice(0,a.findIndex(c=>c.route.id===s)+1);r=Mc(new URL(n.url),o,i,!0,r,l),e.headers.set("Location",r)}return e}function uh(e,n,s){if(zd.test(e)){let a=e,i=a.startsWith("//")?new URL(n.protocol+a):new URL(a),l=cs(i.pathname,s)!=null;if(i.origin===n.origin&&l)return i.pathname+i.search+i.hash}return e}function ha(e,n,s,a){let i=e.createURL(Uf(n)).toString(),l={signal:s};if(a&&Tn(a.formMethod)){let{formMethod:r,formEncType:o}=a;l.method=r.toUpperCase(),o==="application/json"?(l.headers=new Headers({"Content-Type":o}),l.body=JSON.stringify(a.json)):o==="text/plain"?l.body=a.text:o==="application/x-www-form-urlencoded"&&a.formData?l.body=Ac(a.formData):l.body=a.formData}return new Request(i,l)}function Ac(e){let n=new URLSearchParams;for(let[s,a]of e.entries())n.append(s,typeof a=="string"?a:a.name);return n}function hh(e){let n=new FormData;for(let[s,a]of e.entries())n.append(s,a);return n}function Cj(e,n,s,a,i){let l={},r=null,o,c=!1,h={},v=s&&cn(s[1])?s[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in n))return;let x=f.route.id,j=n[x];if(Fe(!Zs(j),"Cannot handle redirect results in processLoaderData"),cn(j)){let _=j.error;v!==void 0&&(_=v,v=void 0),r=r||{};{let b=Qs(e,x);r[b.route.id]==null&&(r[b.route.id]=_)}l[x]=void 0,c||(c=!0,o=Ki(j.error)?j.error.status:500),j.headers&&(h[x]=j.headers)}else Ts(j)?(a.set(x,j.deferredData),l[x]=j.deferredData.data,j.statusCode!=null&&j.statusCode!==200&&!c&&(o=j.statusCode),j.headers&&(h[x]=j.headers)):(l[x]=j.data,j.statusCode&&j.statusCode!==200&&!c&&(o=j.statusCode),j.headers&&(h[x]=j.headers))}),v!==void 0&&s&&(r={[s[0]]:v},l[s[0]]=void 0),{loaderData:l,errors:r,statusCode:o||200,loaderHeaders:h}}function mh(e,n,s,a,i,l,r){let{loaderData:o,errors:c}=Cj(n,s,a,r);return i.forEach(h=>{let{key:v,match:f,controller:x}=h,j=l[v];if(Fe(j,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(cn(j)){let _=Qs(e.matches,f==null?void 0:f.route.id);c&&c[_.route.id]||(c=pt({},c,{[_.route.id]:j.error})),e.fetchers.delete(v)}else if(Zs(j))Fe(!1,"Unhandled fetcher revalidation redirect");else if(Ts(j))Fe(!1,"Unhandled fetcher deferred data");else{let _=_s(j.data);e.fetchers.set(v,_)}}),{loaderData:o,errors:c}}function ph(e,n,s,a){let i=pt({},n);for(let l of s){let r=l.route.id;if(n.hasOwnProperty(r)?n[r]!==void 0&&(i[r]=n[r]):e[r]!==void 0&&l.route.loader&&(i[r]=e[r]),a&&a.hasOwnProperty(r))break}return i}function fh(e){return e?cn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Qs(e,n){return(n?e.slice(0,e.findIndex(a=>a.route.id===n)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function gh(e){let n=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function Yt(e,n){let{pathname:s,routeId:a,method:i,type:l,message:r}=n===void 0?{}:n,o="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&s&&a?c="You made a "+i+' request to "'+s+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":l==="defer-action"?c="defer() is not supported in actions":l==="invalid-body"&&(c="Unable to encode submission body")):e===403?(o="Forbidden",c='Route "'+a+'" does not match URL "'+s+'"'):e===404?(o="Not Found",c='No route matches URL "'+s+'"'):e===405&&(o="Method Not Allowed",i&&s&&a?c="You made a "+i.toUpperCase()+' request to "'+s+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new pr(e||500,o,new Error(c),!0)}function bl(e){let n=Object.entries(e);for(let s=n.length-1;s>=0;s--){let[a,i]=n[s];if(Zs(i))return{key:a,result:i}}}function Uf(e){let n=typeof e=="string"?Os(e):e;return oa(pt({},n,{hash:""}))}function Sj(e,n){return e.pathname!==n.pathname||e.search!==n.search?!1:e.hash===""?n.hash!=="":e.hash===n.hash?!0:n.hash!==""}function Tj(e){return Hf(e.result)&&mj.has(e.result.status)}function Ts(e){return e.type===st.deferred}function cn(e){return e.type===st.error}function Zs(e){return(e&&e.type)===st.redirect}function xh(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ej(e){let n=e;return n&&typeof n=="object"&&typeof n.data=="object"&&typeof n.subscribe=="function"&&typeof n.cancel=="function"&&typeof n.resolveData=="function"}function Hf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Lj(e){return hj.has(e.toLowerCase())}function Tn(e){return dj.has(e.toLowerCase())}async function Dj(e,n,s,a,i){let l=Object.entries(n);for(let r=0;r<l.length;r++){let[o,c]=l[r],h=e.find(x=>(x==null?void 0:x.route.id)===o);if(!h)continue;let v=a.find(x=>x.route.id===h.route.id),f=v!=null&&!Bf(v,h)&&(i&&i[h.route.id])!==void 0;Ts(c)&&f&&await Id(c,s,!1).then(x=>{x&&(n[o]=x)})}}async function Pj(e,n,s){for(let a=0;a<s.length;a++){let{key:i,routeId:l,controller:r}=s[a],o=n[i];e.find(h=>(h==null?void 0:h.route.id)===l)&&Ts(o)&&(Fe(r,"Expected an AbortController for revalidating fetcher deferred result"),await Id(o,r.signal,!0).then(h=>{h&&(n[i]=h)}))}}async function Id(e,n,s){if(s===void 0&&(s=!1),!await e.deferredData.resolveData(n)){if(s)try{return{type:st.data,data:e.deferredData.unwrappedData}}catch(i){return{type:st.error,error:i}}return{type:st.data,data:e.deferredData.data}}}function $d(e){return new URLSearchParams(e).getAll("index").some(n=>n==="")}function fi(e,n){let s=typeof n=="string"?Os(n).search:n.search;if(e[e.length-1].route.index&&$d(s||""))return e[e.length-1];let a=$f(e);return a[a.length-1]}function vh(e){let{formMethod:n,formAction:s,formEncType:a,text:i,formData:l,json:r}=e;if(!(!n||!s||!a)){if(i!=null)return{formMethod:n,formAction:s,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:n,formAction:s,formEncType:a,formData:l,json:void 0,text:void 0};if(r!==void 0)return{formMethod:n,formAction:s,formEncType:a,formData:void 0,json:r,text:void 0}}}function _o(e,n){return n?{state:"loading",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mj(e,n){return{state:"submitting",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function ai(e,n){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Rj(e,n){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n?n.data:void 0}}function _s(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Aj(e,n){try{let s=e.sessionStorage.getItem(Vf);if(s){let a=JSON.parse(s);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&n.set(i,new Set(l||[]))}}catch{}}function zj(e,n){if(n.size>0){let s={};for(let[a,i]of n)s[a]=[...i];try{e.sessionStorage.setItem(Vf,JSON.stringify(s))}catch(a){Va(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},fr.apply(this,arguments)}const Zi=u.createContext(null),Fd=u.createContext(null),us=u.createContext(null),Vd=u.createContext(null),Xn=u.createContext({outlet:null,matches:[],isDataRoute:!1}),Kf=u.createContext(null);function Ij(e,n){let{relative:s}=n===void 0?{}:n;Wa()||Fe(!1);let{basename:a,navigator:i}=u.useContext(us),{hash:l,pathname:r,search:o}=Or(e,{relative:s}),c=r;return a!=="/"&&(c=r==="/"?a:as([a,r])),i.createHref({pathname:c,search:o,hash:l})}function Wa(){return u.useContext(Vd)!=null}function fn(){return Wa()||Fe(!1),u.useContext(Vd).location}function Wf(e){u.useContext(us).static||u.useLayoutEffect(e)}function He(){let{isDataRoute:e}=u.useContext(Xn);return e?Gj():$j()}function $j(){Wa()||Fe(!1);let e=u.useContext(Zi),{basename:n,future:s,navigator:a}=u.useContext(us),{matches:i}=u.useContext(Xn),{pathname:l}=fn(),r=JSON.stringify(Vr(i,s.v7_relativeSplatPath)),o=u.useRef(!1);return Wf(()=>{o.current=!0}),u.useCallback(function(h,v){if(v===void 0&&(v={}),!o.current)return;if(typeof h=="number"){a.go(h);return}let f=Br(h,JSON.parse(r),l,v.relative==="path");e==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:as([n,f.pathname])),(v.replace?a.replace:a.push)(f,v.state,v)},[n,a,r,l,e])}const Fj=u.createContext(null);function Vj(e){let n=u.useContext(Xn).outlet;return n&&u.createElement(Fj.Provider,{value:e},n)}function Gn(){let{matches:e}=u.useContext(Xn),n=e[e.length-1];return n?n.params:{}}function Or(e,n){let{relative:s}=n===void 0?{}:n,{future:a}=u.useContext(us),{matches:i}=u.useContext(Xn),{pathname:l}=fn(),r=JSON.stringify(Vr(i,a.v7_relativeSplatPath));return u.useMemo(()=>Br(e,JSON.parse(r),l,s==="path"),[e,r,l,s])}function Bj(e,n,s,a){Wa()||Fe(!1);let{navigator:i}=u.useContext(us),{matches:l}=u.useContext(Xn),r=l[l.length-1],o=r?r.params:{};r&&r.pathname;let c=r?r.pathnameBase:"/";r&&r.route;let h=fn(),v;v=h;let f=v.pathname||"/",x=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let j=Js(e,{pathname:x});return Wj(j&&j.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:as([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:as([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,s,a)}function Oj(){let e=Xj(),n=Ki(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},n),s?u.createElement("pre",{style:i},s):null,null)}const Uj=u.createElement(Oj,null);class Hj extends u.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?u.createElement(Xn.Provider,{value:this.props.routeContext},u.createElement(Kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kj(e){let{routeContext:n,match:s,children:a}=e,i=u.useContext(Zi);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(Xn.Provider,{value:n},a)}function Wj(e,n,s,a){var i;if(n===void 0&&(n=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=a)!=null&&l.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let r=e,o=(i=s)==null?void 0:i.errors;if(o!=null){let v=r.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);v>=0||Fe(!1),r=r.slice(0,Math.min(r.length,v+1))}let c=!1,h=-1;if(s&&a&&a.v7_partialHydration)for(let v=0;v<r.length;v++){let f=r[v];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=v),f.route.id){let{loaderData:x,errors:j}=s,_=f.route.loader&&x[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||_){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((v,f,x)=>{let j,_=!1,b=null,g=null;s&&(j=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||Uj,c&&(h<0&&x===0?(Yj("route-fallback"),_=!0,g=null):h===x&&(_=!0,g=f.route.hydrateFallbackElement||null)));let m=n.concat(r.slice(0,x+1)),d=()=>{let p;return j?p=b:_?p=g:f.route.Component?p=u.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=v,u.createElement(Kj,{match:f,routeContext:{outlet:v,matches:m,isDataRoute:s!=null},children:p})};return s&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?u.createElement(Hj,{location:s.location,revalidation:s.revalidation,component:b,error:j,children:d(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):d()},null)}var qf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qf||{}),Jf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jf||{});function qj(e){let n=u.useContext(Zi);return n||Fe(!1),n}function Jj(e){let n=u.useContext(Fd);return n||Fe(!1),n}function Qj(e){let n=u.useContext(Xn);return n||Fe(!1),n}function Qf(e){let n=Qj(),s=n.matches[n.matches.length-1];return s.route.id||Fe(!1),s.route.id}function Xj(){var e;let n=u.useContext(Kf),s=Jj(),a=Qf();return n!==void 0?n:(e=s.errors)==null?void 0:e[a]}function Gj(){let{router:e}=qj(qf.UseNavigateStable),n=Qf(Jf.UseNavigateStable),s=u.useRef(!1);return Wf(()=>{s.current=!0}),u.useCallback(function(i,l){l===void 0&&(l={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,fr({fromRouteId:n},l)))},[e,n])}const jh={};function Yj(e,n,s){jh[e]||(jh[e]=!0)}function Zj(e,n){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function Bd(e){let{to:n,replace:s,state:a,relative:i}=e;Wa()||Fe(!1);let{future:l,static:r}=u.useContext(us),{matches:o}=u.useContext(Xn),{pathname:c}=fn(),h=He(),v=Br(n,Vr(o,l.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(v);return u.useEffect(()=>h(JSON.parse(f),{replace:s,state:a,relative:i}),[h,f,i,s,a]),null}function zc(e){return Vj(e.context)}function ey(e){let{basename:n="/",children:s=null,location:a,navigationType:i=Ct.Pop,navigator:l,static:r=!1,future:o}=e;Wa()&&Fe(!1);let c=n.replace(/^\/*/,"/"),h=u.useMemo(()=>({basename:c,navigator:l,static:r,future:fr({v7_relativeSplatPath:!1},o)}),[c,o,l,r]);typeof a=="string"&&(a=Os(a));let{pathname:v="/",search:f="",hash:x="",state:j=null,key:_="default"}=a,b=u.useMemo(()=>{let g=cs(v,c);return g==null?null:{location:{pathname:g,search:f,hash:x,state:j,key:_},navigationType:i}},[c,v,f,x,j,_,i]);return b==null?null:u.createElement(us.Provider,{value:h},u.createElement(Vd.Provider,{children:s,value:b}))}new Promise(()=>{});function ty(e){let n={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(n,{element:u.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:u.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:u.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ba.apply(this,arguments)}function Xf(e,n){if(e==null)return{};var s={},a=Object.keys(e),i,l;for(l=0;l<a.length;l++)i=a[l],!(n.indexOf(i)>=0)&&(s[i]=e[i]);return s}function ny(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sy(e,n){return e.button===0&&(!n||n==="_self")&&!ny(e)}function Ic(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,s)=>{let a=e[s];return n.concat(Array.isArray(a)?a.map(i=>[s,i]):[[s,a]])},[]))}function ay(e,n){let s=Ic(e);return n&&n.forEach((a,i)=>{s.has(i)||n.getAll(i).forEach(l=>{s.append(i,l)})}),s}const iy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ly=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ry="6";try{window.__reactRouterVersion=ry}catch{}function oy(e,n){return xj({basename:n==null?void 0:n.basename,future:Ba({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:Bv({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||cy(),routes:e,mapRouteProperties:ty,dataStrategy:n==null?void 0:n.dataStrategy,patchRoutesOnNavigation:n==null?void 0:n.patchRoutesOnNavigation,window:n==null?void 0:n.window}).initialize()}function cy(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=Ba({},n,{errors:dy(n.errors)})),n}function dy(e){if(!e)return null;let n=Object.entries(e),s={};for(let[a,i]of n)if(i&&i.__type==="RouteErrorResponse")s[a]=new pr(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let r=new l(i.message);r.stack="",s[a]=r}catch{}}if(s[a]==null){let l=new Error(i.message);l.stack="",s[a]=l}}else s[a]=i;return s}const Gf=u.createContext({isTransitioning:!1}),uy=u.createContext(new Map),hy="startTransition",yh=Tg[hy],my="flushSync",_h=Vv[my];function py(e){yh?yh(e):e()}function ii(e){_h?_h(e):e()}class fy{constructor(){this.status="pending",this.promise=new Promise((n,s)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",n(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",s(a))}})}}function gy(e){let{fallbackElement:n,router:s,future:a}=e,[i,l]=u.useState(s.state),[r,o]=u.useState(),[c,h]=u.useState({isTransitioning:!1}),[v,f]=u.useState(),[x,j]=u.useState(),[_,b]=u.useState(),g=u.useRef(new Map),{v7_startTransition:m}=a||{},d=u.useCallback(C=>{m?py(C):C()},[m]),p=u.useCallback((C,T)=>{let{deletedFetchers:L,flushSync:O,viewTransitionOpts:se}=T;C.fetchers.forEach((z,re)=>{z.data!==void 0&&g.current.set(re,z.data)}),L.forEach(z=>g.current.delete(z));let $=s.window==null||s.window.document==null||typeof s.window.document.startViewTransition!="function";if(!se||$){O?ii(()=>l(C)):d(()=>l(C));return}if(O){ii(()=>{x&&(v&&v.resolve(),x.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:se.currentLocation,nextLocation:se.nextLocation})});let z=s.window.document.startViewTransition(()=>{ii(()=>l(C))});z.finished.finally(()=>{ii(()=>{f(void 0),j(void 0),o(void 0),h({isTransitioning:!1})})}),ii(()=>j(z));return}x?(v&&v.resolve(),x.skipTransition(),b({state:C,currentLocation:se.currentLocation,nextLocation:se.nextLocation})):(o(C),h({isTransitioning:!0,flushSync:!1,currentLocation:se.currentLocation,nextLocation:se.nextLocation}))},[s.window,x,v,g,d]);u.useLayoutEffect(()=>s.subscribe(p),[s,p]),u.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new fy)},[c]),u.useEffect(()=>{if(v&&r&&s.window){let C=r,T=v.promise,L=s.window.document.startViewTransition(async()=>{d(()=>l(C)),await T});L.finished.finally(()=>{f(void 0),j(void 0),o(void 0),h({isTransitioning:!1})}),j(L)}},[d,r,v,s.window]),u.useEffect(()=>{v&&r&&i.location.key===r.location.key&&v.resolve()},[v,x,i.location,r]),u.useEffect(()=>{!c.isTransitioning&&_&&(o(_.state),h({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),b(void 0))},[c.isTransitioning,_]),u.useEffect(()=>{},[]);let y=u.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:C=>s.navigate(C),push:(C,T,L)=>s.navigate(C,{state:T,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(C,T,L)=>s.navigate(C,{replace:!0,state:T,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[s]),S=s.basename||"/",w=u.useMemo(()=>({router:s,navigator:y,static:!1,basename:S}),[s,y,S]),k=u.useMemo(()=>({v7_relativeSplatPath:s.future.v7_relativeSplatPath}),[s.future.v7_relativeSplatPath]);return u.useEffect(()=>Zj(a,s.future),[a,s.future]),u.createElement(u.Fragment,null,u.createElement(Zi.Provider,{value:w},u.createElement(Fd.Provider,{value:i},u.createElement(uy.Provider,{value:g.current},u.createElement(Gf.Provider,{value:c},u.createElement(ey,{basename:S,location:i.location,navigationType:i.historyAction,navigator:y,future:k},i.initialized||s.future.v7_partialHydration?u.createElement(xy,{routes:s.routes,future:s.future,state:i}):n))))),null)}const xy=u.memo(vy);function vy(e){let{routes:n,future:s,state:a}=e;return Bj(n,void 0,a,s)}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=u.forwardRef(function(n,s){let{onClick:a,relative:i,reloadDocument:l,replace:r,state:o,target:c,to:h,preventScrollReset:v,viewTransition:f}=n,x=Xf(n,iy),{basename:j}=u.useContext(us),_,b=!1;if(typeof h=="string"&&yy.test(h)&&(_=h,jy))try{let p=new URL(window.location.href),y=h.startsWith("//")?new URL(p.protocol+h):new URL(h),S=cs(y.pathname,j);y.origin===p.origin&&S!=null?h=S+y.search+y.hash:b=!0}catch{}let g=Ij(h,{relative:i}),m=Ny(h,{replace:r,state:o,target:c,preventScrollReset:v,relative:i,viewTransition:f});function d(p){a&&a(p),p.defaultPrevented||m(p)}return u.createElement("a",Ba({},x,{href:_||g,onClick:b||l?a:d,ref:s,target:c}))}),Bn=u.forwardRef(function(n,s){let{"aria-current":a="page",caseSensitive:i=!1,className:l="",end:r=!1,style:o,to:c,viewTransition:h,children:v}=n,f=Xf(n,ly),x=Or(c,{relative:f.relative}),j=fn(),_=u.useContext(Fd),{navigator:b,basename:g}=u.useContext(us),m=_!=null&&by(x)&&h===!0,d=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,p=j.pathname,y=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(p=p.toLowerCase(),y=y?y.toLowerCase():null,d=d.toLowerCase()),y&&g&&(y=cs(y,g)||y);const S=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let w=p===d||!r&&p.startsWith(d)&&p.charAt(S)==="/",k=y!=null&&(y===d||!r&&y.startsWith(d)&&y.charAt(d.length)==="/"),C={isActive:w,isPending:k,isTransitioning:m},T=w?a:void 0,L;typeof l=="function"?L=l(C):L=[l,w?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(C):o;return u.createElement(We,Ba({},f,{"aria-current":T,className:L,ref:s,style:O,to:c,viewTransition:h}),typeof v=="function"?v(C):v)});var $c;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($c||($c={}));var Nh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nh||(Nh={}));function _y(e){let n=u.useContext(Zi);return n||Fe(!1),n}function Ny(e,n){let{target:s,replace:a,state:i,preventScrollReset:l,relative:r,viewTransition:o}=n===void 0?{}:n,c=He(),h=fn(),v=Or(e,{relative:r});return u.useCallback(f=>{if(sy(f,s)){f.preventDefault();let x=a!==void 0?a:oa(h)===oa(v);c(e,{replace:x,state:i,preventScrollReset:l,relative:r,viewTransition:o})}},[h,c,v,a,i,s,e,l,r,o])}function qa(e){let n=u.useRef(Ic(e)),s=u.useRef(!1),a=fn(),i=u.useMemo(()=>ay(a.search,s.current?null:n.current),[a.search]),l=He(),r=u.useCallback((o,c)=>{const h=Ic(typeof o=="function"?o(i):o);s.current=!0,l("?"+h,c)},[l,i]);return[i,r]}function by(e,n){n===void 0&&(n={});let s=u.useContext(Gf);s==null&&Fe(!1);let{basename:a}=_y($c.useViewTransitionState),i=Or(e,{relative:n.relative});if(!s.isTransitioning)return!1;let l=cs(s.currentLocation.pathname,a)||s.currentLocation.pathname,r=cs(s.nextLocation.pathname,a)||s.nextLocation.pathname;return mr(i.pathname,r)!=null||mr(i.pathname,l)!=null}function Mn(){return localStorage.getItem("authRole")||""}function Od(e){localStorage.setItem("authRole",e),Ur()}function Jn(){localStorage.removeItem("authRole"),localStorage.removeItem("authProvider"),localStorage.removeItem("authUser"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),Ur()}function Yf(e="seeker",n){const s={name:"Google User",email:"user@example.com",avatar:"https://www.gstatic.com/images/branding/product/1x/avatar_circle_blue_512dp.png"};localStorage.setItem("authProvider","google"),localStorage.setItem("authUser",JSON.stringify(s)),localStorage.setItem("authRole",e),Ur()}function Wi(){try{return JSON.parse(localStorage.getItem("authUser")||"{}")}catch{return{}}}function gr(e){e&&localStorage.setItem("authToken",e),Ur()}function Qn(){return localStorage.getItem("authToken")||""}function xr(e){e&&localStorage.setItem("refreshToken",e)}function el(){return localStorage.getItem("refreshToken")||""}function vr(e){if(!e||typeof e!="string")return null;try{const n=e.split(".");if(n.length!==3)return console.error("Invalid JWT format: expected 3 parts, got",n.length),null;const s=n[1];if(!s)return console.error("Empty JWT payload"),null;let a=s.replace(/-/g,"+").replace(/_/g,"/");const i=(4-a.length%4)%4;return a+="=".repeat(i),JSON.parse(atob(a))}catch(n){return console.error("JWT decode error:",n,"Token:",e?e.substring(0,50)+"...":"null"),null}}function Ur(){try{window.dispatchEvent(new Event("auth-changed"))}catch{}}const wy=Object.freeze(Object.defineProperty({__proto__:null,decodeJWT:vr,getAuthToken:Qn,getAuthUser:Wi,getRefreshToken:el,getRole:Mn,loginAs:Od,loginWithGoogle:Yf,logout:Jn,setAuthToken:gr,setRefreshToken:xr},Symbol.toStringTag,{value:"Module"})),Fc="http://localhost:4000".replace(/\/$/,"");function ky(e){return/^https?:\/\//i.test(e)?e:e.startsWith("/api")?`${Fc}${e}`:`${Fc}${e}`}let li=null;async function Cy(){const e=el();return e?li||(li=fetch(`${Fc}/api/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})}).then(async n=>{var l,r;const s=await n.json().catch(()=>({}));if(!n.ok){const o=new Error((s==null?void 0:s.message)||"Khong the lam moi token");throw o.status=n.status,o}const a=((l=s==null?void 0:s.data)==null?void 0:l.access_token)||(s==null?void 0:s.access_token),i=((r=s==null?void 0:s.data)==null?void 0:r.refresh_token)||(s==null?void 0:s.refresh_token);return a&&gr(a),i&&xr(i),a}).catch(n=>{throw Jn(),n}).finally(()=>{li=null}),li):null}async function ri(e,{method:n="GET",headers:s={},body:a,withCredentials:i=!1}={}){const l=ky(e),r=typeof FormData<"u"&&a instanceof FormData,o=async()=>{const _={method:n,headers:r?{...s}:{"Content-Type":"application/json",...s},credentials:i?"include":"omit"},b=Qn();return b&&(_.headers={..._.headers,Authorization:`Bearer ${b}`}),a!==void 0&&(r?_.body=a:_.body=typeof a=="string"?a:JSON.stringify(a)),fetch(l,_)};let c,h=!1;const v=1;let f=0;for(;f<=v;){try{c=await o()}catch(_){const b=new Error("Khong the ket noi may chu. Kiem tra backend/proxy/URL.");throw b.cause=_,b}if(c.status===401&&!h&&f<v)try{await Cy(),h=!0,f++;continue}catch(_){throw _}break}const j=(c.headers.get("content-type")||"").includes("application/json")?await c.json():await c.text();if(!c.ok){const _=new Error((j==null?void 0:j.message)||c.statusText||"Request error");throw _.status=c.status,_.data=j,_}return j}const W={get:(e,n)=>ri(e,{...n,method:"GET"}),post:(e,n,s)=>ri(e,{...s,method:"POST",body:n}),put:(e,n,s)=>ri(e,{...s,method:"PUT",body:n}),patch:(e,n,s)=>ri(e,{...s,method:"PATCH",body:n}),del:(e,n)=>ri(e,{...n,method:"DELETE"})};function jr(e={}){const n=new URLSearchParams;if(e.page!==void 0&&e.page!==null){const a=parseInt(String(e.page),10);!isNaN(a)&&a>0&&n.append("page",String(a))}if(e.limit!==void 0&&e.limit!==null){const a=parseInt(String(e.limit),10);!isNaN(a)&&a>0&&n.append("limit",String(a))}if(e.search&&n.append("search",e.search),e.skill_names&&n.append("skill_names",e.skill_names),e.location_name&&n.append("location_name",e.location_name),e.category&&n.append("category",e.category),e.company_id&&n.append("company_id",e.company_id),e.location_id&&n.append("location_id",e.location_id),e.job_type&&n.append("job_type",e.job_type),e.experience_level!==void 0&&e.experience_level!==null){const a=parseInt(String(e.experience_level),10);isNaN(a)||n.append("experience_level",String(a))}if(e.status&&n.append("status",e.status),e.interest_type&&n.append("interest_type",e.interest_type),e.role&&n.append("role",e.role),e.candidate_id&&n.append("candidate_id",e.candidate_id),e.min_experience!==void 0&&e.min_experience!==null){const a=parseInt(String(e.min_experience),10);!isNaN(a)&&a>=0&&n.append("min_experience",String(a))}if(e.is_looking_for_job!==void 0&&e.is_looking_for_job!==null&&n.append("is_looking_for_job",String(e.is_looking_for_job)),e.scope&&n.append("scope",e.scope),e.job_id&&n.append("job_id",e.job_id),e.salary_min!==void 0&&e.salary_min!==null&&e.salary_min!==""){const a=parseInt(String(e.salary_min),10);isNaN(a)||n.append("salary_min",String(a))}if(e.salary_max!==void 0&&e.salary_max!==null&&e.salary_max!==""){const a=parseInt(String(e.salary_max),10);isNaN(a)||n.append("salary_max",String(a))}e.sort_by&&n.append("sort_by",e.sort_by),e.sort_order&&n.append("sort_order",e.sort_order);const s=n.toString();return s?`?${s}`:""}const Tt={list:e=>{const n=jr(e);return W.get(`/api/jobs${n}`)},featured:()=>W.get("/api/jobs/featured"),latest:()=>W.get("/api/jobs/latest"),detail:e=>W.get(`/api/jobs/${e}/public`),trackView:e=>W.post(`/api/jobs/${e}/view`),create:e=>W.post("/api/jobs",e),myJobs:e=>{const n=jr(e);return W.get(`/api/jobs/my-jobs${n}`)},getManage:e=>W.get(`/api/jobs/${e}/manage`),getStats:e=>W.get(`/api/jobs/${e}/stats`),update:(e,n)=>W.put(`/api/jobs/${e}`,n),delete:e=>W.del(`/api/jobs/${e}`),updateStatus:(e,n)=>W.patch(`/api/jobs/${e}/status`,{status:n})},Sy={list:e=>W.get(`/api/companies${e||""}`),detail:e=>W.get(`/api/companies/${e}?details=true`)};function Ty(e={}){const n=new URLSearchParams;if(e.page!==void 0&&e.page!==null){const a=parseInt(String(e.page),10);!isNaN(a)&&a>0&&n.append("page",String(a))}if(e.limit!==void 0&&e.limit!==null){const a=parseInt(String(e.limit),10);!isNaN(a)&&a>0&&n.append("limit",String(a))}e.search&&n.append("search",e.search),e.job_type&&n.append("job_type",e.job_type),e.location_id&&n.append("location_id",e.location_id),e.sort_by&&n.append("sort_by",e.sort_by),e.order&&n.append("order",e.order);const s=n.toString();return s?`?${s}`:""}const yr={search:e=>{const n=jr(e);return W.get(`/api/skills${n}`)},getCategories:()=>W.get("/api/skills/categories")},Ln={getProvinces:()=>W.get("/api/locations/provinces"),getDistricts:e=>W.get(`/api/locations/districts?province_id=${e}`),getById:e=>W.get(`/api/locations/${e}`),search:e=>{const{search:n,limit:s}=e||{};if(!n)return Promise.reject(new Error("search parameter is required"));const a=s?`?search=${encodeURIComponent(n)}&limit=${s}`:`?search=${encodeURIComponent(n)}`;return W.get(`/api/locations/search${a}`)},getChildren:async e=>{var s;return{data:((s=(await W.get(`/api/locations/${e}`)).data)==null?void 0:s.children)||[]}},list:async e=>{if(e!=null&&e.type){const n=String(e.type).toLowerCase();if(n==="tinh"||n==="province"||n.includes("province")||n.includes("tinh"))return W.get("/api/locations/provinces")}return W.get("/api/locations/provinces")}},bh={list:e=>{const n=jr(e);return W.get(`/api/tags${n}`)},getById:e=>W.get(`/api/tags/${e}`)},ki={save:e=>W.post("/api/saved-jobs",{job_id:e}),list:e=>{const n=Ty(e);return W.get(`/api/saved-jobs${n}`)},unsave:e=>W.del(`/api/saved-jobs/${e}`),check:e=>W.get(`/api/saved-jobs/check/${e}`)},ot={create:e=>W.post("/api/applications",e),listMine:(e={})=>{const n=new URLSearchParams;n.append("page",String(e.page||1)),n.append("limit",String(e.limit||20)),e.status&&n.append("status",e.status),e.sort_by&&n.append("sort_by",e.sort_by),e.order&&n.append("order",e.order);const s=n.toString();return W.get(`/api/applications${s?`?${s}`:""}`)},withdraw:e=>W.del(`/api/applications/${e}`),uploadDocument:(e,n,s)=>{const a=new FormData;return a.append("file",n),s&&a.append("document_type",s),W.post(`/api/applications/${e}/documents`,a)},listByJob:(e,n={})=>{const s=new URLSearchParams;s.append("page",String(n.page||1)),s.append("limit",String(n.limit||20)),n.status&&typeof n.status=="string"&&n.status.trim()&&s.append("status",n.status),n.stage&&typeof n.stage=="string"&&n.stage.trim()&&s.append("stage",n.stage),s.append("sort_by",n.sort_by||"applied_at"),s.append("order",n.order||"desc");const a=s.toString();return W.get(`/api/applications/job/${e}?${a}`)},getStats:e=>W.get(`/api/applications/job/${e}/stats`),getDetail:e=>W.get(`/api/applications/${e}`),getDetailRecruiter:e=>W.get(`/api/applications/recruiter/${e}`),getCV:e=>W.get(`/api/applications/${e}/cv`),getCVRecruiter:e=>W.get(`/api/applications/recruiter/${e}/cv`),updateStatus:(e,n)=>W.patch(`/api/applications/recruiter/${e}/status`,n),bulkUpdate:e=>W.post("/api/applications/bulk-update",e),getStages:e=>W.get(`/api/applications/${e}/stages`),getStagesRecruiter:e=>W.get(`/api/applications/recruiter/${e}/stages`),createStage:(e,n)=>W.post(`/api/applications/recruiter/${e}/stage`,n),updateStage:(e,n)=>W.patch(`/api/applications/recruiter/${e}/stage`,n),addNote:(e,n)=>W.post(`/api/applications/recruiter/${e}/notes`,{note:n}),contact:(e,n)=>W.post(`/api/applications/recruiter/${e}/contact`,n),getDocuments:e=>W.get(`/api/applications/${e}/documents`)},Ey={matchCandidates:(e,n={})=>W.post(`/api/matching/job/${e}/candidates`,{size:n.size||50,filters:{min_score:n.minScore||0,location:n.location||void 0,experience_min:n.experienceMin||void 0,experience_max:n.experienceMax||void 0,education_level:n.education||void 0,...n}})},_r={getSavedCandidates:(e={})=>{try{return W.get("/api/talent-pool/candidates",{params:{page:e.page||1,limit:e.limit||20,job_id:e.jobId||void 0}})}catch{return console.warn("TalentPool API not available, using localStorage fallback"),Promise.resolve({data:(void 0)._getLocalSavedCandidates(e)})}},saveCandidate:(e,n,s="")=>{try{return W.post("/api/talent-pool/candidates",{candidate_id:e,job_id:n,note:s})}catch{return console.warn("TalentPool API not available, using localStorage fallback"),(void 0)._saveLocalCandidate(e,n,s),Promise.resolve({success:!0})}},removeCandidate:(e,n)=>{try{return W.delete(`/api/talent-pool/candidates/${e}`,{params:{job_id:n}})}catch{return console.warn("TalentPool API not available, using localStorage fallback"),(void 0)._removeLocalCandidate(e,n),Promise.resolve({success:!0})}},bulkSaveCandidates:(e,n)=>{try{return W.post("/api/talent-pool/candidates/bulk",{candidate_ids:e,job_id:n})}catch{return console.warn("TalentPool API not available, using localStorage fallback"),e.forEach(a=>{(void 0)._saveLocalCandidate(a,n)}),Promise.resolve({success:!0,saved_count:e.length})}},_getLocalSavedCandidates:(e={})=>{try{const n=JSON.parse(localStorage.getItem("talent_pool")||"[]"),s=e.page||1,a=e.limit||20,i=(s-1)*a,l=i+a;let r=n;return e.jobId&&(r=n.filter(o=>o.jobId===e.jobId)),{data:r.slice(i,l),pagination:{current_page:s,total_pages:Math.ceil(r.length/a),total_count:r.length,per_page:a}}}catch(n){return console.error("Error reading from localStorage:",n),{data:[],pagination:{current_page:1,total_pages:0,total_count:0,per_page:20}}}},_saveLocalCandidate:(e,n,s="")=>{try{const a=JSON.parse(localStorage.getItem("talent_pool")||"[]"),i=a.findIndex(l=>l.candidateId===e&&l.jobId===n);i>=0?(a[i].note=s,a[i].updatedAt=new Date().toISOString()):a.push({id:`${e}_${n}_${Date.now()}`,candidateId:e,jobId:n,note:s,savedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),localStorage.setItem("talent_pool",JSON.stringify(a))}catch(a){console.error("Error saving to localStorage:",a)}},_removeLocalCandidate:(e,n)=>{try{const a=JSON.parse(localStorage.getItem("talent_pool")||"[]").filter(i=>!(i.candidateId===e&&i.jobId===n));localStorage.setItem("talent_pool",JSON.stringify(a))}catch(s){console.error("Error removing from localStorage:",s)}}},Ly={getPublicProfile:e=>W.get(`/api/user/profiles/${e}/public`)},wn={login:async({email:e,password:n})=>{var l,r;const s=await W.post("/api/auth/login",{email:e,password:n}),a=((l=s==null?void 0:s.data)==null?void 0:l.access_token)||(s==null?void 0:s.access_token)||(s==null?void 0:s.token)||(s==null?void 0:s.jwt),i=(r=s==null?void 0:s.data)==null?void 0:r.refresh_token;return a&&gr(a),i&&xr(i),s},register:async({name:e,email:n,password:s,confirm_password:a,date_of_birth:i,role:l})=>W.post("/api/auth/register",{name:e,email:n,password:s,confirm_password:a,date_of_birth:i,role:l}),verifyEmail:async e=>W.post("/api/auth/verify-email",{token:e}),logout:async e=>W.post("/api/auth/logout",{refresh_token:e}),refresh:async e=>W.post("/api/auth/refresh-token",{refresh_token:e}),forgotPassword:async e=>W.post("/api/auth/forgot-password",{email:e}),verifyForgotPassword:async e=>W.post("/api/auth/verify-forgot-password",{},{headers:e?{Authorization:`Bearer ${e}`}:{}}),resetPassword:async({token:e,new_password:n})=>{var l,r;const s=await W.post("/api/auth/reset-password",{token:e,new_password:n},{headers:e?{Authorization:`Bearer ${e}`}:{}}),a=((l=s==null?void 0:s.data)==null?void 0:l.access_token)||(s==null?void 0:s.access_token),i=(r=s==null?void 0:s.data)==null?void 0:r.refresh_token;return a&&gr(a),i&&xr(i),s},changePassword:async({old_password:e,new_password:n,confirm_password:s})=>W.patch("/api/auth/change-password",{old_password:e,new_password:n,confirm_password:s})},bt={getMe:()=>W.get("/api/user/me"),get:()=>W.get("/api/user/me/profile"),create:e=>W.post("/api/user/me/profile",e),update:e=>W.put("/api/user/me/profile",e),experiences:{create:e=>W.post("/api/user/me/profile/experiences",e),update:(e,n)=>W.put(`/api/user/me/profile/experiences/${e}`,n),delete:e=>W.del(`/api/user/me/profile/experiences/${e}`)},educations:{create:e=>W.post("/api/user/me/profile/educations",e),update:(e,n)=>W.put(`/api/user/me/profile/educations/${e}`,n),delete:e=>W.del(`/api/user/me/profile/educations/${e}`)},skills:{create:e=>W.post("/api/user/me/profile/skills",e),update:(e,n)=>W.put(`/api/user/me/profile/skills/${e}`,n),delete:e=>W.del(`/api/user/me/profile/skills/${e}`)},certifications:{create:e=>W.post("/api/user/me/profile/certifications",e),update:(e,n)=>W.put(`/api/user/me/profile/certifications/${e}`,n),delete:e=>W.del(`/api/user/me/profile/certifications/${e}`)},awards:{create:e=>W.post("/api/user/me/profile/awards",e),update:(e,n)=>W.put(`/api/user/me/profile/awards/${e}`,n),delete:e=>W.del(`/api/user/me/profile/awards/${e}`)}};function Rn({open:e,onClose:n,children:s,noWrapper:a=!1}){if(!e)return null;const i=t.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:n,children:a?t.jsx("div",{onClick:l=>l.stopPropagation(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:s}):t.jsx("div",{className:"modal",onClick:l=>l.stopPropagation(),children:s})});return Fr.createPortal(i,document.body)}function Dy(){var L,O,se;const[e,n]=u.useState(Mn()),[s,a]=u.useState(Wi()),[i,l]=u.useState(null),[r,o]=u.useState(!1),[c,h]=u.useState(!1),v=u.useRef(null),f=He(),x=fn(),j=x.pathname.startsWith("/profile"),_=x.pathname.startsWith("/recruiter"),b=x.pathname==="/post-job",g=_||b,m=async()=>{if(!Mn()){l(null);return}try{const $=await bt.getMe();l(($==null?void 0:$.data)||$)}catch($){console.warn("Khng th ti avatar:",$==null?void 0:$.message)}};u.useEffect(()=>{const $=async()=>{n(Mn()),a(Wi()),await m()};return $(),window.addEventListener("auth-changed",$),window.addEventListener("storage",$),()=>{window.removeEventListener("auth-changed",$),window.removeEventListener("storage",$)}},[]),u.useEffect(()=>{const $=z=>{v.current&&!v.current.contains(z.target)&&h(!1)};return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[]);const d=()=>o(!0),p=async()=>{h(!1);try{const $=el();$&&await wn.logout($)}catch($){console.warn("Logout API failed:",$==null?void 0:$.message)}finally{Jn(),l(null),o(!1),f("/")}},y=["/change-password","/recruiter/change-password","/onboarding/company","/post-job"],S=["employer","recruiter"];u.useEffect(()=>{const $=S.includes(e),z=x.pathname.startsWith("/recruiter"),re=y.some(Y=>x.pathname.startsWith(Y));$&&!z&&!re&&f("/recruiter/dashboard",{replace:!0}),!$&&z&&f("/",{replace:!0})},[e,x.pathname,f]);const w=((L=i==null?void 0:i.profile)==null?void 0:L.display_name)||((O=i==null?void 0:i.profile)==null?void 0:O.full_name)||(s==null?void 0:s.name)||(e==="employer"?"Nh tuyn dng":"Ngi tm vic"),k=(i==null?void 0:i.role)||e||"",C=((se=i==null?void 0:i.profile)==null?void 0:se.avatar_url)||(s==null?void 0:s.avatar)||"",T=w.trim().charAt(0).toUpperCase();return g?t.jsx(zc,{}):t.jsxs("div",{children:[t.jsx("header",{className:"app-header",children:t.jsxs("div",{className:"container nav",children:[t.jsxs(We,{to:"/",className:"brand",children:[t.jsx("span",{className:"brand-badge",children:"JF"}),t.jsx("span",{children:"JobFinder"})]}),t.jsxs("nav",{className:"nav-links",children:[t.jsx(Bn,{to:"/jobs",children:"Vic lm"}),t.jsx(Bn,{to:"/companies",children:"Cng ty"}),t.jsx("a",{href:"#",children:"V chng ti"}),t.jsx("a",{href:"#",children:"Blog"})]}),t.jsx("div",{className:"nav-actions",children:e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"user-menu",ref:v,style:{position:"relative"},children:[t.jsxs("button",{className:"user-pill",onClick:()=>h($=>!$),"aria-haspopup":"true","aria-expanded":c,children:[t.jsx("div",{className:"avatar",children:C?t.jsx("img",{src:C,alt:w}):T}),t.jsxs("div",{className:"user-meta",children:[t.jsx("div",{className:"name",style:{color:"#0f172a"},children:w}),t.jsx("div",{className:"muted",style:{fontSize:12,color:"rgba(71,85,105,0.9)"},children:k})]}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{flexShrink:0,transition:"transform 0.2s",transform:c?"rotate(180deg)":"rotate(0deg)"},children:t.jsx("path",{d:"M4 6L8 10L12 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c&&t.jsx("div",{className:"card",style:{position:"absolute",right:0,top:"110%",minWidth:200,padding:8,zIndex:20,background:"#fff",border:"1px solid rgba(15,23,42,0.08)",boxShadow:"0 20px 40px rgba(15,23,42,0.15)",borderRadius:12},children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[t.jsx("button",{className:"btn ghost",style:{width:"100%",textAlign:"left",justifyContent:"flex-start"},onClick:()=>{h(!1),f("/profile")},children:"H s ca ti"}),e==="seeker"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn ghost",style:{width:"100%",textAlign:"left",justifyContent:"flex-start"},onClick:()=>{h(!1),f("/resumes")},children:"CV ca ti"}),t.jsx("button",{className:"btn ghost",style:{width:"100%",textAlign:"left",justifyContent:"flex-start"},onClick:()=>{h(!1),f("/applications")},children:"n ng tuyn"}),t.jsx("button",{className:"btn ghost",style:{width:"100%",textAlign:"left",justifyContent:"flex-start"},onClick:()=>{h(!1),f("/saved-jobs")},children:"Vic lm  lu"})]}),t.jsx("button",{className:"btn ghost",style:{width:"100%",textAlign:"left",justifyContent:"flex-start"},onClick:()=>{h(!1),f("/change-password")},children:"i mt khu"}),t.jsx("div",{style:{height:1,background:"rgba(255,255,255,0.08)"}}),t.jsx("button",{className:"btn ghost",style:{width:"100%",textAlign:"left",justifyContent:"flex-start",color:"var(--danger, #f87171)"},onClick:d,children:"ng xut"})]})})]}),S.includes(e)&&t.jsx(Bn,{className:"btn primary",to:"/post-job",style:{whiteSpace:"nowrap"},children:"ng tin tuyn dng"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Bn,{className:"btn",to:"/login",children:"ng nhp"}),t.jsx(Bn,{className:"btn primary",to:"/login?role=employer&redirect=/post-job",style:{whiteSpace:"nowrap"},children:"ng tin tuyn dng"})]})})]})}),t.jsx("main",{className:`container${j?" container-wide":""}`,children:t.jsx(zc,{})}),t.jsxs("footer",{className:"app-footer",children:[t.jsxs("div",{className:"container footer-grid",children:[t.jsxs("div",{className:"footer-brand",children:[t.jsxs("div",{className:"brand",children:[t.jsx("span",{className:"brand-badge",children:"JF"}),t.jsx("span",{children:"JobFinder"})]}),t.jsx("p",{className:"muted",style:{margin:"8px 0 12px"},children:"Kt ni ng vin v nh tuyn dng nhanh hn, minh bch hn."}),t.jsxs("div",{className:"social",children:[t.jsx("a",{href:"#","aria-label":"Facebook",children:"f"}),t.jsx("a",{href:"#","aria-label":"LinkedIn",children:"in"}),t.jsx("a",{href:"#","aria-label":"Twitter",children:"t"})]})]}),t.jsxs("div",{className:"footer-col",children:[t.jsx("div",{className:"footer-title",children:"Nh tuyn dng"}),t.jsx(Bn,{to:"/login?role=employer&redirect=/post-job",children:"ng tin tuyn dng"}),t.jsx(Bn,{to:"/companies",children:"Tm ng vin"}),t.jsx("a",{href:"#",children:"Gii php & Bng gi"})]}),t.jsxs("div",{className:"footer-col",children:[t.jsx("div",{className:"footer-title",children:"Ngi tm vic"}),t.jsx(Bn,{to:"/jobs",children:"Vic lm"}),t.jsx(Bn,{to:"/companies",children:"Cng ty"}),t.jsx(Bn,{to:"/login?role=seeker",children:"ng nhp"})]}),t.jsxs("div",{className:"footer-col",children:[t.jsx("div",{className:"footer-title",children:"Nhn tin mi"}),t.jsxs("form",{className:"subscribe",onSubmit:$=>{$.preventDefault(),alert(" ng k nhn tin!")},children:[t.jsx("input",{placeholder:"Email ca bn","aria-label":"Email"}),t.jsx("button",{className:"btn primary",type:"submit",children:"ng k"})]}),t.jsx("div",{className:"muted small",children:"Bng vic ng k, bn ng  vi iu khon & Bo mt."})]})]}),t.jsxs("div",{className:"container footer-bottom",children:[t.jsx("div",{className:"muted",children:" 2025 JobFinder. All rights reserved."}),t.jsxs("div",{className:"footer-links",children:[t.jsx("a",{href:"#",children:"iu khon"}),t.jsx("a",{href:"#",children:"Bo mt"}),t.jsx("a",{href:"#",children:"Lin h"})]})]})]}),t.jsxs(Rn,{open:r,onClose:()=>o(!1),children:[t.jsx("h3",{style:{marginTop:0},children:"ng xut"}),t.jsx("div",{className:"muted",children:"Bn chc chn mun ng xut khi JobFinder?"}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{className:"btn",onClick:()=>o(!1),children:"Hy"}),t.jsx("button",{className:"btn primary",onClick:p,children:"ng xut"})]})]})]})}function Py({icon:e,name:n,jobs:s}){return t.jsxs("div",{className:"card category",children:[t.jsx("div",{className:"cat-icon",children:e}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:600},children:n}),t.jsxs("div",{className:"muted",children:[s,"+ vic lm"]})]})]})}const My={full_time:"Ton thi gian",part_time:"Bn thi gian",intern:"Thc tp",freelance:"Freelance"},Ry={any:"Bt k",0:"Bt k",1:"1 nm",2:"2 nm",3:"3 nm",4:"4 nm",5:"5+ nm",junior:"1 nm",mid:"2 nm",senior:"3+ nm"},Ay=e=>{const n=e.salary_range||{},s=e.salaryMin??n.min,a=e.salaryMax??n.max,i=(e.currency||n.currency||"USD").toUpperCase();if(e.salary)return e.salary;if(s==null&&a==null)return"Tha thun";const l=new Intl.NumberFormat("en-US");return s!=null&&a!=null?`${l.format(s)} - ${l.format(a)} ${i}`:s!=null?`${l.format(s)} ${i}`:`${l.format(a)} ${i}`},zy=e=>{if(!e)return"";const n=Date.now(),s=new Date(e).getTime(),a=n-s,i=24*60*60*1e3;return a<i?"Hm nay":`${Math.floor(a/i)} ngy trc`},Iy=(e="")=>{const n=e.trim().split(/\s+/);if(!n.length)return"?";const[s,a]=n;return((s==null?void 0:s[0])||"")+((a==null?void 0:a[0])||"")};function Hr({job:e}){var j;const n=e.companyName||e.company||"Cha c tn cng ty",s=e.title||"Cha t tiu ",a=e.location||e.city||e.country||"Bt k",i=e.jobType||e.job_type||e.type,l=My[i]||i||"Khc",r=e.experienceLevel??e.experience??e.experience_level??"any",o=Ry[r]||"Bt k",c=Ay(e),h=zy(e.createdAt||e.posted_at),v=e.skills||e.tags||((j=e.metadata)==null?void 0:j.skills)||[],f=e.companyLogoUrl||e.logoUrl,x=e.logo||Iy(n);return t.jsxs("article",{className:"job-card",children:[t.jsxs("div",{className:"job-card__head",children:[f?t.jsx("img",{className:"job-logo",src:f,alt:n}):t.jsx("div",{className:"job-logo placeholder","aria-hidden":"true",children:x}),t.jsxs("div",{children:[t.jsx("h3",{children:s}),t.jsx("p",{className:"company",children:n}),t.jsx("p",{className:"location",children:a})]})]}),t.jsxs("div",{className:"job-meta",children:[t.jsx("span",{className:"badge",children:l}),t.jsx("span",{className:"badge secondary",children:o}),t.jsx("span",{className:"salary",children:c}),h&&t.jsx("span",{className:"created",children:h})]}),e.descriptionShort||e.description?t.jsx("p",{className:"description",children:e.descriptionShort||e.description}):null,!!v.length&&t.jsx("div",{className:"skills-row",children:v.map(_=>t.jsx("span",{className:"chip small",children:_},_))}),e.id&&t.jsx("div",{className:"job-card__footer",children:t.jsx(We,{to:`/jobs/${e.id}`,className:"btn-inline",children:"Xem chi tit "})})]})}function $y({items:e,onPick:n}){return t.jsx("div",{className:"chip-row",children:e.map(s=>t.jsx("button",{className:"chip",onClick:()=>n==null?void 0:n(s),children:s},s))})}function Fy({items:e}){return t.jsx("div",{className:"logos",children:e.map(n=>t.jsx("div",{className:"logo",children:n},n))})}function Vy({images:e=[],auto:n=!0,interval:s=3500,className:a="",effect:i="fade"}){const[l,r]=u.useState(0),o=u.useRef(null),c=e.length,h=g=>r(m=>(g+c)%c),v=()=>h(l+1),f=()=>h(l-1);u.useEffect(()=>{if(!(!n||c<=1))return o.current&&clearInterval(o.current),o.current=setInterval(()=>r(g=>(g+1)%c),s),()=>o.current&&clearInterval(o.current)},[n,s,c]);const x=()=>{o.current&&(clearInterval(o.current),o.current=null)},j=()=>{n&&c>1&&(o.current=setInterval(()=>r(g=>(g+1)%c),s))},_=g=>{g.key==="ArrowLeft"&&f(),g.key==="ArrowRight"&&v()};if(c===0)return null;const b=i==="slide";return t.jsxs("div",{className:`carousel ${b?"slide":"fade"} ${a}`,tabIndex:0,onKeyDown:_,onMouseEnter:x,onMouseLeave:j,children:[b?t.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${l*100}%)`},children:e.map((g,m)=>t.jsx("img",{src:g,alt:`Slide ${m+1}`,className:"carousel-item"},m))}):e.map((g,m)=>t.jsx("img",{src:g,alt:`Slide ${m+1}`,className:`carousel-img${m===l?" active":""}`},m)),c>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{"aria-label":"Previous",className:"carousel-arrow left",onClick:f,children:""}),t.jsx("button",{"aria-label":"Next",className:"carousel-arrow right",onClick:v,children:""}),t.jsx("div",{className:"carousel-dots",children:e.map((g,m)=>t.jsx("button",{"aria-label":`Go to slide ${m+1}`,className:`carousel-dot${m===l?" active":""}`,onClick:()=>h(m)},m))})]})]})}const By=["React","Node.js","UI/UX","Data","Product","H Ni","TP.HCM"],Oy=[{name:"Cng ngh",jobs:524,icon:""},{name:"Thit k",jobs:218,icon:""},{name:"Sn phm",jobs:175,icon:""},{name:"Marketing",jobs:342,icon:""},{name:"Ti chnh",jobs:142,icon:""},{name:"Nhn s",jobs:96,icon:""},{name:"Bn hng",jobs:287,icon:""},{name:"Vn hnh",jobs:201,icon:""}],St=e=>"00000000-0000-4000-8000-"+e.padEnd(12,"0").slice(0,12),Vc=[{id:"frontend-engineer",title:"Frontend Engineer",description:"Xy dng giao din web hiu nng cao vi React/TypeScript.",company:"Luma Tech",location:"H Ni",salary:"$1,800 - $2,500",salary_range:{currency:"USD",min:1800,max:2500},type:"fulltime",job_type:"full_time",experience_level:2,posted_at:"2025-01-05T08:00:00Z",expires_at:"2025-03-01T08:00:00Z",status:"open",company_id:St("lumatech"),location_id:St("hanoi"),metadata:{benefits:["Remote linh hot","Thit b lm vic"],skills:["React","TypeScript","REST"],language:"vi"},version:1,deleted:!1,tags:["React","TypeScript","Remote","Fulltime"],logo:""},{id:"product-designer",title:"Product Designer",description:"Thit k tri nghim ngi dng, lm vic cng team sn phm.",company:"Nova Labs",location:"TP.HCM",salary:"$1,500 - $2,200",salary_range:{currency:"USD",min:1500,max:2200},type:"parttime",job_type:"part_time",experience_level:3,posted_at:"2025-01-12T08:00:00Z",expires_at:"2025-03-10T08:00:00Z",status:"open",company_id:St("novalabs"),location_id:St("tphcm"),metadata:{benefits:["Bo him y "],tools:["Figma","FigJam"],language:"vi"},version:1,deleted:!1,tags:["Figma","UI/UX","Part-time"],logo:""},{id:"backend-developer",title:"Backend Developer",description:"Pht trin API v dch v nn tng vi Node.js/Postgres.",company:"OceanSoft",location:" Nng",salary:"$1,700 - $2,600",salary_range:{currency:"USD",min:1700,max:2600},type:"fulltime",job_type:"full_time",experience_level:2,posted_at:"2025-01-20T08:00:00Z",expires_at:"2025-03-20T08:00:00Z",status:"open",company_id:St("oceansoft"),location_id:St("danang"),metadata:{stack:["Node.js","Postgres","Docker"],language:"vi"},version:1,deleted:!1,tags:["Node.js","Postgres","Fulltime"],logo:""},{id:"data-analyst",title:"Data Analyst",description:"Phn tch d liu, xy dashboard v insight cho sn phm.",company:"InsightIQ",location:"H Ni",salary:"$1,400 - $2,000",salary_range:{currency:"USD",min:1400,max:2e3},type:"parttime",job_type:"part_time",experience_level:1,posted_at:"2025-02-01T08:00:00Z",expires_at:"2025-03-30T08:00:00Z",status:"open",company_id:St("insightiq"),location_id:St("hanoi"),metadata:{tools:["SQL","Python","PowerBI"],language:"vi"},version:1,deleted:!1,tags:["SQL","Python","Part-time"],logo:""},{id:"mobile-developer",title:"Mobile Developer",description:"Pht trin ng dng di ng a nn tng bng Flutter.",company:"AppWorks",location:"TP.HCM",salary:"$1,600 - $2,300",salary_range:{currency:"USD",min:1600,max:2300},type:"fulltime",job_type:"full_time",experience_level:2,posted_at:"2025-01-08T08:00:00Z",expires_at:"2025-02-28T08:00:00Z",status:"open",company_id:St("appworks"),location_id:St("tphcm"),metadata:{platforms:["iOS","Android"],language:"vi"},version:1,deleted:!1,tags:["Flutter","iOS/Android","Fulltime"],logo:""},{id:"devops-engineer",title:"DevOps Engineer",description:"Vn hnh h tng cloud, CI/CD v Kubernetes.",company:"CloudNine",location:"Remote",salary:"$2,000 - $3,000",salary_range:{currency:"USD",min:2e3,max:3e3},type:"fulltime",job_type:"full_time",experience_level:3,posted_at:"2025-01-15T08:00:00Z",expires_at:"2025-03-15T08:00:00Z",status:"open",company_id:St("cloudnine"),location_id:St("remote"),metadata:{cloud:["AWS"],orchestration:["Kubernetes"],language:"vi"},version:1,deleted:!1,tags:["AWS","K8s","Remote","Fulltime"],logo:""}],Uy=["FPT","VNG","Viettel","Shopee","Tiki","VNPAY","Grab","MoMo","VNPay","GHTK","Base","Be"];St("luma-tech"),St("recruiter-luma"),St("nova-labs"),St("recruiter-nova"),St("ocean-soft"),St("recruiter-ocean"),St("cloud-nine"),St("recruiter-cloud");const Gt=e=>(e==null?void 0:e.data)??e,gt={createCompany:e=>W.post("/api/companies",e).then(Gt),getMyCompany:()=>W.get("/api/companies/me").then(Gt),updateMyCompany:e=>W.patch("/api/companies/me",e).then(Gt),getMyCompanyDetails:()=>W.get("/api/companies/me/details").then(Gt),createMyCompanyDetails:e=>W.post("/api/companies/me/details",e).then(Gt),updateMyCompanyDetails:e=>W.patch("/api/companies/me/details",e).then(Gt),deleteMyCompanyDetails:()=>W.del("/api/companies/me/details").then(Gt),listMyBenefits:()=>W.get("/api/companies/me/benefits").then(Gt),createBenefit:e=>W.post("/api/companies/me/benefits",e).then(Gt),updateBenefit:(e,n)=>W.patch(`/api/companies/me/benefits/${e}`,n).then(Gt),deleteBenefit:e=>W.del(`/api/companies/me/benefits/${e}`).then(Gt),uploadCompanyLogo:(e,n)=>{const s=new FormData;return s.append("file",n),W.post(`/api/uploads/company-logo/${e}`,s).then(Gt)},getPublicCompany:e=>W.get(`/api/companies/${e}?details=true`).then(Gt),listPublicCompanies:e=>W.get("/api/companies",{params:e}).then(Gt)};function Hy({isMobileOpen:e,onToggleMobile:n,locationFilter:s,onLocationChange:a,selectedJobTypes:i,onToggleJobType:l,experienceLevel:r,onExperienceChange:o,salaryMin:c,salaryMax:h,onSalaryMinChange:v,onSalaryMaxChange:f,skills:x,skillInput:j,onSkillInputChange:_,onAddSkill:b,onRemoveSkill:g,jobTypes:m,experienceOptions:d}){return t.jsxs("aside",{className:"jobs-sidebar-card",children:[t.jsx("button",{className:"filters-toggle",onClick:n,children:e?"n b lc":"Hin th b lc"}),t.jsxs("div",{className:`filters-body ${e?"open":""}`,children:[t.jsxs("div",{className:"filter-block",children:[t.jsx("label",{className:"filter-title",children:"a im"}),t.jsx("input",{type:"text",placeholder:"Thnh ph hoc quc gia",value:s,onChange:p=>a(p.target.value)})]}),t.jsxs("div",{className:"filter-block",children:[t.jsx("label",{className:"filter-title",children:"Loi vic"}),t.jsx("div",{className:"filter-options column",children:m.map(p=>t.jsxs("label",{className:"checkbox",children:[t.jsx("input",{type:"checkbox",checked:i.includes(p.value),onChange:()=>l(p.value)}),t.jsx("span",{children:p.label})]},p.value))})]}),t.jsxs("div",{className:"filter-block",children:[t.jsx("label",{className:"filter-title",children:"Kinh nghim"}),t.jsx("div",{className:"filter-options column",children:d.map(p=>t.jsxs("label",{className:"radio",children:[t.jsx("input",{type:"radio",name:"experience-level",value:p.value,checked:r===p.value,onChange:()=>o(p.value)}),t.jsx("span",{children:p.label})]},p.value))})]}),t.jsxs("div",{className:"filter-block",children:[t.jsx("label",{className:"filter-title",children:"Mc lng"}),t.jsxs("div",{className:"salary-inputs filter-group--salary",children:[t.jsx("input",{type:"number",min:"0",step:"1",placeholder:"Lng ti thiu",value:c,onChange:p=>{const y=p.target.value;(y===""||!isNaN(parseFloat(y))&&parseFloat(y)>=0)&&v(y)}}),t.jsx("input",{type:"number",min:"0",step:"1",placeholder:"Lng ti a",value:h,onChange:p=>{const y=p.target.value;(y===""||!isNaN(parseFloat(y))&&parseFloat(y)>=0)&&f(y)}})]})]}),t.jsxs("div",{className:"filter-block",children:[t.jsx("label",{className:"filter-title",children:"K nng"}),t.jsx("input",{type:"text",placeholder:"Nhp k nng v nhn Enter",value:j,onChange:p=>_(p.target.value),onKeyDown:p=>{p.key==="Enter"&&(p.preventDefault(),b())}}),t.jsx("div",{className:"skills-chips",children:x.map(p=>t.jsxs("span",{className:"chip",children:[p,t.jsx("button",{onClick:()=>g(p),"aria-label":`Remove ${p}`,children:""})]},p))})]})]})]})}function Ky({title:e,subtitle:n,onRetry:s}){return t.jsxs("div",{className:"jobs-error-card",children:[t.jsxs("div",{className:"jobs-error-text",children:[t.jsx("strong",{children:e}),n&&t.jsx("p",{children:n})]}),t.jsx("button",{className:"jobs-error-btn",onClick:s,children:"Th li"})]})}function Wy(){return t.jsx("div",{className:"jobs-grid",children:Array.from({length:4}).map((e,n)=>t.jsxs("div",{className:"job-card skeleton",children:[t.jsx("div",{className:"skeleton-line lg"}),t.jsx("div",{className:"skeleton-line"}),t.jsx("div",{className:"skeleton-line short"}),t.jsxs("div",{className:"skeleton-tags",children:[t.jsx("span",{className:"skeleton-chip"}),t.jsx("span",{className:"skeleton-chip"}),t.jsx("span",{className:"skeleton-chip"})]})]},n))})}function qy({currentPage:e,totalPages:n,onPageChange:s}){if(n<=1)return null;const a=Array.from({length:n},(i,l)=>l+1);return t.jsxs("div",{className:"pagination",children:[t.jsx("button",{disabled:e===1,onClick:()=>s(e-1),children:"Previous"}),a.map(i=>t.jsx("button",{className:i===e?"active":"",onClick:()=>s(i),children:i},i)),t.jsx("button",{disabled:e===n,onClick:()=>s(e+1),children:"Next"})]})}function Zf({jobs:e,isLoading:n,error:s,onRetry:a,totalPages:i,currentPage:l,onPageChange:r,showPagination:o,JobCardComponent:c}){return t.jsxs("div",{className:"jobs-list-card",children:[s&&t.jsx(Ky,{title:"Khng ti c danh sch vic lm",subtitle:"Hin th d liu mu  bn tip tc xem.",onRetry:a}),n?t.jsx(Wy,{}):e&&e.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"jobs-grid",children:e.map(h=>t.jsx(c,{job:h},h.id))}),o&&t.jsx(qy,{currentPage:l,totalPages:i,onPageChange:r})]}):t.jsxs("div",{className:"state-card empty",children:[t.jsx("h3",{children:"Khng tm thy vic lm"}),t.jsx("p",{children:"Hy th thay i b lc hoc t kha."})]})]})}const oi=20,No=[{value:"newest",label:"Mi nht",sort_by:"posted_at",sort_order:"desc"},{value:"oldest",label:"C nht",sort_by:"posted_at",sort_order:"asc"},{value:"salaryHigh",label:"Lng cao nht",sort_by:"salary_min",sort_order:"desc"},{value:"salaryLow",label:"Lng thp nht",sort_by:"salary_min",sort_order:"asc"}],wh=[{value:"full_time",label:"Ton thi gian"},{value:"part_time",label:"Bn thi gian"},{value:"contract",label:"Hp ng"}],Jy=[{value:"any",label:"Bt k"},{value:"junior",label:"Junior"},{value:"mid",label:"Mid"},{value:"senior",label:"Senior"}],kh=[{id:"frontend-engineer",title:"Frontend Engineer",companyName:"Luma Tech",companyLogoUrl:"",location:"Hanoi, Vietnam",salaryMin:1800,salaryMax:2500,currency:"USD",jobType:"full_time",experienceLevel:"mid",skills:["React","TypeScript","CSS"],createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),descriptionShort:"Build fast, delightful UI for our SaaS platform using React."},{id:"backend-developer",title:"Backend Developer",companyName:"OceanSoft",companyLogoUrl:"",location:"Da Nang, Vietnam",salaryMin:1700,salaryMax:2600,currency:"USD",jobType:"full_time",experienceLevel:"mid",skills:["Node.js","Postgres","Docker"],createdAt:new Date(Date.now()-5*24*60*60*1e3).toISOString(),descriptionShort:"Design and scale APIs and services on modern infrastructure."},{id:"product-designer",title:"Product Designer",companyName:"Nova Labs",companyLogoUrl:"",location:"Ho Chi Minh City, Vietnam",salaryMin:1500,salaryMax:2200,currency:"USD",jobType:"part_time",experienceLevel:"senior",skills:["Figma","UX","Research"],createdAt:new Date(Date.now()-8*24*60*60*1e3).toISOString(),descriptionShort:"Lead product discovery and craft intuitive experiences."}];function Ud(e){var n,s,a,i,l,r,o,c,h,v,f;return{id:e.id,title:e.title,companyName:((n=e.companies)==null?void 0:n.name)||((s=e.company)==null?void 0:s.name)||"Cha c tn cng ty",companyLogoUrl:((a=e.companies)==null?void 0:a.logo_url)||((i=e.company)==null?void 0:i.logo_url)||"",location:((l=e.locations)==null?void 0:l.name)||((r=e.location)==null?void 0:r.name)||e.location_text||"Bt k",salaryMin:(o=e.salary_range)==null?void 0:o.min,salaryMax:(c=e.salary_range)==null?void 0:c.max,currency:((h=e.salary_range)==null?void 0:h.currency)||"VND",jobType:e.job_type,experienceLevel:e.experience_level,skills:((v=e.job_skills)==null?void 0:v.map(x=>{var j;return(j=x.skills)==null?void 0:j.name}).filter(Boolean))||[],createdAt:e.posted_at||e.created_at,descriptionShort:((f=e.description)==null?void 0:f.substring(0,150))||"",description:e.description,posted_at:e.posted_at,salary_range:e.salary_range}}function Qy(){const[e,n]=u.useState([]),[s,a]=u.useState(""),[i,l]=u.useState(""),[r,o]=u.useState("newest"),[c,h]=u.useState(""),[v,f]=u.useState(""),[x,j]=u.useState([]),[_,b]=u.useState("any"),[g,m]=u.useState(""),[d,p]=u.useState(""),[y,S]=u.useState([]),[w,k]=u.useState(""),[C,T]=u.useState(1),[L,O]=u.useState({page:1,limit:oi,total:0,total_pages:1}),[se,$]=u.useState(!1),[z,re]=u.useState(""),[Y,H]=u.useState(!1),R=u.useRef(null);u.useEffect(()=>(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{l(s),T(1)},500),()=>{R.current&&clearTimeout(R.current)}),[s]);const X=u.useCallback(async()=>{var G;$(!0),re("");try{const q=No.find(we=>we.value===r)||No[0];let ee=null;_!=="any"&&(ee={junior:1,mid:2,senior:3}[_]||null);let be=i.trim();const Me=c.trim()&&!v?c.trim():void 0,Je=y.length>0?y.join(" "):void 0;let Re;if(x.length===1)Re=x[0];else if(x.length>1){const we=x.map(Pe=>{var ae;return(ae=wh.find(Ee=>Ee.value===Pe))==null?void 0:ae.label}).filter(Boolean).join(" ");be=[be,we].filter(Boolean).join(" ")}const Be=parseInt(String(C),10)||1,oe=parseInt(String(oi),10)||20,E=g&&!isNaN(parseFloat(g))&&parseFloat(g)>=0?parseInt(String(g),10):void 0,J=d&&!isNaN(parseFloat(d))&&parseFloat(d)>=0?parseInt(String(d),10):void 0,Q={page:Be,limit:oe,search:be||void 0,skill_names:Je,location_name:Me,location_id:v||void 0,job_type:Re,experience_level:ee!==null?Number(ee):void 0,salary_min:E,salary_max:J,sort_by:q.sort_by,sort_order:q.sort_order};Object.keys(Q).forEach(we=>{(Q[we]===void 0||Q[we]===null||Q[we]==="")&&delete Q[we]});const ue=await Tt.list(Q),Te=Array.isArray(ue==null?void 0:ue.data)?ue.data:[];if(Te.length===0&&C===1)n([]),O((ue==null?void 0:ue.pagination)||{page:1,limit:oi,total:0,total_pages:1}),re("");else{const we=Te.map(Ud);n(we),O((ue==null?void 0:ue.pagination)||{page:1,limit:oi,total:0,total_pages:1}),re("")}}catch(q){console.error("Error fetching jobs:",q),console.error("Error details:",{message:q==null?void 0:q.message,status:q==null?void 0:q.status,data:q==null?void 0:q.data});const ee=(q==null?void 0:q.message)||((G=q==null?void 0:q.data)==null?void 0:G.message)||"Failed to load jobs. Please check your connection and try again.";re(ee),n(kh),O({page:1,limit:oi,total:kh.length,total_pages:1})}finally{$(!1)}},[C,i,r,v,c,x,_,g,d,y]);u.useEffect(()=>{X()},[X]),u.useEffect(()=>{C!==1&&T(1)},[i,r,v,c,x,_,g,d,y]);const A=G=>{j(q=>{const ee=q.includes(G)?q.filter(be=>be!==G):[...q,G];return C!==1&&T(1),ee})},ie=()=>{const G=w.trim();G&&(y.includes(G)||(S(q=>[...q,G]),k(""),C!==1&&T(1)))},te=G=>{S(q=>q.filter(ee=>ee!==G)),C!==1&&T(1)},pe=G=>{h(G),f(""),C!==1&&T(1)};return t.jsx("div",{className:"jobs-page",children:t.jsxs("div",{className:"jobs-container",children:[t.jsxs("header",{className:"jobs-page__header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:"Vic lm"}),t.jsx("p",{className:"subtitle",children:"Khm ph nhng c hi mi nht"})]}),t.jsxs("div",{className:"jobs-page__controls",children:[t.jsx("input",{type:"text",placeholder:"Tm theo v tr hoc cng ty",value:s,onChange:G=>a(G.target.value)}),t.jsx("select",{value:r,onChange:G=>o(G.target.value),children:No.map(G=>t.jsx("option",{value:G.value,children:G.label},G.value))})]})]}),t.jsxs("div",{className:"jobs-page__layout",children:[t.jsx("aside",{className:"jobs-page__sidebar",children:t.jsx(Hy,{isMobileOpen:Y,onToggleMobile:()=>H(G=>!G),locationFilter:c,onLocationChange:pe,selectedJobTypes:x,onToggleJobType:A,experienceLevel:_,onExperienceChange:G=>{b(G),C!==1&&T(1)},salaryMin:g,salaryMax:d,onSalaryMinChange:G=>{m(G),C!==1&&T(1)},onSalaryMaxChange:G=>{p(G),C!==1&&T(1)},skills:y,skillInput:w,onSkillInputChange:k,onAddSkill:ie,onRemoveSkill:te,jobTypes:wh,experienceOptions:Jy})}),t.jsx("main",{className:"jobs-page__content",children:t.jsx(Zf,{jobs:e,totalPages:L.total_pages||1,currentPage:C,onPageChange:T,isLoading:se,error:z,onRetry:X,showPagination:L.total_pages>1,JobCardComponent:Hr})})]})]})})}const Xy=[{title:"ng tin khng gii hn",desc:"To landing tuyn dng v xut bn ch trong 2 pht."},{title:"Theo di tin  minh bch",desc:"Bng iu khin pipeline gip nh gi ng vin r rng."},{title:"Kt ni ng vin mi sng",desc:"S dng gi kt ni t ngun talent c sn."},{title:"Kt ni trc tip ng vin tim nng",desc:"Gi li mi kt ni v phng vn nhanh chng."}],Gy=[{value:"15.000+",label:"Vic lm ang tuyn"},{value:"1.200+",label:"Nh tuyn dng tin dng"},{value:"48h",label:"Nhn offer trung bnh"}],bo=[{id:"r1",companyName:"Luma Tech",recruiterName:"Nguyn Anh",location:"H Ni, Vit Nam",logoUrl:"",connectedAt:"2 ngy trc"},{id:"r2",companyName:"OceanSoft",recruiterName:"Trn Minh",location:" Nng, Vit Nam",logoUrl:"",connectedAt:"5 ngy trc"}];function Yy(){const[e,n]=u.useState(""),[s,a]=u.useState(""),[i,l]=u.useState("jobs"),[r,o]=u.useState([]),[c,h]=u.useState(!1),[v,f]=u.useState(""),x=He(),j=bo.length;u.useEffect(()=>{const g=Mn(),m=window.location.pathname;if(g==="employer"&&m==="/"){let d=!0;return(async()=>{try{await gt.getMyCompany(),d&&x("/recruiter/dashboard",{replace:!0})}catch(y){if(!d)return;const S=(y==null?void 0:y.status)===404?"/onboarding/company":"/recruiter/dashboard";x(S,{replace:!0})}})(),()=>{d=!1}}},[x]),u.useEffect(()=>{(async()=>{h(!0),f("");try{const m=await Tt.featured(),p=(Array.isArray(m==null?void 0:m.data)?m.data:Array.isArray(m)?m:[]).map(Ud);o(p)}catch(m){console.error("Error fetching featured jobs:",m),f((m==null?void 0:m.message)||"Khng th ti vic lm ni bt"),o(Vc.slice(0,6))}finally{h(!1)}})()},[]);const _=u.useMemo(()=>{const g=e.trim().toLowerCase(),m=s.trim().toLowerCase();return Vc.filter(p=>{const y=!g||p.title.toLowerCase().includes(g)||p.company.toLowerCase().includes(g)||p.tags.join(" ").toLowerCase().includes(g),S=!m||p.location.toLowerCase().includes(m);return y&&S}).slice(0,5)},[e,s]),b=g=>{g==null||g.preventDefault();const m=encodeURIComponent(e.trim()),d=encodeURIComponent(s.trim());x(`/jobs?q=${m}&loc=${d}`)};return t.jsxs("div",{className:"home-shell",children:[t.jsxs("section",{className:"home-hero",children:[t.jsxs("div",{className:"home-hero__content",children:[t.jsx("p",{className:"eyebrow",children:"Kt ni nhn ti & doanh nghip"}),t.jsx("h1",{children:"Khi ng s nghip mi cng JobFinder"}),t.jsx("p",{className:"home-hero__lead",children:"Nn tng tuyn dng gip bn tm vic ph hp ch vi vi thao tc. Tm theo k nng, mc lng hoc hybrid/remote."}),t.jsxs("form",{className:"home-search",onSubmit:b,children:[t.jsxs("div",{className:"home-search__field",children:[t.jsx("span",{"aria-hidden":"true",children:""}),t.jsx("input",{value:e,onChange:g=>n(g.target.value),placeholder:"V tr, k nng, cng ty..."})]}),t.jsxs("div",{className:"home-search__field",children:[t.jsx("span",{"aria-hidden":"true",children:""}),t.jsx("input",{value:s,onChange:g=>a(g.target.value),placeholder:"Thnh ph, quc gia"})]}),t.jsx("button",{type:"submit",className:"btn primary",children:"Tm vic"})]}),t.jsx($y,{items:By,onPick:n}),t.jsx("div",{className:"home-hero__stats",children:Gy.map(g=>t.jsxs("div",{children:[t.jsx("strong",{children:g.value}),t.jsx("span",{children:g.label})]},g.label))})]}),t.jsxs("div",{className:"home-hero__panel",children:[t.jsxs("div",{className:"home-panel__head",children:[t.jsxs("div",{className:"home-hero__tabs",children:[t.jsx("button",{className:`home-hero__tab ${i==="jobs"?"active":""}`,onClick:()=>l("jobs"),children:"Vic lm cho bn"}),t.jsx("button",{className:`home-hero__tab ${i==="recruiters"?"active":""}`,onClick:()=>l("recruiters"),children:"Nh tuyn dng quan tm"})]}),t.jsx(We,{to:i==="jobs"?"/jobs":"/connections",className:"home-panel__link",children:"Xem tt c"})]}),i==="jobs"?t.jsxs("div",{className:"home-panel__list",children:[_.map(g=>t.jsxs(We,{to:`/jobs/${g.id}`,className:"home-panel__card",children:[t.jsx("p",{className:"home-panel__title",children:g.title}),t.jsxs("p",{className:"muted",children:[g.company," | ",g.location]}),t.jsx("div",{className:"home-panel__tags",children:g.tags.slice(0,2).map(m=>t.jsx("span",{children:m},m))})]},g.id)),!_.length&&t.jsx("p",{className:"home-panel__empty",children:"Nhp t kha  xem gi ."})]}):t.jsx("div",{className:"home-hero__recruiter-list",children:bo.length?bo.map(g=>{const m=(g.companyName||"C")[0].toUpperCase();return t.jsxs("div",{className:"home-hero__recruiter-card",children:[t.jsx("div",{className:"recruiter-logo",children:g.logoUrl?t.jsx("img",{src:g.logoUrl,alt:g.companyName}):m}),t.jsxs("div",{className:"recruiter-body",children:[t.jsxs("div",{className:"recruiter-row",children:[t.jsx("strong",{children:g.companyName}),t.jsx("span",{className:"recruiter-time",children:g.connectedAt})]}),t.jsxs("p",{className:"muted",children:[g.recruiterName?`${g.recruiterName}  `:"","Recruiter  ",g.location]}),t.jsxs("div",{className:"recruiter-actions",children:[t.jsx(We,{to:`/companies/${g.id||""}`,className:"link small",children:"Xem cng ty"}),t.jsx(We,{to:`/jobs?companyId=${g.id||""}`,className:"link small",children:"Xem tin tuyn dng"})]})]})]},g.id)}):t.jsx("p",{className:"home-panel__empty",children:"Cha c nh tuyn dng no kt ni vi bn. Hon thin h s  c ch  hn."})})]})]}),j>0&&t.jsxs("div",{className:"home-info-bar",children:[t.jsx("span",{role:"img","aria-label":"link",children:""}),t.jsxs("span",{children:["Bn c ",t.jsxs("strong",{children:[j," nh tuyn dng"]}),"  kt ni vi bn."]}),t.jsx(We,{to:"/connections",className:"link",children:"Xem danh sch"})]}),t.jsxs("section",{className:"home-trust",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"c tin dng bi"}),t.jsx("p",{children:"Hn 1.200 cng ty ti Vit Nam & Khu vc"})]}),t.jsx(Fy,{items:Uy})]}),t.jsxs("section",{className:"home-section",children:[t.jsxs("header",{className:"home-section__head",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Khm ph lnh vc"}),t.jsx("h2",{children:"Danh mc ph bin"})]}),t.jsx(We,{to:"/jobs",className:"home-link",children:"Xem tt c vic lm"})]}),t.jsx("div",{className:"home-grid home-grid--categories",children:Oy.map(g=>t.jsx(Py,{...g},g.name))})]}),t.jsxs("section",{className:"home-section",children:[t.jsxs("header",{className:"home-section__head",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Dnh cho bn"}),t.jsx("h2",{children:"Vic lm ni bt"})]}),t.jsx(We,{to:"/jobs",className:"home-link",children:"Tm thm vic lm"})]}),c?t.jsx("div",{className:"home-grid home-grid--jobs",children:t.jsx("p",{className:"muted",children:"ang ti vic lm ni bt..."})}):v&&r.length===0?t.jsx("div",{className:"home-grid home-grid--jobs",children:t.jsx("p",{className:"muted",children:v})}):t.jsx("div",{className:"home-grid home-grid--jobs",children:r.length>0?r.map(g=>t.jsx(Hr,{job:g},g.id)):t.jsx("p",{className:"muted",children:"Cha c vic lm ni bt."})})]}),t.jsxs("section",{className:"home-connection-section",children:[t.jsxs("div",{className:"home-connection-head",children:[t.jsx("h2",{children:"Kt ni trc tip gia ng vin & nh tuyn dng"}),t.jsx("p",{className:"muted",children:"ng vin v nh tuyn dng c th ch ng tip cn nhau, gi li mi kt ni v phng vn nhanh chng."})]}),t.jsxs("div",{className:"home-connection-grid",children:[t.jsxs("div",{className:"home-connection-card",children:[t.jsx("div",{className:"icon",children:""}),t.jsx("h3",{children:"Nh tuyn dng ch ng kt ni vi bn"}),t.jsx("p",{children:"Hon thin h s  nh tuyn dng c th gi li mi phng vn ngay c khi bn cha ng tuyn."}),t.jsx(We,{to:"/connections",className:"btn primary",children:"Xem nh tuyn dng  kt ni"})]}),t.jsxs("div",{className:"home-connection-card",children:[t.jsx("div",{className:"icon",children:""}),t.jsx("h3",{children:"Kt ni nhanh vi ng vin ph hp"}),t.jsx("p",{children:"Duyt talent pool, xem h s v gi yu cu kt ni ch vi mt ln nhp."}),t.jsx(We,{to:"/talent-pool",className:"btn ghost",children:"Tm ng vin & kt ni"})]})]})]}),t.jsxs("section",{className:"home-section home-section--split",children:[t.jsxs("div",{className:"home-benefits",children:[t.jsx("p",{className:"eyebrow",children:"Nh tuyn dng"}),t.jsx("h2",{children:"Trung tm qun l tuyn dng min ph"}),t.jsx("p",{className:"muted",children:"ng tin, qun l h s, nhn tin v chia s phn hi vi ng vin trn mt nn tng. Hon ton min ph cho doanh nghip di 200 nhn s."}),t.jsx("div",{className:"home-benefits__list",children:Xy.map(g=>t.jsxs("div",{className:"home-benefit__card",children:[t.jsx("h4",{children:g.title}),t.jsx("p",{children:g.desc})]},g.title))}),t.jsxs("div",{className:"home-actions",children:[t.jsx(We,{className:"btn primary",to:"/login?role=employer&redirect=/post-job",children:"ng tin min ph"}),t.jsx(We,{className:"btn ghost",to:"/companies",children:"Cu chuyn thnh cng"}),t.jsx(We,{className:"btn ghost",to:"/talent-pool",children:"Tm ng vin & kt ni"})]})]}),t.jsx(Vy,{className:"home-benefits__carousel",images:["https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1522881451255-f59ad836fdfb?q=80&w=1200&auto=format&fit=crop"],auto:!0,interval:4e3,effect:"fade"})]}),t.jsxs("section",{className:"home-cta",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Sn sng thay i?"}),t.jsx("h2",{children:"Bt u h s JobFinder ch vi 2 pht"}),t.jsx("p",{className:"muted",children:"Nhn gi  ph hp hn v theo di tin trnh ng tuyn trong thi gian thc."})]}),t.jsxs("div",{className:"home-cta__actions",children:[t.jsx(We,{className:"btn primary",to:"/register",children:"To h s ngay"}),t.jsx(We,{className:"btn ghost",to:"/jobs",children:"Khm ph vic lm"})]}),t.jsxs("p",{className:"home-cta__subtext",children:[" c ti khon? ",t.jsx(We,{to:"/connections",className:"link",children:"Xem nh tuyn dng  kt ni vi bn"})]})]})]})}const Zy="modulepreload",e0=function(e){return"/"+e},Ch={},eg=function(n,s,a){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=e0(c),c in Ch)return;Ch[c]=!0;const h=c.endsWith(".css"),v=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Zy,h||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),h)return new Promise((x,j)=>{f.addEventListener("load",x),f.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return i.then(r=>{for(const o of r||[])o.status==="rejected"&&l(o.reason);return n().catch(l)})},rn=e=>(e==null?void 0:e.data)??e,Ut={getResumes:()=>W.get("/api/resumes").then(rn),getResumeById:e=>W.get(`/api/resumes/${e}`).then(rn),createResume:e=>W.post("/api/resumes",e).then(rn),createResumeFromProfile:e=>W.post("/api/resumes/from-profile",e).then(rn),updateResume:(e,n)=>W.put(`/api/resumes/${e}`,n).then(rn),setDefaultResume:e=>W.patch(`/api/resumes/${e}/default`).then(rn),deleteResume:e=>W.del(`/api/resumes/${e}`).then(rn),uploadResume:(e,n)=>{const s=new FormData;return s.append("file",e),n.title&&s.append("title",n.title),n.auto_parse!==void 0&&s.append("auto_parse",String(n.auto_parse)),n.is_default!==void 0&&s.append("is_default",String(n.is_default)),W.post("/api/resumes/upload",s).then(rn)},downloadResume:e=>W.get(`/api/resumes/${e}/download`).then(rn),downloadResumeFile:async e=>{const n=await W.get(`/api/resumes/${e}/download-file`).then(rn);if(!n.url)throw new Error("Khng ly c download URL");return{url:n.url,filename:n.filename||"resume.pdf"}},exportResume:(e,n)=>W.post(`/api/resumes/${e}/export`,n).then(rn),previewResume:async e=>{console.log(" previewResume called with id:",e);const n=`/api/resumes/${e}/preview`,{getAuthToken:s,getRefreshToken:a,setAuthToken:i,setRefreshToken:l,logout:r}=await eg(async()=>{const{getAuthToken:p,getRefreshToken:y,setAuthToken:S,setRefreshToken:w,logout:k}=await Promise.resolve().then(()=>wy);return{getAuthToken:p,getRefreshToken:y,setAuthToken:S,setRefreshToken:w,logout:k}},void 0),o="http://localhost:4000".replace(/\/$/,"");function c(p){return/^https?:\/\//i.test(p)?p:p.startsWith("/api")?o?`${o}${p}`:p:o?`${o}${p}`:p}let h=null;async function v(){const p=a();if(!p)return null;if(h)return h;const y=c("/api/auth/refresh-token");return h=fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:p})}).then(async S=>{var T,L;const w=await S.json().catch(()=>({}));if(!S.ok){const O=new Error((w==null?void 0:w.message)||"Khng th lm mi token");throw O.status=S.status,O}const k=((T=w==null?void 0:w.data)==null?void 0:T.access_token)||(w==null?void 0:w.access_token),C=((L=w==null?void 0:w.data)==null?void 0:L.refresh_token)||(w==null?void 0:w.refresh_token);return k&&i(k),C&&l(C),k}).catch(S=>{throw r(),S}).finally(()=>{h=null}),h}const f=c(n),x=async()=>{var S;let p=localStorage.getItem("authToken")||s();if(!p||!p.trim())throw new Error("Khng tm thy token. Vui lng ng nhp li.");const y={method:"GET",headers:{Authorization:`Bearer ${p.trim()}`},credentials:"omit"};return console.log(" Preview fetch:",{url:f,hasToken:!!p,tokenLength:p==null?void 0:p.length,authorizationHeader:((S=y.headers.Authorization)==null?void 0:S.substring(0,30))+"..."}),fetch(f,y)};let j,_=!1;const b=1;let g=0;for(;g<=b;){try{j=await x(),console.log("Preview response:",{status:j.status,statusText:j.statusText})}catch(p){console.error("Preview fetch error:",p);const y=new Error("Khng th kt ni my ch. Kim tra backend/proxy/URL.");throw y.cause=p,y}if(j.status===401&&!_&&g<b)try{await v(),_=!0,g++;continue}catch(p){throw p}break}const d=(j.headers.get("content-type")||"").includes("application/json")?await j.json():await j.text();if(!j.ok){console.error("Preview error response:",{status:j.status,data:d});const p=new Error((d==null?void 0:d.message)||j.statusText||"Request error");throw p.status=j.status,p.data=d,p}return d},getThemes:()=>W.get("/api/resumes/themes").then(rn),getProfileData:()=>W.get("/api/resumes/profile-data").then(rn)},t0=Object.freeze(Object.defineProperty({__proto__:null,ResumeApi:Ut},Symbol.toStringTag,{value:"Module"}));function n0({open:e,onClose:n,jobId:s,jobTitle:a,onSubmitted:i}){const[l,r]=u.useState([]),[o,c]=u.useState(!1),[h,v]=u.useState(""),[f,x]=u.useState(""),[j,_]=u.useState(!1),[b,g]=u.useState(!1),[m,d]=u.useState(""),[p,y]=u.useState(!1),[S,w]=u.useState(0),[k,C]=u.useState(!1),[T,L]=u.useState(null),[O,se]=u.useState(!1),[$,z]=u.useState(0),re=async()=>{c(!0),d("");try{const A=await Ut.getResumes(),ie=Array.isArray(A)?A:(A==null?void 0:A.data)||[];r(ie);const te=ie.find(pe=>pe.is_default);te?v(te.id):ie.length>0&&v(ie[0].id)}catch(A){d((A==null?void 0:A.message)||"Khng th ti danh sch CV. Vui lng th li."),r([])}finally{c(!1)}};u.useEffect(()=>{e&&re()},[e]);const Y=async A=>{var te;const ie=(te=A.target.files)==null?void 0:te[0];if(ie){g(!0),d("");try{await Ut.uploadResume(ie,{title:ie.name,auto_parse:!0,is_default:l.length===0}),await re()}catch(pe){d((pe==null?void 0:pe.message)||"Ti CV tht bi. Vui lng th li.")}finally{g(!1),A.target.value=""}}},H=async A=>{var te,pe,G;if(A.preventDefault(),!s){d("Thiu thng tin job.");return}const ie=(R==null?void 0:R.source_type)==="created"&&!(R!=null&&R.file_url);if(_(!0),d(""),se(!1),ie){y(!0),w(0);const q=setInterval(()=>{w(ee=>ee>=90?(clearInterval(q),90):ee+10)},500)}try{await ot.create({job_id:s,resume_id:h||void 0,metadata:f?{note:f}:void 0}),ie&&(w(100),await new Promise(q=>setTimeout(q,500)),y(!1)),L({jobTitle:a,resumeTitle:R==null?void 0:R.title,isProfileCV:ie}),C(!0),i&&i()}catch(q){y(!1),ie&&((te=q==null?void 0:q.message)!=null&&te.includes("PDF")||(pe=q==null?void 0:q.message)!=null&&pe.includes("generate"))?(se(!0),d("Khng th to PDF cho CV. Bn c mun th li khng?")):(q==null?void 0:q.status)===401?d("Bn cn ng nhp ti khon Ngi tm vic  ng tuyn."):(q==null?void 0:q.status)===403?d("Bn khng c quyn ng tuyn. Hy ng nhp ng vai tr Ngi tm vic hoc kim tra token."):d(((G=q==null?void 0:q.data)==null?void 0:G.message)||(q==null?void 0:q.message)||"Khng th gi ng tuyn.")}finally{_(!1),w(0)}},R=u.useMemo(()=>l.find(A=>A.id===h),[l,h]),X=(R==null?void 0:R.source_type)==="created"&&!(R!=null&&R.file_url);return t.jsxs(Rn,{open:e,onClose:n,noWrapper:!0,children:[t.jsxs("div",{className:"apply-drawer",onClick:A=>A.stopPropagation(),children:[t.jsxs("div",{className:"apply-drawer__header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"muted small",children:"ng tuyn"}),t.jsx("h3",{className:"apply-drawer__title",children:a||"Cng vic"})]}),t.jsx("button",{className:"btn ghost",onClick:n,"aria-label":"ng",children:""})]}),t.jsxs("form",{className:"apply-drawer__body",onSubmit:H,children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("div",{className:"form-label",children:["Chn CV",t.jsx("span",{className:"muted small",children:"Chng ti s gi CV ny cho nh tuyn dng"})]}),o?t.jsx("div",{className:"muted",children:"ang ti CV..."}):l.length===0?t.jsxs("div",{className:"empty-box",children:[t.jsx("p",{className:"muted",style:{marginBottom:8},children:"Bn cha c CV no."}),t.jsxs("label",{className:"btn primary",children:["Ti CV ln",t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:Y,hidden:!0})]})]}):t.jsxs(t.Fragment,{children:[X&&t.jsxs("div",{className:"info-box",style:{padding:"12px 16px",background:"#eff6ff",border:"1px solid #3b82f6",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",style:{flexShrink:0,marginTop:"2px"},children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600,color:"#1e40af",marginBottom:"4px"},children:"CV t h s"}),t.jsx("div",{style:{fontSize:"14px",color:"#1e3a8a"},children:"CV ny s c t ng chuyn i sang PDF khi bn gi ng tuyn. Qu trnh ny c th mt vi giy."})]})]}),t.jsx("div",{className:"resume-grid",children:l.map(A=>{const ie=A.source_type==="created"&&!A.file_url;return t.jsxs("label",{className:`resume-card ${h===A.id?"active":""}`,children:[t.jsx("input",{type:"radio",name:"resume",value:A.id,checked:h===A.id,onChange:()=>v(A.id)}),t.jsxs("div",{className:"resume-card__content",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[t.jsx("div",{className:"resume-card__title",children:A.title||"CV khng tn"}),ie&&t.jsx("span",{className:"badge",style:{background:"#eff6ff",color:"#3b82f6",fontSize:"11px",padding:"2px 8px",borderRadius:"4px"},children:"T h s"}),A.is_default&&t.jsx("span",{className:"badge",children:"Mc nh"})]}),t.jsx("div",{className:"muted small",children:A.status||A.updated_at?`Cp nht: ${new Date(A.updated_at||A.created_at).toLocaleDateString("vi-VN")}`:"Cha r"})]})]},A.id)})})]}),t.jsxs("div",{className:"inline-actions",children:[t.jsxs("label",{className:"btn ghost small",children:[b?"ang ti...":"Ti CV mi",t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:Y,hidden:!0,disabled:b})]}),t.jsx("a",{className:"muted small",href:"/resumes",onClick:n,children:"Qun l CV"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("div",{className:"form-label",children:"Ghi ch ti nh tuyn dng (tu chn)"}),t.jsx("textarea",{value:f,onChange:A=>x(A.target.value),placeholder:"V d: Thi gian phng vn ph hp, portfolio...",rows:3})]}),(R==null?void 0:R.file_url)&&t.jsxs("div",{className:"muted small",children:["CV c gi: ",R.title||"CV"]}),m&&t.jsxs("div",{className:"error-box",children:[t.jsx("p",{children:m}),O&&$<3&&t.jsxs("button",{className:"btn outline small",type:"button",onClick:async()=>{z(ie=>ie+1),se(!1),d("");const A=document.querySelector(".apply-drawer__body");if(A){const ie=new Event("submit",{bubbles:!0,cancelable:!0});A.dispatchEvent(ie)}},style:{marginTop:"8px"},children:["Th li (",$,"/3)"]})]}),t.jsxs("div",{className:"apply-drawer__footer",children:[t.jsx("button",{type:"button",className:"btn",onClick:n,disabled:j||p,children:"Hy"}),t.jsx("button",{type:"submit",className:"btn primary",disabled:j||o||l.length===0&&b||p,children:j||p?"ang x l...":"Gi ng tuyn"})]})]})]}),p&&t.jsx(Rn,{open:!0,onClose:()=>{},noWrapper:!0,children:t.jsxs("div",{className:"pdf-generation-modal",style:{padding:"32px",background:"white",borderRadius:"12px",maxWidth:"400px",textAlign:"center",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("div",{className:"spinner",style:{width:"48px",height:"48px",margin:"0 auto 16px",border:"4px solid #e2e8f0",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("h3",{style:{margin:"0 0 8px",fontSize:"18px",fontWeight:600,color:"#0f172a"},children:"ang x l CV"}),t.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"ang chuyn i CV sang PDF..."})]}),t.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden",marginBottom:"16px"},children:t.jsx("div",{style:{width:`${S}%`,height:"100%",background:"#3b82f6",transition:"width 0.3s ease",borderRadius:"4px"}})}),t.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#94a3b8"},children:[S<50&&"ang to file PDF...",S>=50&&S<90&&"ang ti ln h thng...",S>=90&&"Hon tt..."]})]})}),k&&t.jsx(Rn,{open:!0,onClose:()=>{C(!1),n==null||n()},noWrapper:!0,children:t.jsxs("div",{style:{padding:"32px",background:"white",borderRadius:"12px",maxWidth:"400px",textAlign:"center",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[t.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 16px",background:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#16a34a",strokeWidth:"3",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("h3",{style:{margin:"0 0 8px",fontSize:"20px",fontWeight:600,color:"#0f172a"},children:"ng tuyn thnh cng!"}),t.jsxs("p",{style:{margin:"0 0 16px",color:"#64748b",fontSize:"14px"},children:["n ng tuyn ca bn  c gi n nh tuyn dng.",(T==null?void 0:T.isProfileCV)&&t.jsx("span",{style:{display:"block",marginTop:"8px",color:"#16a34a",fontWeight:500},children:" CV  c t ng chuyn i sang PDF"})]}),t.jsx("button",{className:"btn primary",onClick:()=>{C(!1),n==null||n()},style:{width:"100%"},children:"ng"})]})})]})}const s0={any:"Bt k",0:"Bt k",1:"1 nm",2:"2 nm",3:"3 nm",4:"4 nm",5:"5+ nm",junior:"1 nm",mid:"2 nm",senior:"3+ nm"},a0={full_time:"Ton thi gian",part_time:"Bn thi gian",intern:"Thc tp",freelance:"Freelance"},i0={"frontend-engineer":{id:"frontend-engineer",title:"Frontend Engineer",company:{id:"lumatech",name:"Luma Tech",logoUrl:"",size:"100-200",description:"Xy dng ng dng web nhanh, hin i cho nn tng SaaS.",contactEmail:"hr@lumatech.io",contactPhone:"+84 24 0000 000",contactAddress:"H Ni, Vit Nam"},location:{name:"H Ni, Vit Nam"},salaryRange:{min:1800,max:2500,currency:"USD",period:"month"},jobType:"full_time",experienceLevel:"mid",description:"Thit k v trin khai giao din vi React/TypeScript. Phi hp thit k v backend  ti u hiu nng.",requirements:[{title:"3+ nm vi React",isRequired:!0,yearsExperience:3,description:"Thnh tho hooks v ti u hiu nng."},{title:"TypeScript",isRequired:!0,description:"Hiu typing nng cao v linting."},{title:"Design system",isRequired:!1,description:"Bit dng token v component ti s dng."}],skills:["React","TypeScript","CSS"],tags:["Frontend","SaaS","Remote"],benefits:[{title:"Remote linh hot",description:"H tr thit b lm vic ti nh."},{title:"Ngn sch hc tp",description:"$1,000/nm cho kho hc v hi tho."}],workArrangement:{isRemoteAllowed:!0,remotePercentage:60,flexibleHours:!0,overtimeExpected:!1,travelRequirement:"Thnh thong on-site",shiftType:"Gi hnh chnh"},postedAt:"2025-01-05T08:00:00Z",expiresAt:"2025-03-01T08:00:00Z",stats:{views:1200,applicants:32},status:"open"},"backend-developer":{id:"backend-developer",title:"Backend Developer",company:{id:"oceansoft",name:"OceanSoft",logoUrl:"",size:"80-150",description:"Pht trin API cho sn phm logistics v thng mi.",contactEmail:"jobs@oceansoft.vn",contactPhone:"+84 23 1234 567",contactAddress:" Nng, Vit Nam"},location:{name:" Nng, Vit Nam"},salaryRange:{min:1700,max:2600,currency:"USD",period:"month"},jobType:"full_time",experienceLevel:"mid",description:"Xy dng v m rng API vi Node.js/Postgres. Chu trch nhim end-to-end.",requirements:[{title:"Node.js/TypeScript",isRequired:!0,yearsExperience:3},{title:"SQL & Postgres",isRequired:!0,description:"Ti u truy vn v thit k schema."},{title:"Docker c bn",isRequired:!1}],skills:["Node.js","Postgres","Docker"],tags:["API","Backend","Cloud"],benefits:[{title:"Bo him sc khe",description:"Cho bn thn v gia nh."},{title:"Thng qu",description:"Da trn hiu sut."}],workArrangement:{isRemoteAllowed:!0,remotePercentage:40,flexibleHours:!0,overtimeExpected:!1,travelRequirement:"Him khi",shiftType:"Gi hnh chnh"},postedAt:"2025-01-20T08:00:00Z",expiresAt:"2025-03-20T08:00:00Z",stats:{views:980,applicants:21},status:"open"},"product-designer":{id:"product-designer",title:"Product Designer",company:{id:"novalabs",name:"Nova Labs",logoUrl:"",size:"50-100",description:"Thit k tri nghim chun B2C cho khch hng B2B.",contactEmail:"hello@novalabs.vn",contactAddress:"TP. H Ch Minh, Vit Nam"},location:{name:"TP. H Ch Minh, Vit Nam"},salaryRange:{min:1500,max:2200,currency:"USD",period:"month"},jobType:"part_time",experienceLevel:"senior",description:"Dn dt discovery, to lung sn phm trc quan v trin khai UI sc nt.",requirements:[{title:"Portfolio sn phm",isRequired:!0},{title:"Thnh tho Figma",isRequired:!0},{title:"Research & testing",isRequired:!1}],skills:["Figma","UX","Research"],tags:["Design","UX","UI"],benefits:[{title:"Gi gic linh hot",description:"Ch ng sp xp lch."},{title:"H tr thit b",description:"Cung cp laptop v ph kin."}],workArrangement:{isRemoteAllowed:!0,remotePercentage:80,flexibleHours:!0,overtimeExpected:!1,travelRequirement:"Tu chn",shiftType:"Gi hnh chnh"},postedAt:"2025-01-12T08:00:00Z",expiresAt:"2025-03-10T08:00:00Z",stats:{views:540,applicants:18},status:"open"}},l0=e=>{if(!e)return"Tha thun";const{min:n,max:s,currency:a="USD",period:i="month"}=e,l=new Intl.NumberFormat("en-US"),r=i?` / ${i==="month"?"thng":i}`:"";return n!=null&&s!=null?`${l.format(n)} - ${l.format(s)} ${a}${r}`:n!=null?`${l.format(n)} ${a}${r}`:s!=null?`${l.format(s)} ${a}${r}`:"Tha thun"},wo=e=>{if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":n.toLocaleDateString("vi-VN",{day:"numeric",month:"short",year:"numeric"})},r0=e=>({open:"ang tuyn",approved:"ang tuyn",active:"ang tuyn",closed:" ng",draft:"Nhp",paused:"Tm dng"})[e==null?void 0:e.toLowerCase()]||e||"ang tuyn",o0=e=>{const n=e==null?void 0:e.toLowerCase();return n==="open"||n==="approved"||n==="active"?"status-open":n==="closed"?"status-closed":n==="paused"?"status-paused":"status-default"},Sh=e=>{var x,j;const n=(e==null?void 0:e.data)??e;if(!n)return null;const s=n.salaryRange||(n.salary_range?{min:n.salary_range.min,max:n.salary_range.max,currency:n.salary_range.currency||n.currency||"USD",period:n.salary_range.period||n.period||"month"}:n.salaryMin!=null||n.salaryMax!=null||n.salary_min!=null||n.salary_max!=null?{min:n.salaryMin??n.salary_min??null,max:n.salaryMax??n.salary_max??null,currency:n.currency||n.salaryCurrency||"USD",period:n.salaryPeriod||"month"}:null),a=n.company_id||n.companyId||((x=n.companies)==null?void 0:x.id)||((j=n.company)==null?void 0:j.id),i=n.companies&&typeof n.companies=="object"?{...n.companies,id:n.companies.id||a,name:n.companies.name,logoUrl:n.companies.logo_url||n.companies.logoUrl,description:n.companies.description}:n.company&&typeof n.company=="object"?{...n.company,id:n.company.id||a,logoUrl:n.company.logo_url||n.company.logoUrl}:n.companyName?{id:a,name:n.companyName,logoUrl:n.companyLogoUrl}:n.company?{id:a,name:n.company}:null,l=n.locations&&typeof n.locations=="object"?{id:n.locations.id,name:n.locations.name,type:n.locations.type,...n.locations}:typeof n.location=="string"?{name:n.location}:n.location&&typeof n.location=="object"?n.location:n.locationName?{name:n.locationName}:null,r=n.job_work_arrangements&&typeof n.job_work_arrangements=="object"?{isRemoteAllowed:n.job_work_arrangements.is_remote_allowed,remotePercentage:n.job_work_arrangements.remote_percentage,flexibleHours:n.job_work_arrangements.flexible_hours,travelRequirement:n.job_work_arrangements.travel_requirement,overtimeExpected:n.job_work_arrangements.overtime_expected,shiftType:n.job_work_arrangements.shift_type}:n.workArrangement||n.work_arrangement||n.workSetting,o=Array.isArray(n.job_requirements)?n.job_requirements.map(_=>({title:_.title,description:_.description,isRequired:_.is_required,requirementType:_.requirement_type,level:_.level,yearsExperience:_.years_experience})):n.requirements||[],c=Array.isArray(n.job_benefits)?n.job_benefits.map(_=>({title:_.title,description:_.description,benefitType:_.benefit_type,valueAmount:_.value_amount,valueCurrency:_.value_currency})):n.benefits||[],h=Array.isArray(n.job_skills)?n.job_skills.map(_=>{var b;return(b=_.skills)==null?void 0:b.name}).filter(Boolean):n.skills||[],v=Array.isArray(n.job_tags)?n.job_tags.map(_=>{var b;return(b=_.tags)==null?void 0:b.name}).filter(Boolean):n.tags||[],f=n._count?{views:n._count.job_views||0,applicants:n._count.applications||0,saved:n._count.saved_jobs||0}:n.stats||{views:0,applicants:0,saved:0};return{id:n.id,title:n.title,description:n.description,jobType:n.job_type||n.jobType,experienceLevel:n.experience_level!==void 0?n.experience_level:n.experienceLevel,status:n.status,metadata:n.metadata,version:n.version,postedAt:n.posted_at||n.postedAt,expiresAt:n.expires_at||n.expiresAt,createdAt:n.created_at||n.createdAt,updatedAt:n.updated_at||n.updatedAt,salaryRange:s,company:i,location:l,workArrangement:r,requirements:o,benefits:c,skills:h,tags:v,stats:f,companyId:a||n.companyId||n.company_id,locationId:n.location_id||n.locationId,...n}};function c0(){var G,q,ee,be,Me,Je,Re,Be,oe,E,J,Q,ue,Te,we,Pe,ae,Ee,Ie,it,Ke,Ye,F,he,ye,ke,Qe;const{id:e}=Gn(),n=He(),[s,a]=u.useState(null),[i,l]=u.useState(!0),[r,o]=u.useState(""),[c,h]=u.useState(!1),[v,f]=u.useState(!1),[x,j]=u.useState(!1),[_,b]=u.useState(!1),[g,m]=u.useState(!1),d=u.useRef(null),p=u.useRef(null),y=u.useRef(!1),w=Mn()==="seeker",k=u.useCallback(async()=>{l(!0),o(""),y.current=!1;try{const le=await Tt.detail(e),De=Sh(le);if(!De)throw new Error("Khng tm thy tin tuyn dng");a(De),!y.current&&e&&(y.current=!0,Tt.trackView(e).catch(ct=>{console.warn("Failed to track job view:",ct)}))}catch(le){const De=Sh(i0[e]);De?(a(De),o("")):(o((le==null?void 0:le.message)||"Khng ti c tin tuyn dng"),a(null))}finally{l(!1)}},[e]);u.useEffect(()=>{k()},[k]),u.useEffect(()=>{const le=!!Qn();if(!w||!le||!e||i){h(!1),j(!1);return}(async()=>{var ct;j(!0);try{const Ze=await ki.check(e),U=((ct=Ze==null?void 0:Ze.data)==null?void 0:ct.saved)??(Ze==null?void 0:Ze.saved)??!1;h(U)}catch(Ze){(Ze==null?void 0:Ze.status)===401||console.warn("Failed to check saved status:",Ze),h(!1)}finally{j(!1)}})()},[e,w,i]),u.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const C=((s==null?void 0:s.status)||"").toLowerCase(),T=C==="open"||C==="approved"||C==="active",L=u.useMemo(()=>((s==null?void 0:s.requirements)||[]).filter(le=>le==null?void 0:le.isRequired),[s]),O=u.useMemo(()=>((s==null?void 0:s.requirements)||[]).filter(le=>!(le!=null&&le.isRequired)),[s]),se=l0(s==null?void 0:s.salaryRange),$=(s==null?void 0:s.skills)||[],z=(s==null?void 0:s.tags)||[],re=s0[s==null?void 0:s.experienceLevel]||(s==null?void 0:s.experienceLevel)||"Bt k",Y=a0[s==null?void 0:s.jobType]||(s==null?void 0:s.jobType)||"Cng vic",H=async()=>{var De;const le={title:(s==null?void 0:s.title)||"Tin tuyn dng",text:(De=s==null?void 0:s.company)!=null&&De.name?`${s.title} - ${s.company.name}`:s==null?void 0:s.title,url:window.location.href};try{navigator.share?await navigator.share(le):navigator.clipboard&&(await navigator.clipboard.writeText(le.url),alert(" sao chp lin kt"))}catch{}},R=async()=>{if(!w){n("/login?role=seeker&redirect="+encodeURIComponent(window.location.pathname));return}if(e){f(!0);try{await ki.save(e),h(!0)}catch(le){(le==null?void 0:le.status)===401?n("/login?role=seeker&redirect="+encodeURIComponent(window.location.pathname)):alert((le==null?void 0:le.message)||"Khng th lu tin tuyn dng. Vui lng th li.")}finally{f(!1)}}},X=async()=>{if(!(!w||!e)){f(!0);try{await ki.unsave(e),h(!1)}catch(le){(le==null?void 0:le.status)===401?n("/login?role=seeker&redirect="+encodeURIComponent(window.location.pathname)):alert((le==null?void 0:le.message)||"Khng th b lu tin tuyn dng. Vui lng th li.")}finally{f(!1)}}},A=()=>{c?X():R()},ie=()=>{if(!T){alert("Tin tuyn dng  ng.");return}if(!w){n("/login?role=seeker&redirect="+encodeURIComponent(window.location.pathname));return}m(!0)},te=()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"start"}),b(!0),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>b(!1),1200))},pe=()=>{var De,ct,Ze,U;const le=((De=s==null?void 0:s.company)==null?void 0:De.id)||((ct=s==null?void 0:s.companies)==null?void 0:ct.id)||(s==null?void 0:s.companyId)||(s==null?void 0:s.company_id)||((U=(Ze=s==null?void 0:s.company)==null?void 0:Ze.companies)==null?void 0:U.id);if(!le){console.warn("Company ID not found in job data:",s),alert("Cha c thng tin cng ty.");return}n(`/companies/${le}`)};return i?t.jsx("div",{className:"job-details-page",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"state-card",children:"ang ti chi tit cng vic..."})})}):r?t.jsx("div",{className:"job-details-page",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"state-card error",children:[t.jsx("p",{children:r}),t.jsx("button",{className:"btn primary",onClick:k,children:"Th li"})]})})}):s?t.jsxs("div",{className:"job-details-page",children:[t.jsxs("div",{className:"container",children:[t.jsxs("header",{className:"job-header section-card",children:[t.jsxs("div",{className:"job-header__left",children:[t.jsx("div",{className:"job-logo",children:(G=s==null?void 0:s.company)!=null&&G.logoUrl?t.jsx("img",{src:s.company.logoUrl,alt:s.company.name||"Company logo"}):t.jsx("span",{children:(ee=((q=s==null?void 0:s.company)==null?void 0:q.name)||"C")==null?void 0:ee.slice(0,2).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("h1",{children:s.title}),t.jsxs("p",{className:"muted",children:[((be=s==null?void 0:s.company)==null?void 0:be.name)||"Cha cp nht"," | ",((Me=s==null?void 0:s.location)==null?void 0:Me.name)||"Lm vic t xa"]}),t.jsxs("div",{className:"meta-row",children:[t.jsx("span",{className:"badge",children:Y}),t.jsx("span",{className:"badge secondary",children:re}),t.jsx("span",{className:"badge ghost",children:se}),s.postedAt&&t.jsxs("span",{className:"muted",children:["ng ",wo(s.postedAt)]})]})]})]}),t.jsx("div",{className:`status-badge ${o0(s.status)}`,children:r0(s.status)})]}),t.jsxs("div",{className:"action-bar section-card balanced",children:[t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn primary",onClick:ie,disabled:!T,children:"ng tuyn ngay"}),w&&t.jsx("button",{className:"btn ghost",onClick:A,disabled:v||x,children:v?"ang x l...":x?"ang kim tra...":c?" lu":"Lu tin"}),t.jsx("button",{className:"btn ghost",onClick:H,children:"Chia s"}),t.jsx("button",{className:"btn ghost",onClick:te,children:"Xem nhanh cng ty"}),t.jsx("button",{className:"btn ghost",onClick:pe,children:"n trang cng ty"})]}),t.jsxs("div",{className:"muted stats-text",children:[(((Je=s==null?void 0:s.stats)==null?void 0:Je.views)??0).toLocaleString()," lt xem | ",(((Re=s==null?void 0:s.stats)==null?void 0:Re.applicants)??0).toLocaleString()," ng vin"]})]}),t.jsxs("div",{className:"details-grid wide",children:[t.jsxs("main",{className:"details-main",children:[t.jsxs("section",{className:"section-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"M t cng vic"})}),t.jsx("p",{className:"description-text",children:s.description||"Cha c m t."})]}),t.jsxs("section",{className:"section-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Yu cu"})}),t.jsxs("div",{className:"requirements-grid",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"Bt buc"}),L.length?t.jsx("ul",{className:"bullet-list",children:L.map((le,De)=>t.jsxs("li",{children:[t.jsx("div",{className:"req-title",children:le.title}),le.description&&t.jsx("p",{className:"muted",children:le.description}),le.yearsExperience?t.jsxs("span",{className:"pill-chip",children:[le.yearsExperience,"+ nm"]}):null]},`must-${De}`))}):t.jsx("p",{className:"muted",children:"Cha c yu cu bt buc."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"u tin"}),O.length?t.jsx("ul",{className:"bullet-list",children:O.map((le,De)=>t.jsxs("li",{children:[t.jsx("div",{className:"req-title",children:le.title}),le.description&&t.jsx("p",{className:"muted",children:le.description})]},`nice-${De}`))}):t.jsx("p",{className:"muted",children:"Cha c yu cu b sung."})]})]})]}),t.jsxs("section",{className:"section-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"K nng & th"})}),t.jsxs("div",{className:"chips-row",children:[[...$,...z].map(le=>t.jsx("span",{className:"chip",children:le},le)),!$.length&&!z.length&&t.jsx("p",{className:"muted",children:"Cha c k nng."})]})]}),t.jsxs("section",{className:"section-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Quyn li"})}),(Be=s==null?void 0:s.benefits)!=null&&Be.length?t.jsx("ul",{className:"benefits-list",children:s.benefits.map((le,De)=>t.jsxs("li",{children:[t.jsxs("div",{children:[t.jsx("div",{className:"benefit-title",children:le.title}),le.description&&t.jsx("p",{className:"muted",children:le.description})]}),le.valueAmount!=null&&t.jsxs("span",{className:"pill-chip",children:[le.valueAmount," ",le.valueCurrency||""]})]},`benefit-${De}`))}):t.jsx("p",{className:"muted",children:"Cha c quyn li."})]}),t.jsxs("section",{className:"section-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Hnh thc lm vic"})}),t.jsxs("div",{className:"work-grid",children:[t.jsxs("div",{className:"work-item",children:[t.jsx("span",{className:"work-label",children:"Lm t xa"}),t.jsxs("span",{className:"work-value",children:[t.jsx("strong",{children:(oe=s==null?void 0:s.workArrangement)!=null&&oe.isRemoteAllowed?"C":"Ti vn phng"}),((E=s==null?void 0:s.workArrangement)==null?void 0:E.remotePercentage)!=null&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"work-divider",children:"|"}),t.jsxs("strong",{children:[s.workArrangement.remotePercentage,"%"]})]})]})]}),t.jsxs("div",{className:"work-item",children:[t.jsx("span",{className:"work-label",children:"Gi gic linh hot"}),t.jsx("span",{className:"work-value",children:t.jsx("strong",{children:(J=s==null?void 0:s.workArrangement)!=null&&J.flexibleHours?"C":"Khng"})})]}),t.jsxs("div",{className:"work-item",children:[t.jsx("span",{className:"work-label",children:"Lm thm"}),t.jsx("span",{className:"work-value",children:t.jsx("strong",{children:(Q=s==null?void 0:s.workArrangement)!=null&&Q.overtimeExpected?"C":"Khng"})})]}),t.jsxs("div",{className:"work-item",children:[t.jsx("span",{className:"work-label",children:"Cng tc"}),t.jsx("span",{className:"work-value",children:t.jsx("strong",{children:((ue=s==null?void 0:s.workArrangement)==null?void 0:ue.travelRequirement)||"Cha r"})})]}),t.jsxs("div",{className:"work-item",children:[t.jsx("span",{className:"work-label",children:"Ca lm"}),t.jsx("span",{className:"work-value",children:t.jsx("strong",{children:((Te=s==null?void 0:s.workArrangement)==null?void 0:Te.shiftType)||"Cha r"})})]})]})]})]}),t.jsxs("aside",{className:"details-sidebar sticky",children:[t.jsxs("section",{className:"section-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Thng tin nhanh"})}),t.jsxs("div",{className:"quick-info",children:[t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Mc lng"}),t.jsx("strong",{children:se})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Hnh thc"}),t.jsx("strong",{children:Y})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Kinh nghim"}),t.jsx("strong",{children:re})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"a im"}),t.jsx("strong",{children:((we=s==null?void 0:s.location)==null?void 0:we.name)||"Lm vic t xa"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Ngy ng"}),t.jsx("strong",{children:wo(s==null?void 0:s.postedAt)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Hn ng tuyn"}),t.jsx("strong",{children:wo(s==null?void 0:s.expiresAt)||"N/A"})]})]}),t.jsxs("div",{className:"sidebar-actions",children:[t.jsx("button",{className:"btn primary",disabled:!T,onClick:ie,children:"ng tuyn ngay"}),t.jsx("button",{className:"btn ghost",onClick:H,children:"Chia s"})]})]}),t.jsxs("section",{ref:d,className:`section-card company-card ${_?"is-highlighted":""}`,children:[t.jsxs("div",{className:"section-head",children:[t.jsx("h3",{children:"Cng ty"}),t.jsx("button",{className:"btn ghost small",onClick:pe,children:"Xem chi tit"})]}),t.jsxs("div",{className:"company-header",children:[t.jsx("div",{className:"company-logo",children:(Pe=s==null?void 0:s.company)!=null&&Pe.logoUrl?t.jsx("img",{src:s.company.logoUrl,alt:s.company.name||"Company logo"}):t.jsx("span",{children:(Ee=((ae=s==null?void 0:s.company)==null?void 0:ae.name)||"C")==null?void 0:Ee.slice(0,2).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("strong",{children:((Ie=s==null?void 0:s.company)==null?void 0:Ie.name)||"Cha cp nht"}),((it=s==null?void 0:s.company)==null?void 0:it.size)&&t.jsxs("p",{className:"muted",children:["Quy m: ",s.company.size]})]})]}),((Ke=s==null?void 0:s.company)==null?void 0:Ke.description)&&t.jsx("p",{className:"muted",children:s.company.description}),t.jsxs("div",{className:"company-info",children:[((Ye=s==null?void 0:s.company)==null?void 0:Ye.contactEmail)&&t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Email"}),t.jsx("strong",{children:s.company.contactEmail})]}),((F=s==null?void 0:s.company)==null?void 0:F.contactPhone)&&t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"in thoi"}),t.jsx("strong",{children:s.company.contactPhone})]}),((he=s==null?void 0:s.company)==null?void 0:he.contactAddress)&&t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"a ch"}),t.jsx("strong",{children:s.company.contactAddress})]})]}),(((ye=s==null?void 0:s.company)==null?void 0:ye.linkedinUrl)||((ke=s==null?void 0:s.company)==null?void 0:ke.facebookUrl)||((Qe=s==null?void 0:s.company)==null?void 0:Qe.twitterUrl))&&t.jsxs("div",{className:"social-links",children:[s.company.linkedinUrl&&t.jsx("a",{href:s.company.linkedinUrl,target:"_blank",rel:"noreferrer",children:"LinkedIn"}),s.company.facebookUrl&&t.jsx("a",{href:s.company.facebookUrl,target:"_blank",rel:"noreferrer",children:"Facebook"}),s.company.twitterUrl&&t.jsx("a",{href:s.company.twitterUrl,target:"_blank",rel:"noreferrer",children:"Twitter"})]})]})]})]})]}),t.jsx(n0,{open:g,onClose:()=>m(!1),jobId:s==null?void 0:s.id,jobTitle:s==null?void 0:s.title,onSubmitted:()=>{m(!1),n("/applications")}})]}):null}function d0({steps:e,currentStep:n,className:s=""}){const a=i=>i<n?"completed":i===n?"active":"pending";return t.jsx("div",{className:`progress-stepper ${s}`,children:e.map((i,l)=>{const r=a(l),o=l===e.length-1;return t.jsxs(Dm.Fragment,{children:[t.jsxs("div",{className:`step-item step-${r}`,children:[t.jsx("div",{className:"step-indicator",children:r==="completed"?t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})}):t.jsx("span",{className:"step-number",children:l+1})}),t.jsxs("div",{className:"step-content",children:[t.jsx("div",{className:"step-title",children:i.title}),i.description&&t.jsx("div",{className:"step-description",children:i.description})]})]}),!o&&t.jsx("div",{className:`step-connector connector-${r}`})]},l)})})}function me({children:e,variant:n="default",size:s="medium",className:a="",disabled:i=!1,loading:l=!1,icon:r,iconPosition:o="left",onClick:c,type:h="button",...v}){const f="btn-shared",x=`btn-${n}`,j=`btn-${s}`,b=[f,x,j,l?"btn-loading":"",a].filter(Boolean).join(" "),g=r&&t.jsx("span",{className:`btn-icon btn-icon-${o}`,children:r});return t.jsxs("button",{type:h,className:b,disabled:i||l,onClick:c,...v,children:[o==="left"&&g,l?t.jsx("span",{className:"btn-spinner",children:t.jsx("svg",{className:"spinner",viewBox:"0 0 24 24",children:t.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:"32",strokeDashoffset:"32",children:[t.jsx("animate",{attributeName:"stroke-dasharray",dur:"1.5s",values:"0 32;16 16;0 32;0 32",repeatCount:"indefinite"}),t.jsx("animate",{attributeName:"stroke-dashoffset",dur:"1.5s",values:"0;-16;-32;-32",repeatCount:"indefinite"})]})})}):e,o==="right"&&g]})}function Ge({children:e,className:n="",variant:s="default",padding:a="medium",hover:i=!1,onClick:l,...r}){const o="card-shared",c=`card-${s}`,h=`card-padding-${a}`,x=[o,c,h,i?"card-hover":"",l?"card-clickable":"",n].filter(Boolean).join(" ");return t.jsx("div",{className:x,onClick:l,role:l?"button":void 0,tabIndex:l?0:void 0,onKeyDown:l?j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),l(j))}:void 0,...r,children:e})}function u0({children:e,className:n="",...s}){return t.jsx("div",{className:`card-header ${n}`,...s,children:e})}function Oa({children:e,className:n="",...s}){return t.jsx("div",{className:`card-body ${n}`,...s,children:e})}function $t({children:e,variant:n="default",size:s="medium",className:a="",icon:i,iconPosition:l="left",...r}){const o="badge-shared",c=`badge-${n}`,h=`badge-${s}`,v=[o,c,h,a].filter(Boolean).join(" "),f=i&&t.jsx("span",{className:`badge-icon badge-icon-${l}`,children:i});return t.jsxs("span",{className:v,...r,children:[l==="left"&&f,e,l==="right"&&f]})}function Kn({label:e,error:n,helperText:s,required:a,icon:i,iconPosition:l="left",className:r="",maxLength:o,showCounter:c=!1,...h}){var _;const v=!!n,f=((_=h.value)==null?void 0:_.toString().length)||0,x=["input-shared",v&&"input-error",i&&`input-with-icon input-icon-${l}`,r].filter(Boolean).join(" "),j=i&&t.jsx("span",{className:`input-icon-wrapper input-icon-${l}`,children:i});return t.jsxs("div",{className:"input-field",children:[e&&t.jsxs("label",{className:"input-label",children:[e,a&&t.jsx("span",{className:"input-required",children:"*"})]}),t.jsxs("div",{className:"input-wrapper",children:[l==="left"&&j,t.jsx("input",{className:x,maxLength:o,...h}),l==="right"&&j,c&&o&&t.jsxs("span",{className:"input-counter",children:[f," / ",o]})]}),n&&t.jsx("span",{className:"input-error-text",children:n}),s&&!n&&t.jsx("span",{className:"input-helper",children:s})]})}function ci({label:e,error:n,helperText:s,required:a,className:i="",maxLength:l,showCounter:r=!1,...o}){var f;const c=!!n,h=((f=o.value)==null?void 0:f.toString().length)||0,v=["textarea-shared",c&&"textarea-error",i].filter(Boolean).join(" ");return t.jsxs("div",{className:"input-field",children:[e&&t.jsxs("label",{className:"input-label",children:[e,a&&t.jsx("span",{className:"input-required",children:"*"})]}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("textarea",{className:v,maxLength:l,...o}),r&&l&&t.jsxs("span",{className:"input-counter",children:[h," / ",l]})]}),n&&t.jsx("span",{className:"input-error-text",children:n}),s&&!n&&t.jsx("span",{className:"input-helper",children:s})]})}function qi({label:e,error:n,helperText:s,required:a,options:i=[],className:l="",...r}){const c=["select-shared",!!n&&"select-error",l].filter(Boolean).join(" ");return t.jsxs("div",{className:"input-field",children:[e&&t.jsxs("label",{className:"input-label",children:[e,a&&t.jsx("span",{className:"input-required",children:"*"})]}),t.jsx("div",{className:"input-wrapper",children:t.jsx("select",{className:c,...r,children:i&&i.length>0?i.map(h=>t.jsx("option",{value:h.value,children:h.label},h.value)):r.children})}),n&&t.jsx("span",{className:"input-error-text",children:n}),s&&!n&&t.jsx("span",{className:"input-helper",children:s})]})}function Ca({isOpen:e,onClose:n,title:s,children:a,footer:i,size:l="medium",className:r="",closeOnOverlayClick:o=!0,showCloseButton:c=!0,...h}){if(u.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),u.useEffect(()=>{const f=x=>{x.key==="Escape"&&e&&n()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,n]),!e)return null;const v=`modal-${l}`;return t.jsx("div",{className:"modal-overlay-shared",onClick:o?n:void 0,children:t.jsxs("div",{className:`modal-shared ${v} ${r}`,onClick:f=>f.stopPropagation(),...h,children:[(s||c)&&t.jsxs("div",{className:"modal-header",children:[s&&t.jsx("h3",{className:"modal-title",children:s}),c&&t.jsx("button",{className:"modal-close",onClick:n,"aria-label":"Close modal",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"modal-body",children:a}),i&&t.jsx("div",{className:"modal-footer",children:i})]})})}function Nr({isOpen:e,onClose:n,onConfirm:s,title:a="Xc nhn",message:i,confirmText:l="Xc nhn",cancelText:r="Hy",variant:o="primary",...c}){return t.jsxs(Ca,{isOpen:e,onClose:n,title:a,size:"small",...c,children:[t.jsx("p",{className:"modal-message",children:i}),t.jsxs("div",{className:"modal-footer",children:[t.jsx(me,{variant:"ghost",onClick:n,children:r}),t.jsx(me,{variant:o,onClick:s,children:l})]})]})}const Th=[{value:"full_time",label:"Ton thi gian"},{value:"part_time",label:"Bn thi gian"},{value:"contract",label:"Hp ng"}],Eh=[{value:"education",label:"Hc vn"},{value:"experience",label:"Kinh nghim"},{value:"skill",label:"K nng"},{value:"certification",label:"Chng ch"},{value:"language",label:"Ngoi ng"},{value:"other",label:"Khc"}],Lh=[{value:"salary",label:"Lng thng"},{value:"insurance",label:"Bo him"},{value:"bonus",label:"Thng"},{value:"training",label:"o to"},{value:"vacation",label:"Ngh php"},{value:"equipment",label:"Trang thit b"},{value:"other",label:"Khc"}],h0=[{value:"morning",label:"Ca sng"},{value:"afternoon",label:"Ca chiu"},{value:"night",label:"Ca m"},{value:"flexible",label:"Linh hot"}];function m0(){var _t;console.log("PostJob component rendered");const e=He(),[n,s]=u.useState(null),[a,i]=u.useState(!0),[l,r]=u.useState(!1),[o,c]=u.useState(null),[h,v]=u.useState({}),[f,x]=u.useState("basic"),[j,_]=u.useState(!1),[b,g]=u.useState(null),[m,d]=u.useState([]),[p,y]=u.useState([]),[S,w]=u.useState(""),[k,C]=u.useState(!1),[T,L]=u.useState([]),[O,se]=u.useState([]),[$,z]=u.useState(null),[re,Y]=u.useState(""),[H,R]=u.useState(!1),[X,A]=u.useState([]),[ie,te]=u.useState([]),[pe,G]=u.useState([]),[q,ee]=u.useState(""),[be,Me]=u.useState(!1),[Je,Re]=u.useState(!1),[Be,oe]=u.useState([]),[E,J]=u.useState([]),[Q,ue]=u.useState(null),[Te,we]=u.useState(""),[Pe,ae]=u.useState(!1),[Ee,Ie]=u.useState([]),[it,Ke]=u.useState([]),[Ye,F]=u.useState(null),[he,ye]=u.useState(""),[ke,Qe]=u.useState(!1),[le,De]=u.useState(!1),[ct,Ze]=u.useState(!1),[U,et]=u.useState({title:"",description:"",company_id:"",location_id:"",salary_min:"",salary_max:"",currency:"VND",job_type:"full_time",experience_level:"",expires_at:"",requirements:[],benefits:[],skill_ids:[],tag_ids:[],work_arrangements:{is_remote_allowed:!1,remote_percentage:0,flexible_hours:!1,travel_requirement:"",overtime_expected:!1,shift_type:""}}),tl=[{title:"Thng tin c bn",description:"Tiu , m t, cng ty"},{title:"Yu cu",description:"Yu cu cng vic"},{title:"Phc li",description:"Phc li v i ng"},{title:"K nng",description:"K nng v tags"},{title:"iu kin",description:"iu kin lm vic"}],zn=()=>["basic","requirements","benefits","skills","work"].indexOf(f);u.useEffect(()=>{const D="postJob_draft",M=localStorage.getItem(D);if(M)try{const K=JSON.parse(M);K.form&&(K.form.title||K.form.description)&&(confirm("Bn c bn nhp cha lu. Bn c mun tip tc?")?(et(K.form),g(new Date(K.timestamp))):localStorage.removeItem(D))}catch(K){console.error("Failed to load draft:",K)}},[]),u.useEffect(()=>{const D="postJob_draft",M=setInterval(()=>{(U.title||U.description)&&(localStorage.setItem(D,JSON.stringify({form:U,timestamp:new Date().toISOString()})),g(new Date))},3e4);return()=>clearInterval(M)},[U]),u.useEffect(()=>(console.log("PostJob component mounted"),()=>{console.log("PostJob component unmounted")}),[]),u.useEffect(()=>{let D=!0,M=null,K=!1;const Le=async()=>{try{console.log("Fetching company data...");const _e=await gt.getMyCompany();if(console.log("Company data received:",_e),K=!0,M&&(clearTimeout(M),M=null),!D)return;console.log("Company verification status:",_e==null?void 0:_e.is_verified),s(_e),et(xt=>({...xt,company_id:(_e==null?void 0:_e.id)||""})),i(!1),c(null)}catch(_e){if(console.error("Failed to fetch company:",_e),K=!0,M&&(clearTimeout(M),M=null),!D)return;i(!1),(_e==null?void 0:_e.status)===404?c("Bn cha c cng ty. Vui lng to cng ty trc."):c((_e==null?void 0:_e.message)||"Khng th ti thng tin cng ty.")}};return M=setTimeout(()=>{D&&!K&&(console.warn("Company fetch timeout, setting loading to false"),i(!1),c("Khng th ti thng tin cng ty. Vui lng th li."))},1e4),Le(),()=>{D=!1,M&&clearTimeout(M)}},[]);const[an,In]=u.useState([]);u.useEffect(()=>{(async()=>{try{const K=(await yr.getCategories()).data||[];L(K),se(K)}catch(M){console.error("Failed to fetch skill categories:",M)}})()},[]),u.useEffect(()=>{if(!re.trim()){L(O);return}const D=O.filter(M=>M.toLowerCase().includes(re.toLowerCase()));L(D)},[re,O]),u.useEffect(()=>{if(!$){A([]),te([]),ee("");return}(async()=>{Re(!0);try{const Le=((await yr.search({category:$,limit:500})).data||[]).filter(_e=>_e.category===$);A(Le),te(Le),G([]),et(_e=>({..._e,skill_ids:[]})),ee("")}catch(M){console.error("Failed to fetch skills by category:",M),A([]),te([])}finally{Re(!1)}})()},[$]),u.useEffect(()=>{if(!$)return;if(!q.trim()){A(ie);return}const D=ie.filter(M=>M.name.toLowerCase().includes(q.toLowerCase()));A(D)},[q,ie,$]),u.useEffect(()=>{(async()=>{try{const K=(await bh.list({limit:50})).data||[];In(K),d(K)}catch(M){console.error("Failed to fetch tags:",M)}})()},[]),u.useEffect(()=>{if(!S.trim()){d(an);return}const D=setTimeout(async()=>{try{const M=await bh.list({search:S,limit:20});d(M.data||[])}catch(M){console.error("Failed to search tags:",M)}},300);return()=>clearTimeout(D)},[S,an]),u.useEffect(()=>{(async()=>{try{const K=(await Ln.getProvinces()).data||[];oe(K),J(K)}catch(M){console.error("Failed to fetch provinces:",M)}})()},[]),u.useEffect(()=>{if(!Te.trim()){oe(E);return}const D=E.filter(M=>M.name.toLowerCase().includes(Te.toLowerCase()));oe(D)},[Te,E]),u.useEffect(()=>{if(!he.trim()){Ie(it);return}const D=it.filter(M=>M.name.toLowerCase().includes(he.toLowerCase()));Ie(D)},[he,it]),u.useEffect(()=>{if(!Q){Ie([]),Ke([]),ye(""),ct||F(null);return}(async()=>{De(!0);try{const K=(await Ln.getDistricts(Q.id)).data||[];Ie(K),Ke(K),ct||(F(null),ye(""),et(Le=>({...Le,location_id:""})))}catch(M){console.error("Failed to fetch districts:",M),Ie([]),Ke([])}finally{De(!1)}})()},[Q,ct]),u.useEffect(()=>{(async()=>{if(!(!U.location_id||U.location_id.trim()==="")&&!(Q&&Ye&&Ye.id===U.location_id)){Ze(!0);try{const K=(await Ln.getById(U.location_id)).data;if(!K){Ze(!1);return}if(K.parent_id){const _e=(await Ln.getById(K.parent_id)).data;_e?(ue(_e),we(_e.name),setTimeout(async()=>{try{const Oe=(await Ln.getDistricts(_e.id)).data||[];Ie(Oe),Ke(Oe);const Xe=Oe.find(ut=>ut.id===U.location_id);Xe&&(F(Xe),ye(Xe.name))}finally{Ze(!1)}},300)):Ze(!1)}else ue(K),we(K.name),Ze(!1)}catch(M){console.error("Failed to load location hierarchy:",M),Ze(!1)}}})()},[U.location_id]);const nt=D=>{const{name:M,value:K,type:Le,checked:_e}=D.target;if(M.startsWith("work_arrangements.")){const xt=M.replace("work_arrangements.","");et(Oe=>({...Oe,work_arrangements:{...Oe.work_arrangements,[xt]:Le==="checkbox"?_e:K}}))}else et(xt=>({...xt,[M]:Le==="checkbox"?_e:K}));h[M]&&v(xt=>{const Oe={...xt};return delete Oe[M],Oe})},gn=D=>{ue(D),we(D.name),ae(!1)},hs=D=>{F(D),ye(D.name),Qe(!1),et(M=>({...M,location_id:D.id}))},xn=()=>{ue(null),we(""),Ie([]),Ke([]),F(null),ye(""),et(D=>({...D,location_id:""}))},Ja=()=>{F(null),ye(""),et(D=>({...D,location_id:""}))},Yn=()=>{et(D=>({...D,requirements:[...D.requirements,{requirement_type:"",title:"",description:"",is_required:!0,level:"",years_experience:""}]}))},$n=D=>{et(M=>({...M,requirements:M.requirements.filter((K,Le)=>Le!==D)}))},Xt=(D,M,K)=>{et(Le=>{const _e=[...Le.requirements];return _e[D]={..._e[D],[M]:K},{...Le,requirements:_e}})},Us=()=>{et(D=>({...D,benefits:[...D.benefits,{benefit_type:"",title:"",description:"",value_amount:"",value_currency:"VND"}]}))},Fn=D=>{et(M=>({...M,benefits:M.benefits.filter((K,Le)=>Le!==D)}))},P=(D,M,K)=>{et(Le=>{const _e=[...Le.benefits];return _e[D]={..._e[D],[M]:K},{...Le,benefits:_e}})},V=D=>{z(D),Y(D),R(!1)},B=()=>{z(null),Y(""),A([]),te([]),G([]),et(D=>({...D,skill_ids:[]})),ee("")},ne=D=>{U.skill_ids.includes(D.id)||(et(M=>({...M,skill_ids:[...M.skill_ids,D.id]})),G(M=>[...M,D])),ee(""),Me(!1)},de=D=>{et(M=>({...M,skill_ids:M.skill_ids.filter(K=>K!==D)})),G(M=>M.filter(K=>K.id!==D))},Ne=D=>{U.tag_ids.includes(D.id)||(et(M=>({...M,tag_ids:[...M.tag_ids,D.id]})),y(M=>[...M,D])),w(""),C(!1)},Ce=D=>{et(M=>({...M,tag_ids:M.tag_ids.filter(K=>K!==D)})),y(M=>M.filter(K=>K.id!==D))},ge=()=>{const D={};if((!U.title||U.title.trim().length<10)&&(D.title="Tiu  phi c t nht 10 k t"),(!U.description||U.description.trim().length<50)&&(D.description="M t phi c t nht 50 k t"),U.company_id||(D.company_id="Vui lng chn cng ty"),U.location_id&&U.location_id.trim()!==""&&(Q||(D.province="Vui lng chn tnh/thnh ph"),Ye||(D.district="Vui lng chn qun/huyn/x")),U.salary_min&&U.salary_max){const M=parseInt(U.salary_min,10),K=parseInt(U.salary_max,10);!isNaN(M)&&!isNaN(K)&&M>K&&(D.salary="Lng ti a phi ln hn hoc bng lng ti thiu")}if(U.requirements.forEach((M,K)=>{var Le,_e;(Le=M.title)!=null&&Le.trim()&&!M.requirement_type&&(D[`requirements.${K}.requirement_type`]="Vui lng chn loi yu cu"),M.requirement_type&&!((_e=M.title)!=null&&_e.trim())&&(D[`requirements.${K}.title`]="Tiu  yu cu khng c  trng")}),U.benefits.forEach((M,K)=>{var Le,_e;(Le=M.title)!=null&&Le.trim()&&!M.benefit_type&&(D[`benefits.${K}.benefit_type`]="Vui lng chn loi phc li"),M.benefit_type&&!((_e=M.title)!=null&&_e.trim())&&(D[`benefits.${K}.title`]="Tiu  phc li khng c  trng")}),U.work_arrangements.is_remote_allowed){const M=parseInt(U.work_arrangements.remote_percentage,10);(isNaN(M)||M<0||M>100)&&(D.remote_percentage="Phn trm lm vic t xa phi t 0-100")}return D},ve=async D=>{var K,Le,_e,xt;D.preventDefault(),c(null),v({});const M=ge();if(Object.keys(M).length>0){v(M),c("Vui lng kim tra li cc trng  nhp.");return}r(!0);try{const Oe={title:U.title.trim(),description:U.description.trim(),company_id:U.company_id,location_id:U.location_id||null,salary_range:U.salary_min&&U.salary_max?{min:parseInt(U.salary_min,10),max:parseInt(U.salary_max,10),currency:U.currency||"VND"}:void 0,job_type:U.job_type,experience_level:U.experience_level?parseInt(U.experience_level,10):null,expires_at:U.expires_at?new Date(U.expires_at).toISOString():void 0,requirements:U.requirements.filter(ze=>{var tt;return((tt=ze.title)==null?void 0:tt.trim())&&ze.requirement_type}).length>0?U.requirements.filter(ze=>{var tt;return((tt=ze.title)==null?void 0:tt.trim())&&ze.requirement_type}).map(ze=>{var tt,ln;return{requirement_type:ze.requirement_type,title:ze.title.trim(),description:((tt=ze.description)==null?void 0:tt.trim())||void 0,is_required:ze.is_required!==!1,level:((ln=ze.level)==null?void 0:ln.trim())||void 0,years_experience:ze.years_experience?parseInt(ze.years_experience,10):void 0}}):void 0,benefits:U.benefits.filter(ze=>{var tt;return((tt=ze.title)==null?void 0:tt.trim())&&ze.benefit_type}).length>0?U.benefits.filter(ze=>{var tt;return((tt=ze.title)==null?void 0:tt.trim())&&ze.benefit_type}).map(ze=>{var tt,ln;return{benefit_type:ze.benefit_type,title:ze.title.trim(),description:((tt=ze.description)==null?void 0:tt.trim())||void 0,value_amount:((ln=ze.value_amount)==null?void 0:ln.trim())||void 0,value_currency:ze.value_currency||"VND"}}):void 0,skill_ids:U.skill_ids.length>0?U.skill_ids:void 0,tag_ids:U.tag_ids.length>0?U.tag_ids:void 0,work_arrangements:U.work_arrangements.is_remote_allowed||U.work_arrangements.flexible_hours||(K=U.work_arrangements.travel_requirement)!=null&&K.trim()||U.work_arrangements.overtime_expected||U.work_arrangements.shift_type?{is_remote_allowed:U.work_arrangements.is_remote_allowed||!1,remote_percentage:U.work_arrangements.is_remote_allowed&&parseInt(U.work_arrangements.remote_percentage,10)||0,flexible_hours:U.work_arrangements.flexible_hours||!1,travel_requirement:((Le=U.work_arrangements.travel_requirement)==null?void 0:Le.trim())||void 0,overtime_expected:U.work_arrangements.overtime_expected||!1,shift_type:U.work_arrangements.shift_type||void 0}:void 0},Xe=await Tt.create(Oe);localStorage.removeItem("postJob_draft"),g(null),alert(" to tin tuyn dng thnh cng! Tin s c duyt trc khi hin th.");const ut=(_e=Xe==null?void 0:Xe.data)==null?void 0:_e.id;e(ut?`/recruiter/jobs/${ut}/manage`:"/recruiter/jobs")}catch(Oe){if(console.error("Failed to create job:",Oe),(xt=Oe==null?void 0:Oe.data)!=null&&xt.errors){const Xe={};Oe.data.errors.forEach(ut=>{Xe[ut.path]=ut.message}),v(Xe)}c((Oe==null?void 0:Oe.message)||"Khng th to tin tuyn dng. Vui lng th li."),(Oe==null?void 0:Oe.status)===401&&e("/login?role=recruiter&redirect="+encodeURIComponent(window.location.pathname))}finally{r(!1)}},fe=()=>{confirm("Bn c chc chn mun xa tt c d liu  nhp?")&&(et({title:"",description:"",company_id:(n==null?void 0:n.id)||"",location_id:"",salary_min:"",salary_max:"",currency:"VND",job_type:"full_time",experience_level:"",expires_at:"",requirements:[],benefits:[],skill_ids:[],tag_ids:[],work_arrangements:{is_remote_allowed:!1,remote_percentage:0,flexible_hours:!1,travel_requirement:"",overtime_expected:!1,shift_type:""}}),G([]),y([]),z(null),Y(""),A([]),te([]),ee(""),ue(null),we(""),F(null),ye(""),Ie([]),Ke([]),w(""),c(null),v({}),localStorage.removeItem("postJob_draft"),g(null))},je=()=>{localStorage.setItem("postJob_draft",JSON.stringify({form:U,timestamp:new Date().toISOString()})),g(new Date),alert(" lu bn nhp thnh cng!")};if(a)return t.jsx("div",{className:"section",children:t.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center"},children:[t.jsx("p",{children:"ang ti thng tin cng ty..."}),t.jsx("small",{className:"muted",style:{display:"block",marginTop:"8px"},children:"Nu mt qu nhiu thi gian, vui lng kim tra kt ni mng hoc th li."})]})});if(o&&!n)return t.jsx("div",{className:"section",children:t.jsxs("div",{className:"card",style:{padding:"20px",background:"#fee",border:"1px solid #fcc"},children:[t.jsx("p",{style:{color:"#c00",margin:0},children:o}),t.jsx("button",{className:"btn primary",onClick:()=>e("/onboarding/company"),style:{marginTop:"12px"},children:"To cng ty"})]})});const $e=(()=>{let D=0,M=0;return M+=3,U.title&&U.title.length>=10&&D++,U.description&&U.description.length>=50&&D++,U.company_id&&D++,U.requirements.length>0&&(M++,U.requirements.filter(Le=>{var _e;return((_e=Le.title)==null?void 0:_e.trim())&&Le.requirement_type}).length>0&&D++),U.benefits.length>0&&(M++,U.benefits.filter(Le=>{var _e;return((_e=Le.title)==null?void 0:_e.trim())&&Le.benefit_type}).length>0&&D++),M++,U.skill_ids.length>0&&D++,M>0?Math.round(D/M*100):0})();return t.jsxs("div",{className:"section post-job-page",children:[t.jsxs("div",{className:"post-job-header",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"ng tin tuyn dng"}),b&&t.jsxs("p",{className:"last-saved-text",children:[" lu ln cui: ",b.toLocaleTimeString("vi-VN")]})]}),t.jsxs("div",{className:"post-job-actions",children:[t.jsx(me,{variant:"ghost",onClick:je,size:"small",children:" Lu nhp"}),t.jsx(me,{variant:"outline",onClick:()=>_(!0),size:"small",children:" Xem trc"})]})]}),t.jsxs(Ge,{className:"progress-card",padding:"medium",children:[t.jsxs("div",{className:"progress-info",children:[t.jsx("span",{className:"progress-label",children:"Tin  hon thnh"}),t.jsxs("span",{className:"progress-percentage",children:[$e,"%"]})]}),t.jsx("div",{className:"progress-bar-wrapper",children:t.jsx("div",{className:"progress-bar-fill",style:{width:`${$e}%`}})})]}),t.jsx(Ge,{className:"stepper-card",padding:"medium",children:t.jsx(d0,{steps:tl,currentStep:zn()})}),o&&t.jsx(Ge,{className:"error-card",padding:"medium",children:t.jsxs("p",{style:{color:"#dc2626",margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:""}),o]})}),t.jsxs("div",{className:"post-job-tabs",children:[t.jsxs("button",{type:"button",className:f==="basic"?"active":"",onClick:()=>x("basic"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Thng tin c bn"]}),t.jsxs("button",{type:"button",className:f==="requirements"?"active":"",onClick:()=>x("requirements"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Yu cu cng vic"]}),t.jsxs("button",{type:"button",className:f==="benefits"?"active":"",onClick:()=>x("benefits"),children:[t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"Phc li"]}),t.jsxs("button",{type:"button",className:f==="skills"?"active":"",onClick:()=>x("skills"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"K nng & Tags"]}),t.jsxs("button",{type:"button",className:f==="work"?"active":"",onClick:()=>x("work"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"iu kin lm vic"]})]}),t.jsxs("form",{className:"card",onSubmit:ve,children:[f==="basic"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tiu  *"}),t.jsx("input",{name:"title",value:U.title,onChange:nt,placeholder:"VD: Frontend Engineer",required:!0,minLength:10,maxLength:255,className:h.title?"error":""}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"},children:[h.title?t.jsx("small",{className:"error-text",children:h.title}):t.jsx("small",{className:"muted",children:"Ti thiu 10 k t, ti a 255 k t"}),t.jsxs("small",{className:"muted",style:{marginLeft:"auto"},children:[U.title.length,"/255"]})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"M t *"}),t.jsx("textarea",{name:"description",value:U.description,onChange:nt,placeholder:"M t chi tit v v tr cng vic, yu cu, trch nhim...",rows:8,required:!0,minLength:50,className:h.description?"error":""}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"},children:[h.description?t.jsx("small",{className:"error-text",children:h.description}):t.jsx("small",{className:"muted",children:"Ti thiu 50 k t"}),t.jsxs("small",{className:"muted",style:{marginLeft:"auto"},children:[U.description.length," k t"]})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Cng ty *"}),t.jsx("input",{type:"text",value:(n==null?void 0:n.name)||"Cha c cng ty",disabled:!0}),t.jsx("small",{className:"muted",children:"Cng ty ca bn"})]}),t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tnh/Thnh ph *"}),Q?t.jsxs("div",{className:"selected-item",children:[t.jsx("span",{children:Q.name}),t.jsx("button",{type:"button",onClick:xn,children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:Te,onChange:D=>{we(D.target.value),ae(!0)},onFocus:()=>{ae(!0),!Te.trim()&&E.length>0&&oe(E)},onBlur:D=>{setTimeout(()=>{const M=document.activeElement;(!M||!M.closest(".autocomplete-dropdown"))&&ae(!1)},150)},placeholder:"Tm kim tnh/thnh ph...",className:h.province?"error":""}),Pe&&Be.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:Be.map(D=>t.jsx("div",{className:"autocomplete-item",onMouseDown:M=>{M.preventDefault(),M.stopPropagation(),gn(D)},children:D.name},D.id))}),Pe&&Be.length===0&&Te.trim()&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:t.jsx("div",{className:"autocomplete-item",style:{color:"#999",fontStyle:"italic"},children:"Khng tm thy tnh/thnh ph no"})})]}),h.province&&t.jsx("small",{className:"error-text",children:h.province}),!Q&&!h.province&&t.jsx("small",{className:"muted",children:"Vui lng chn tnh/thnh ph trc"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Qun/Huyn/X *"}),Ye?t.jsxs("div",{className:"selected-item",children:[t.jsx("span",{children:Ye.name}),t.jsx("button",{type:"button",onClick:Ja,children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:he,onChange:D=>{ye(D.target.value),Qe(!0)},onFocus:()=>{Q&&(Qe(!0),!he.trim()&&it.length>0&&Ie(it))},onBlur:D=>{setTimeout(()=>{const M=document.activeElement;(!M||!M.closest(".autocomplete-dropdown"))&&Qe(!1)},150)},placeholder:le?"ang ti danh sch qun/huyn/x...":Q?"Tm kim qun/huyn/x...":"Vui lng chn tnh/thnh ph trc",disabled:!Q||le,className:h.district?"error":""}),ke&&Q&&!le&&Ee.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:Ee.map(D=>t.jsx("div",{className:"autocomplete-item",onMouseDown:M=>{M.preventDefault(),M.stopPropagation(),hs(D)},children:D.name},D.id))}),ke&&Q&&!le&&Ee.length===0&&he.trim()&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:t.jsx("div",{className:"autocomplete-item",style:{color:"#999",fontStyle:"italic"},children:"Khng tm thy qun/huyn/x no"})})]}),h.district&&t.jsx("small",{className:"error-text",children:h.district}),Q&&Ee.length===0&&!le&&!he.trim()&&t.jsx("small",{className:"muted",children:"Khng c qun/huyn/x no cho tnh ny"}),Q&&Ee.length>0&&!Ye&&!h.district&&t.jsx("small",{className:"muted",children:"Vui lng chn qun/huyn/x"})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Loi vic *"}),t.jsx("select",{name:"job_type",value:U.job_type,onChange:nt,required:!0,children:Th.map(D=>t.jsx("option",{value:D.value,children:D.label},D.value))})]}),t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Lng ti thiu"}),t.jsx("input",{type:"number",name:"salary_min",value:U.salary_min,onChange:nt,min:"0",className:h.salary?"error":""})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Lng ti a"}),t.jsx("input",{type:"number",name:"salary_max",value:U.salary_max,onChange:nt,min:"0",className:h.salary?"error":""})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tin t"}),t.jsxs("select",{name:"currency",value:U.currency,onChange:nt,children:[t.jsx("option",{value:"VND",children:"VND"}),t.jsx("option",{value:"USD",children:"USD"}),t.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),h.salary&&t.jsx("small",{className:"error-text",children:h.salary}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Kinh nghim (nm)"}),t.jsx("input",{type:"number",name:"experience_level",value:U.experience_level,onChange:nt,min:"0",max:"30"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ht hn"}),t.jsx("input",{type:"datetime-local",name:"expires_at",value:U.expires_at,onChange:nt})]})]}),f==="requirements"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h3",{children:"Yu cu cng vic"}),t.jsx("button",{type:"button",className:"btn secondary",onClick:Yn,children:"+ Thm yu cu"})]}),U.requirements.length===0&&t.jsx("p",{className:"muted",children:'Cha c yu cu no. Nhn "Thm yu cu"  bt u.'}),U.requirements.map((D,M)=>t.jsxs("div",{className:"dynamic-item",children:[t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Loi yu cu"}),t.jsxs("select",{value:D.requirement_type||"",onChange:K=>Xt(M,"requirement_type",K.target.value),className:h[`requirements.${M}.requirement_type`]?"error":"",children:[t.jsx("option",{value:"",children:"Chn loi..."}),Eh.map(K=>t.jsx("option",{value:K.value,children:K.label},K.value))]}),h[`requirements.${M}.requirement_type`]&&t.jsx("small",{className:"error-text",children:h[`requirements.${M}.requirement_type`]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tiu  *"}),t.jsx("input",{type:"text",value:D.title||"",onChange:K=>Xt(M,"title",K.target.value),placeholder:"VD: Tt nghip i hc",className:h[`requirements.${M}.title`]?"error":""}),h[`requirements.${M}.title`]&&t.jsx("small",{className:"error-text",children:h[`requirements.${M}.title`]})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"M t"}),t.jsx("textarea",{value:D.description||"",onChange:K=>Xt(M,"description",K.target.value),rows:3,placeholder:"M t chi tit..."})]}),t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mc "}),t.jsx("input",{type:"text",value:D.level||"",onChange:K=>Xt(M,"level",K.target.value),placeholder:"VD: Trung bnh",maxLength:50})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"S nm kinh nghim"}),t.jsx("input",{type:"number",value:D.years_experience||"",onChange:K=>Xt(M,"years_experience",K.target.value),min:"0"})]}),t.jsxs("label",{className:"field checkbox-field",children:[t.jsx("input",{type:"checkbox",checked:D.is_required!==!1,onChange:K=>Xt(M,"is_required",K.target.checked)}),t.jsx("span",{children:"Bt buc"})]})]}),t.jsx("button",{type:"button",className:"btn-remove",onClick:()=>$n(M),children:"Xa"})]},M))]}),f==="benefits"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h3",{children:"Phc li"}),t.jsx("button",{type:"button",className:"btn secondary",onClick:Us,children:"+ Thm phc li"})]}),U.benefits.length===0&&t.jsx("p",{className:"muted",children:'Cha c phc li no. Nhn "Thm phc li"  bt u.'}),U.benefits.map((D,M)=>t.jsxs("div",{className:"dynamic-item",children:[t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Loi phc li"}),t.jsxs("select",{value:D.benefit_type||"",onChange:K=>P(M,"benefit_type",K.target.value),className:h[`benefits.${M}.benefit_type`]?"error":"",children:[t.jsx("option",{value:"",children:"Chn loi..."}),Lh.map(K=>t.jsx("option",{value:K.value,children:K.label},K.value))]}),h[`benefits.${M}.benefit_type`]&&t.jsx("small",{className:"error-text",children:h[`benefits.${M}.benefit_type`]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tiu  *"}),t.jsx("input",{type:"text",value:D.title||"",onChange:K=>P(M,"title",K.target.value),placeholder:"VD: Bo him y t",className:h[`benefits.${M}.title`]?"error":""}),h[`benefits.${M}.title`]&&t.jsx("small",{className:"error-text",children:h[`benefits.${M}.title`]})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"M t"}),t.jsx("textarea",{value:D.description||"",onChange:K=>P(M,"description",K.target.value),rows:3,placeholder:"M t chi tit..."})]}),t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Gi tr"}),t.jsx("input",{type:"text",value:D.value_amount||"",onChange:K=>P(M,"value_amount",K.target.value),placeholder:"VD: 1000000"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tin t"}),t.jsxs("select",{value:D.value_currency||"VND",onChange:K=>P(M,"value_currency",K.target.value),children:[t.jsx("option",{value:"VND",children:"VND"}),t.jsx("option",{value:"USD",children:"USD"}),t.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),t.jsx("button",{type:"button",className:"btn-remove",onClick:()=>Fn(M),children:"Xa"})]},M))]}),f==="skills"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"field-group",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Danh mc k nng *"}),$?t.jsxs("div",{className:"selected-item",children:[t.jsx("span",{children:$}),t.jsx("button",{type:"button",onClick:B,children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:re,onChange:D=>{Y(D.target.value),R(!0)},onFocus:()=>{R(!0),!re.trim()&&O.length>0&&L(O)},onBlur:D=>{setTimeout(()=>{const M=document.activeElement;(!M||!M.closest(".autocomplete-dropdown"))&&R(!1)},150)},placeholder:"Tm kim hoc chn danh mc..."}),H&&T.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:T.map((D,M)=>t.jsx("div",{className:"autocomplete-item",onMouseDown:K=>{K.preventDefault(),K.stopPropagation(),V(D)},children:D},M))}),H&&T.length===0&&re.trim()&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:t.jsx("div",{className:"autocomplete-item",style:{color:"#999",fontStyle:"italic"},children:"Khng tm thy danh mc no"})})]}),!$&&t.jsx("small",{className:"muted",children:"Vui lng chn danh mc trc"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"K nng"}),t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:q,onChange:D=>{ee(D.target.value),Me(!0)},onFocus:()=>{$&&(Me(!0),!q.trim()&&ie.length>0&&A(ie))},onBlur:D=>{setTimeout(()=>{const M=document.activeElement;(!M||!M.closest(".autocomplete-dropdown"))&&Me(!1)},150)},placeholder:Je?"ang ti danh sch k nng...":$?"Tm kim k nng...":"Vui lng chn danh mc trc",disabled:!$||Je}),be&&$&&!Je&&X.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:X.filter(D=>!U.skill_ids.includes(D.id)).map(D=>t.jsxs("div",{className:"autocomplete-item",onMouseDown:M=>{M.preventDefault(),M.stopPropagation(),ne(D)},children:[D.name,D.category&&t.jsxs("span",{className:"muted",children:[" (",D.category,")"]})]},D.id))}),be&&$&&!Je&&X.length===0&&q.trim()&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:t.jsx("div",{className:"autocomplete-item",style:{color:"#999",fontStyle:"italic"},children:"Khng tm thy k nng no"})})]}),$&&X.length===0&&!Je&&!q.trim()&&t.jsx("small",{className:"muted",children:"Khng c k nng no trong danh mc ny"}),U.skill_ids.length>0&&t.jsx("div",{className:"selected-items",children:pe.map(D=>t.jsxs("span",{className:"selected-chip",children:[D.name,D.category&&t.jsxs("span",{className:"muted",children:[" (",D.category,")"]}),t.jsx("button",{type:"button",onClick:()=>de(D.id),children:""})]},D.id))})]})]}),t.jsx("div",{className:"field-group",children:t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tags"}),t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:S,onChange:D=>{w(D.target.value),C(!0)},onFocus:()=>{C(!0),!S.trim()&&an.length>0&&d(an)},onBlur:D=>{setTimeout(()=>{const M=document.activeElement;(!M||!M.closest(".autocomplete-dropdown"))&&C(!1)},150)},placeholder:"Tm kim tags..."}),k&&m.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:D=>D.preventDefault(),children:m.filter(D=>!U.tag_ids.includes(D.id)).map(D=>t.jsx("div",{className:"autocomplete-item",onMouseDown:M=>{M.preventDefault(),M.stopPropagation(),Ne(D)},children:D.name},D.id))})]}),U.tag_ids.length>0&&t.jsx("div",{className:"selected-items",children:p.map(D=>t.jsxs("span",{className:"selected-chip",children:[D.name,t.jsx("button",{type:"button",onClick:()=>Ce(D.id),children:""})]},D.id))})]})})]}),f==="work"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("label",{className:"field checkbox-field",children:[t.jsx("input",{type:"checkbox",name:"work_arrangements.is_remote_allowed",checked:U.work_arrangements.is_remote_allowed,onChange:nt}),t.jsx("span",{children:"Cho php lm vic t xa"})]}),U.work_arrangements.is_remote_allowed&&t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Phn trm lm vic t xa (%)"}),t.jsx("input",{type:"number",name:"work_arrangements.remote_percentage",value:U.work_arrangements.remote_percentage,onChange:nt,min:"0",max:"100",className:h.remote_percentage?"error":""}),h.remote_percentage&&t.jsx("small",{className:"error-text",children:h.remote_percentage}),t.jsx("small",{className:"muted",children:"0-100%"})]}),t.jsxs("label",{className:"field checkbox-field",children:[t.jsx("input",{type:"checkbox",name:"work_arrangements.flexible_hours",checked:U.work_arrangements.flexible_hours,onChange:nt}),t.jsx("span",{children:"Gi lm vic linh hot"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Yu cu i cng tc"}),t.jsx("input",{type:"text",name:"work_arrangements.travel_requirement",value:U.work_arrangements.travel_requirement,onChange:nt,placeholder:"VD: Thnh thong i cng tc",maxLength:50})]}),t.jsxs("label",{className:"field checkbox-field",children:[t.jsx("input",{type:"checkbox",name:"work_arrangements.overtime_expected",checked:U.work_arrangements.overtime_expected,onChange:nt}),t.jsx("span",{children:"C th lm thm gi"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Loi ca lm vic"}),t.jsxs("select",{name:"work_arrangements.shift_type",value:U.work_arrangements.shift_type,onChange:nt,children:[t.jsx("option",{value:"",children:"Chn loi ca..."}),h0.map(D=>t.jsx("option",{value:D.value,children:D.label},D.value))]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx(me,{variant:"ghost",onClick:fe,disabled:l,children:"Xa tt c"}),t.jsx(me,{variant:"outline",onClick:je,disabled:l,children:"Lu nhp"}),t.jsx(me,{type:"submit",variant:"primary",disabled:l,loading:l,children:l?"ang to...":"ng tin"})]})]}),t.jsx(Ca,{isOpen:j,onClose:()=>_(!1),title:"Xem trc tin tuyn dng",size:"large",className:"job-preview-modal",children:t.jsxs("div",{className:"job-preview-content",children:[t.jsxs("div",{className:"job-preview-header",children:[t.jsx("h2",{className:"job-preview-title",children:U.title||"Cha c tiu "}),t.jsxs("div",{className:"job-preview-meta",children:[t.jsxs("span",{children:[" ",U.expires_at?new Date(U.expires_at).toLocaleDateString("vi-VN"):"Cha t"]}),t.jsxs("span",{children:[" ",((_t=Th.find(D=>D.value===U.job_type))==null?void 0:_t.label)||U.job_type]}),U.experience_level&&t.jsxs("span",{children:[" ",U.experience_level," nm kinh nghim"]})]})]}),t.jsxs("div",{className:"job-preview-section",children:[t.jsx("h3",{children:"M t cng vic"}),t.jsx("p",{children:U.description||"Cha c m t"})]}),t.jsxs("div",{className:"job-preview-section",children:[t.jsx("h3",{children:"Thng tin c bn"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#64748b",fontSize:"13px",display:"block",marginBottom:"4px"},children:"Cng ty:"}),t.jsx("span",{children:(n==null?void 0:n.name)||"Cha chn"})]}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#64748b",fontSize:"13px",display:"block",marginBottom:"4px"},children:"a im:"}),t.jsx("span",{children:Ye?`${Ye.name}, ${(Q==null?void 0:Q.name)||""}`:Q?Q.name:"Cha chn"})]}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#64748b",fontSize:"13px",display:"block",marginBottom:"4px"},children:"Kinh nghim:"}),t.jsx("span",{children:U.experience_level?`${U.experience_level} nm`:"Khng yu cu"})]}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#64748b",fontSize:"13px",display:"block",marginBottom:"4px"},children:"Mc lng:"}),t.jsx("span",{children:U.salary_min&&U.salary_max?`${parseInt(U.salary_min).toLocaleString()} - ${parseInt(U.salary_max).toLocaleString()} ${U.currency}`:"Tha thun"})]})]})]}),U.requirements.length>0&&t.jsxs("div",{className:"job-preview-section",children:[t.jsx("h3",{children:"Yu cu cng vic"}),t.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:U.requirements.filter(D=>{var M;return((M=D.title)==null?void 0:M.trim())&&D.requirement_type}).map((D,M)=>{var K;return t.jsxs("li",{style:{marginBottom:"12px",paddingLeft:"20px",position:"relative"},children:[t.jsx("span",{style:{position:"absolute",left:0,color:"#2563eb"},children:""}),t.jsxs("strong",{children:[(K=Eh.find(Le=>Le.value===D.requirement_type))==null?void 0:K.label,":"]})," ",D.title,D.description&&t.jsx("p",{style:{margin:"4px 0 0 0",color:"#64748b",fontSize:"14px"},children:D.description})]},M)})})]}),U.benefits.length>0&&t.jsxs("div",{className:"job-preview-section",children:[t.jsx("h3",{children:"Phc li"}),t.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:U.benefits.filter(D=>{var M;return((M=D.title)==null?void 0:M.trim())&&D.benefit_type}).map((D,M)=>{var K;return t.jsxs("li",{style:{marginBottom:"12px",paddingLeft:"20px",position:"relative"},children:[t.jsx("span",{style:{position:"absolute",left:0,color:"#22c55e"},children:""}),t.jsxs("strong",{children:[(K=Lh.find(Le=>Le.value===D.benefit_type))==null?void 0:K.label,":"]})," ",D.title,D.description&&t.jsx("p",{style:{margin:"4px 0 0 0",color:"#64748b",fontSize:"14px"},children:D.description})]},M)})})]}),U.skill_ids.length>0&&t.jsxs("div",{className:"job-preview-section",children:[t.jsx("h3",{children:"K nng yu cu"}),t.jsx("div",{className:"job-preview-tags",children:pe.map(D=>t.jsx($t,{variant:"primary",size:"small",children:D.name},D.id))})]}),U.work_arrangements.is_remote_allowed&&t.jsxs("div",{className:"job-preview-section",children:[t.jsx("h3",{children:"iu kin lm vic"}),t.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[t.jsxs("li",{style:{marginBottom:"8px",paddingLeft:"20px",position:"relative"},children:[t.jsx("span",{style:{position:"absolute",left:0,color:"#2563eb"},children:""}),"Lm vic t xa: ",U.work_arrangements.remote_percentage,"%"]}),U.work_arrangements.flexible_hours&&t.jsxs("li",{style:{marginBottom:"8px",paddingLeft:"20px",position:"relative"},children:[t.jsx("span",{style:{position:"absolute",left:0,color:"#2563eb"},children:""}),"Gi lm vic linh hot"]}),U.work_arrangements.travel_requirement&&t.jsxs("li",{style:{marginBottom:"8px",paddingLeft:"20px",position:"relative"},children:[t.jsx("span",{style:{position:"absolute",left:0,color:"#2563eb"},children:""}),"i cng tc: ",U.work_arrangements.travel_requirement]})]})]})]})})]})}function p0(){const[e,n]=u.useState("seeker"),[s,a]=u.useState({email:"",password:""}),[i,l]=u.useState(!1),[r]=qa(),o=He(),[c,h]=u.useState(!1),[v,f]=u.useState(""),x=g=>a(m=>({...m,[g.target.name]:g.target.value})),j=(g,m)=>{if(typeof g!="string")return m;const d=g.toLowerCase();return["recruiter","employer"].includes(d)?"employer":["candidate","seeker"].includes(d)?"seeker":m},_=async g=>{const m=r.get("redirect"),d=r.get("role");return m&&(!d||g==="employer"&&(d==="employer"||d==="recruiter")||g==="seeker"&&(d==="seeker"||d==="candidate"))?m:g==="employer"?"/recruiter/dashboard":"/"},b=async g=>{var m,d;g.preventDefault(),f(""),h(!0);try{const p=e==="employer"?"employer":"seeker",y=await wn.login({email:s.email.trim(),password:s.password}),S=((m=y==null?void 0:y.data)==null?void 0:m.access_token)||(y==null?void 0:y.access_token)||(y==null?void 0:y.token)||(y==null?void 0:y.jwt)||Qn();let w=null;if(S){const T=vr(S);w=T==null?void 0:T.role}if(!w){if(console.error("=== LOGIN DEBUG ==="),console.error("Response:",y),console.error("Access Token:",S?S.substring(0,50)+"...":"NOT FOUND"),console.error("Token from localStorage:",Qn()?Qn().substring(0,50)+"...":"NOT FOUND"),S){const T=vr(S);console.error("Decoded JWT:",T),console.error("Role in JWT:",T==null?void 0:T.role)}console.error("==================")}const k=j(w,p);if(!w){f(e==="seeker"?"Bn cha to ti khon Ngi tm vic. Vui lng ng nhp vi t cch Nh tuyn dng.":"Bn cha to ti khon Nh tuyn dng. Vui lng ng nhp vi t cch Ngi tm vic."),Jn(),h(!1);return}if(e==="seeker"&&k!=="seeker"){f("Ti khon Nh tuyn dng cha to ti khon Ngi tm vic. Vui lng ng nhp vi t cch Nh tuyn dng."),Jn(),h(!1);return}if(e==="employer"&&k!=="employer"){f("Ti khon ng vin cha to ti khon Nh tuyn dng. Vui lng ng nhp vi t cch Ngi tm vic."),Jn(),h(!1);return}Od(k);const C=await _(k);o(C,{replace:!0})}catch(p){f(((d=p==null?void 0:p.data)==null?void 0:d.message)||(p==null?void 0:p.message)||"ng nhp tht bi.")}finally{h(!1)}};return u.useEffect(()=>{const g=r.get("role");(g==="recruiter"||g==="employer")&&n("employer"),(g==="candidate"||g==="seeker")&&n("seeker")},[r]),u.useEffect(()=>{a({email:"",password:""})},[e]),t.jsx("section",{className:"section",style:{maxWidth:920,margin:"40px auto"},children:t.jsxs("div",{className:"card auth-card auth-grid",children:[t.jsxs("div",{className:"auth-side",children:[t.jsxs("div",{className:"brand",style:{marginBottom:12},children:[t.jsx("span",{className:"brand-badge",children:"JF"}),t.jsx("span",{children:"JobFinder"})]}),t.jsx("h2",{style:{margin:"0 0 6px"},children:"Cho mng tr li!"}),t.jsx("div",{className:"muted",children:"Tm vic nhanh hn hoc thu ht nhn ti tt hn."}),t.jsxs("ul",{className:"auth-points",children:[t.jsx("li",{children:"Hng ngn cng vic mi mi ngy"}),t.jsx("li",{children:"Theo di tin tuyn v gi CV ph hp"}),t.jsx("li",{children:"Dnh cho NTD v ngi tm vic"})]})]}),t.jsxs("div",{className:"auth-form",children:[t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab${e==="seeker"?" active":""}`,onClick:()=>n("seeker"),children:"Ngi tm vic"}),t.jsx("button",{className:`tab${e==="employer"?" active":""}`,onClick:()=>n("employer"),children:"Nh tuyn dng"})]}),t.jsxs("form",{onSubmit:b,className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Email"}),t.jsx("input",{name:"email",type:"email",value:s.email,onChange:x,placeholder:"you@example.com",autoComplete:"off",required:!0})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mt khu"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,width:"100%"},children:[t.jsx("input",{style:{flex:1},name:"password",type:i?"text":"password",value:s.password,onChange:x,placeholder:"********",autoComplete:"new-password",required:!0}),t.jsx("button",{type:"button",className:"btn",onClick:()=>l(g=>!g),children:i?"n":"Hin"})]})]}),v&&t.jsx("div",{className:"error-banner",children:v}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:t.jsx(We,{className:"muted",to:"/forgot-password",children:"Qun mt khu?"})}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",disabled:c,className:"btn primary large",children:c?"ang ng nhp...":"ng nhp"})}),t.jsx("div",{className:"muted",style:{textAlign:"center",marginTop:6},children:"hoc"}),t.jsx("div",{className:"social-login",children:t.jsxs("button",{type:"button",className:"social-btn google",onClick:async()=>{h(!0);const g=e==="employer"?"employer":"seeker";Yf(g);const m=await _(g);o(m,{replace:!0}),h(!1)},children:[t.jsx("span",{className:"g-logo",children:"G"})," Tip tc vi Google"]})}),t.jsxs("div",{style:{marginTop:10,textAlign:"center"},children:[t.jsx("span",{className:"muted",children:"Cha c ti khon? "}),t.jsx(We,{to:`/register?role=${e==="employer"?"recruiter":"candidate"}`,children:"ng k"})]})]})]})]})})}function On({children:e}){const n=fn(),s=Mn();if(console.log("RequireEmployer check:",{role:s,pathname:n.pathname}),s!=="employer"&&s!=="recruiter"){console.log("RequireEmployer: Redirecting to login, role is:",s);const a=encodeURIComponent(n.pathname+n.search);return t.jsx(Bd,{to:`/login?role=employer&redirect=${a}`,replace:!0})}return console.log("RequireEmployer: Allowing access"),e}function gs({children:e}){const n=fn();if(Mn()!=="seeker"){const a=encodeURIComponent(n.pathname+n.search);return t.jsx(Bd,{to:`/login?role=seeker&redirect=${a}`,replace:!0})}return e}function f0(){const{id:e}=Gn(),n=Vc.find(a=>a.id===e);if(!n)return t.jsxs("div",{className:"section",children:[t.jsx("h2",{children:"Khng tm thy cng vic"}),t.jsx(We,{to:"/jobs",className:"btn",children:"Quay li danh sch"})]});const s=a=>{a.preventDefault(),alert(" gi ng tuyn (demo). Chc bn may mn!")};return t.jsx("div",{className:"section",children:t.jsxs("div",{className:"card",children:[t.jsxs("h2",{style:{marginTop:0},children:["ng tuyn: ",n.title]}),t.jsxs("div",{className:"muted",children:[n.company,"  ",n.location]}),t.jsxs("form",{onSubmit:s,style:{display:"grid",gap:12,marginTop:16},children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"H v tn"}),t.jsx("input",{placeholder:"Nguyn Vn A",required:!0})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Email"}),t.jsx("input",{type:"email",placeholder:"you@example.com",required:!0})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ghi ch"}),t.jsx("input",{placeholder:"Tin nhn ti nh tuyn dng (tu chn)"})]}),t.jsxs("div",{style:{display:"flex",gap:10},children:[t.jsx(We,{to:`/jobs/${n.id}`,className:"btn",children:" Xem chi tit"}),t.jsx("button",{type:"submit",className:"btn primary",children:"Gi ng tuyn"})]})]})]})})}function g0({filters:e,onChange:n,onApply:s,onClear:a,sizeOptions:i,industryOptions:l,locationOptions:r,companyTypeOptions:o}){const[c,h]=u.useState(!1),v=(x,j)=>{n({[x]:j})},f=t.jsxs("div",{className:"filters-card",children:[t.jsxs("div",{className:"filters-header",children:[t.jsx("h3",{children:"Tm cng ty"}),t.jsx("p",{className:"filters-sub",children:"Lc nhanh danh sch nh tuyn dng"})]}),t.jsxs("div",{className:"filters-group",children:[t.jsx("label",{className:"filters-label",children:"T kha"}),t.jsx("input",{className:"filters-input",type:"text",placeholder:"Nhp tn, m t cng ty",value:e.search,onChange:x=>v("search",x.target.value)})]}),t.jsxs("div",{className:"filters-group",children:[t.jsx("label",{className:"filters-label",children:"Ngnh"}),t.jsx("select",{className:"filters-select",value:e.industry,onChange:x=>v("industry",x.target.value),children:l.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value||x.label))})]}),t.jsxs("div",{className:"filters-group",children:[t.jsx("label",{className:"filters-label",children:"a im"}),t.jsx("select",{className:"filters-select",value:e.location_id,onChange:x=>v("location_id",x.target.value),children:r.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value||x.label))})]}),t.jsxs("div",{className:"filters-group",children:[t.jsx("label",{className:"filters-label",children:"Loi hnh cng ty"}),t.jsx("select",{className:"filters-select",value:e.company_type,onChange:x=>v("company_type",x.target.value),children:o.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value||x.label))})]}),t.jsxs("div",{className:"filters-group",children:[t.jsx("label",{className:"filters-label",children:"Quy m"}),t.jsx("select",{className:"filters-select",value:e.size_range,onChange:x=>v("size_range",x.target.value),children:i.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value||x.label))})]}),t.jsx("div",{className:"filters-group filters-checkbox",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:e.has_open_jobs,onChange:x=>v("has_open_jobs",x.target.checked)}),t.jsx("span",{children:"Ch hin cng ty ang tuyn"})]})}),t.jsx("button",{className:"filters-reset",onClick:a,type:"button",children:"Xa b lc"}),t.jsx("button",{className:"filters-apply",onClick:s,type:"button",children:"p dng"})]});return t.jsxs("div",{className:"filters-sidebar",children:[t.jsx("button",{className:"filters-toggle",onClick:()=>h(x=>!x),children:c?"n b lc":"Hin th b lc"}),t.jsx("div",{className:`filters-desktop ${c?"open":""}`,children:f})]})}const x0=e=>{const n=(e==null?void 0:e.company_details)||{};return n.employee_count_min&&n.employee_count_max?`${n.employee_count_min}-${n.employee_count_max}`:e.size?`${e.size}`:"N/A"},v0=(e,n)=>n||!e||e.length<=160?e:`${e.slice(0,160)}...`;function j0({company:e}){var r,o,c,h;const[n,s]=u.useState(!1),a=((e==null?void 0:e.name)||"C").slice(0,1).toUpperCase(),i=((r=e==null?void 0:e.stats)==null?void 0:r.open_jobs_count)||0,l=(e==null?void 0:e.description_short)||(e==null?void 0:e.description)||"";return t.jsxs("article",{className:"company-card",children:[t.jsxs("div",{className:"company-card__head",children:[t.jsx("div",{className:"logo-circle",children:e!=null&&e.logo_url?t.jsx("img",{src:e.logo_url,alt:e.name}):t.jsx("span",{children:a})}),t.jsxs("div",{className:"company-meta",children:[t.jsxs("div",{className:"name-row",children:[t.jsx(We,{className:"link-btn",to:`/companies/${e.id}`,children:e.name}),e.is_verified&&t.jsx("span",{className:"verified",children:" xc minh"})]}),t.jsxs("div",{className:"meta-row company-line",children:[((o=e==null?void 0:e.company_details)==null?void 0:o.industry)&&t.jsx("span",{children:e.company_details.industry}),((c=e==null?void 0:e.location)==null?void 0:c.name)&&t.jsxs("span",{children:[" | ",e.location.name]})]}),t.jsxs("div",{className:"meta-row company-line",children:[((h=e==null?void 0:e.company_details)==null?void 0:h.company_type)&&t.jsx("span",{children:e.company_details.company_type}),t.jsxs("span",{children:[" | ",x0(e)," nhn s"]}),t.jsxs("span",{children:[" | ",i," tin ang m"]})]})]})]}),l&&t.jsxs("p",{className:"company-desc",children:[v0(l,n)," ",l.length>160&&t.jsx("button",{className:"link-btn small",onClick:()=>s(v=>!v),children:n?"Thu gn":"Xem thm"})]}),t.jsxs("div",{className:"company-links",children:[t.jsx(We,{className:"btn ghost",to:`/companies/${e.id}`,"aria-label":`Xem chi tiet ${e.name||""}`,children:"Xem chi tiet"}),t.jsxs("div",{className:"social-links tiny",children:[(e==null?void 0:e.linkedin_url)&&t.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noreferrer","aria-label":"LinkedIn",children:"in"}),(e==null?void 0:e.facebook_url)&&t.jsx("a",{href:e.facebook_url,target:"_blank",rel:"noreferrer","aria-label":"Facebook",children:"f"}),(e==null?void 0:e.twitter_url)&&t.jsx("a",{href:e.twitter_url,target:"_blank",rel:"noreferrer","aria-label":"Twitter",children:"x"})]})]})]})}function y0(){return t.jsxs("div",{className:"company-card skeleton",children:[t.jsx("div",{className:"skeleton-line lg"}),t.jsx("div",{className:"skeleton-line"}),t.jsx("div",{className:"skeleton-line"}),t.jsxs("div",{className:"skeleton-chip-row",children:[t.jsx("span",{className:"skeleton-chip"}),t.jsx("span",{className:"skeleton-chip"}),t.jsx("span",{className:"skeleton-chip"})]})]})}const Dh=e=>Array.from({length:e},(n,s)=>s);function _0({items:e,loading:n,error:s,onRetry:a,total:i,page:l,limit:r,onPageChange:o,sort:c,onSortChange:h,clearFilters:v,sortOptions:f}){const x=Math.max(1,Math.ceil((i||0)/(r||1))),j=()=>{if(!i||x<=1)return null;const _=Dh(x).map(b=>b+1);return t.jsxs("div",{className:"pagination",children:[t.jsx("button",{disabled:l<=1,onClick:()=>o(l-1),className:"btn ghost",children:"Trc"}),_.map(b=>t.jsx("button",{onClick:()=>o(b),className:`btn ghost page-btn ${b===l?"active":""}`,children:b},b)),t.jsx("button",{disabled:l>=x,onClick:()=>o(l+1),className:"btn ghost",children:"Sau"})]})};return s&&(!e||!e.length)?t.jsx("div",{className:"list-card",children:t.jsxs("div",{className:"state-card error",children:[t.jsx("p",{children:s}),t.jsx("button",{className:"btn primary",onClick:a,children:"Th li"})]})}):t.jsxs("div",{className:"list-card",children:[t.jsxs("div",{className:"list-head",children:[t.jsxs("div",{children:[t.jsxs("h2",{children:[i||0," cng ty ph hp"]}),t.jsx("p",{className:"muted",children:"Lc v sp xp  tm nh tuyn dng ph hp"})]}),t.jsx("div",{className:"list-actions",children:t.jsx("select",{value:c,onChange:_=>h(_.target.value),children:f.map(_=>t.jsx("option",{value:_.value,children:_.label},_.value))})})]}),s&&(e!=null&&e.length)?t.jsx("div",{className:"state-card error",style:{marginBottom:12},children:t.jsx("p",{children:s})}):null,n?t.jsx("div",{className:"company-grid",children:Dh(6).map(_=>t.jsx(y0,{},`skeleton-${_}`))}):e&&e.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"company-grid",children:e.map(_=>t.jsx(j0,{company:_},_.id))}),j()]}):t.jsxs("div",{className:"empty-state",children:[t.jsx("p",{children:"Khng c cng ty no khp b lc."}),t.jsx("button",{className:"btn ghost",onClick:v,children:"Xa b lc"})]})]})}const Ci=12,tg=[{value:"",label:"Tt c quy m"},{value:"1-10",label:"1-10",min:1,max:10},{value:"11-50",label:"11-50",min:11,max:50},{value:"51-200",label:"51-200",min:51,max:200},{value:"201-500",label:"201-500",min:201,max:500},{value:"500+",label:"500+",min:500,max:null}],N0=[{value:"",label:"Tt c loi hnh"},{value:"Product",label:"Product"},{value:"Outsourcing",label:"Outsourcing"},{value:"Agency",label:"Agency"},{value:"Hybrid",label:"Hybrid"}],b0=[{value:"newest",label:"Mi nht"},{value:"oldest",label:"C nht"},{value:"open_jobs",label:"Nhiu tin tuyn"},{value:"name_az",label:"Tn A-Z"}],Ph={newest:{by:"created_at",order:"desc"},oldest:{by:"created_at",order:"asc"},open_jobs:{by:"open_jobs_count",order:"desc"},name_az:{by:"name",order:"asc"}},wl={search:"",industry:"",location_id:"",company_type:"",size_range:"",has_open_jobs:!1,page:1,limit:Ci,sort:"newest"},w0=[{id:"sample-1",name:"ACME Software",description:"SaaS company serving global clients.",logo_url:"",size:180,contact_address:"Ha Noi, Viet Nam",is_verified:!0,company_details:{industry:"Software",founded_year:2015,employee_count_min:100,employee_count_max:250,website_url:"https://example.com",company_type:"Product",culture_description:"Open and learning culture.",headquarters_location:{id:"loc-hn",name:"Ha Noi, Viet Nam"}},stats:{open_jobs_count:12}},{id:"sample-2",name:"Bright Labs",description:"Design and product studio.",logo_url:"",size:80,contact_address:"Ho Chi Minh City, Viet Nam",is_verified:!1,company_details:{industry:"Design & Tech",employee_count_min:50,employee_count_max:100,website_url:"https://brightlabs.vn",company_type:"Agency",culture_description:"Creative and collaborative.",headquarters_location:{id:"loc-hcm",name:"Ho Chi Minh City, Viet Nam"}},stats:{open_jobs_count:5}},{id:"sample-3",name:"CloudOps Asia",description:"Cloud infrastructure and DevOps services.",logo_url:"",size:40,contact_address:"Da Nang, Viet Nam",is_verified:!0,company_details:{industry:"Cloud & DevOps",employee_count_min:20,employee_count_max:60,website_url:"https://cloudops.asia",company_type:"Outsourcing",culture_description:"Lean operations and knowledge sharing.",headquarters_location:{id:"loc-dn",name:"Da Nang, Viet Nam"}},stats:{open_jobs_count:3}}],k0=e=>{const n=new URLSearchParams;e.search&&n.set("search",e.search.trim()),e.industry&&n.set("industry",e.industry),e.location_id&&n.set("location_id",e.location_id),e.company_type&&n.set("company_type",e.company_type),e.size_range&&n.set("size_range",e.size_range),e.has_open_jobs&&n.set("has_open_jobs","true");const s=Ph[e.sort]||Ph.newest;return n.set("sort_by",s.by),n.set("order",s.order),n.set("page",String(e.page||1)),n.set("limit",String(e.limit||Ci)),n.toString()},ko=(e,n)=>{if(!Array.isArray(e))return[];const s=[...e];switch(n){case"oldest":return s.sort((a,i)=>new Date(a.created_at||a.posted_at||a.verification_date||0)-new Date(i.created_at||i.posted_at||i.verification_date||0));case"open_jobs":return s.sort((a,i)=>{var l,r;return(((l=i==null?void 0:i.stats)==null?void 0:l.open_jobs_count)||0)-(((r=a==null?void 0:a.stats)==null?void 0:r.open_jobs_count)||0)});case"name_az":return s.sort((a,i)=>(a.name||"").localeCompare(i.name||""));case"newest":default:return s.sort((a,i)=>new Date(i.created_at||i.posted_at||i.verification_date||0)-new Date(a.created_at||a.posted_at||a.verification_date||0))}},Mh=e=>{if(!e)return null;const n=e.company_details||{},s=n.headquarters_location||(n.headquarters_location_id?{id:n.headquarters_location_id,name:n.headquarters_location_id}:null)||(e.contact_address?{name:e.contact_address}:null),a=n.employee_count_min,i=n.employee_count_max,l=a&&i?`${a}-${i}`:e.size?`${e.size}`:null;return{...e,company_details:n,location:s,display_size:l,description_short:e.description||n.culture_description||"",stats:e.stats||{open_jobs_count:e.open_jobs_count??0}}},C0=(e,n)=>{const s=tg.find(a=>a.value===n.size_range);return e.filter(a=>{var x,j,_,b,g,m,d;const i=(n.search||"").trim().toLowerCase(),l=!n.industry||(((x=a.company_details)==null?void 0:x.industry)||"").toLowerCase()===n.industry.toLowerCase(),r=!n.company_type||(((j=a.company_details)==null?void 0:j.company_type)||"").toLowerCase()===n.company_type.toLowerCase(),o=a.location||{},c=!n.location_id||String(o.id||"").toLowerCase()===n.location_id.toLowerCase()||(o.name||"").toLowerCase()===n.location_id.toLowerCase(),h=!n.has_open_jobs||(((_=a.stats)==null?void 0:_.open_jobs_count)||0)>0;let v=!0;if(s&&s.value){const p=((b=a.company_details)==null?void 0:b.employee_count_min)??a.size??0,y=((g=a.company_details)==null?void 0:g.employee_count_max)??a.size??p,S=s.min??0,w=s.max;v=w===null?p>=S:y>=S&&p<=w}const f=!i||(a.name||"").toLowerCase().includes(i)||(a.description||"").toLowerCase().includes(i)||(((m=a.company_details)==null?void 0:m.industry)||"").toLowerCase().includes(i)||(((d=a.location)==null?void 0:d.name)||"").toLowerCase().includes(i);return l&&r&&c&&h&&v&&f})};function S0(){const[e,n]=u.useState([]),[s,a]=u.useState(!1),[i,l]=u.useState(""),[r,o]=u.useState(wl),[c,h]=u.useState(wl),[v,f]=u.useState({page:1,limit:Ci,total:0}),[x,j]=u.useState([{value:"",label:"Tt c ngnh"}]),[_,b]=u.useState([{value:"",label:"Tt c a im"}]),g=u.useCallback(async()=>{a(!0),l("");try{const C=k0(r),T=await Sy.list(C?`?${C}`:""),L=(T==null?void 0:T.data)??T,O=Array.isArray(L)?L.map(Mh).filter(Boolean):[],se=ko(O,r.sort);n(se);const $=(T==null?void 0:T.meta)||(T==null?void 0:T.pagination)||{};f({page:$.page||r.page||1,limit:$.limit||r.limit||Ci,total:$.total??O.length});const z=new Set(O.map(Y=>{var H;return(H=Y==null?void 0:Y.company_details)==null?void 0:H.industry}).filter(Boolean));j([{value:"",label:"Tt c ngnh"},...Array.from(z).map(Y=>({value:Y,label:Y}))]);const re=new Map;O.forEach(Y=>{var H,R;if((H=Y.location)!=null&&H.id||(R=Y.location)!=null&&R.name){const X=Y.location.id||Y.location.name;re.set(X,{value:Y.location.id||Y.location.name,label:Y.location.name||Y.location.id})}}),b([{value:"",label:"Tt c a im"},...Array.from(re.values())])}catch(C){const T=w0.map(Mh).filter(Boolean),L=C0(T,r),O=ko(L,r.sort);n(O),f({page:1,limit:Ci,total:L.length});const se=new Set(T.map(z=>{var re;return(re=z==null?void 0:z.company_details)==null?void 0:re.industry}).filter(Boolean));j([{value:"",label:"Tt c ngnh"},...Array.from(se).map(z=>({value:z,label:z}))]);const $=new Map;T.forEach(z=>{var re,Y;if((re=z.location)!=null&&re.id||(Y=z.location)!=null&&Y.name){const H=z.location.id||z.location.name;$.set(H,{value:z.location.id||z.location.name,label:z.location.name||z.location.id})}}),b([{value:"",label:"Tt c a im"},...Array.from($.values())]),l((C==null?void 0:C.message)||"Khng ti c danh sch cng ty (ang hin th d liu mu).")}finally{a(!1),window.scrollTo({top:0,behavior:"smooth"})}},[r]);u.useEffect(()=>{g()},[g]);const m=C=>{h(T=>({...T,...C,page:1}))},d=()=>{o(C=>({...C,...c,page:1}))},p=C=>{o(T=>({...T,page:C})),h(T=>({...T,page:C}))},y=C=>{o(T=>({...T,sort:C,page:1})),h(T=>({...T,sort:C}))},S=()=>{h(wl),o(wl)},w=v.total||e.length,k=u.useMemo(()=>ko(e,r.sort),[e,r.sort]);return t.jsx("div",{className:"companies-page",children:t.jsxs("div",{className:"companies-container",children:[t.jsx("div",{className:"sidebar-column",children:t.jsx(g0,{filters:c,onChange:m,onApply:d,onClear:S,sizeOptions:tg,industryOptions:x,locationOptions:_,companyTypeOptions:N0})}),t.jsx("div",{className:"list-column",children:t.jsx(_0,{items:k,loading:s,error:i,onRetry:g,total:w,page:r.page,limit:r.limit,onPageChange:p,sort:r.sort,onSortChange:y,clearFilters:S,sortOptions:b0})})]})})}const Rh=/[!@#$%^&*(),.?":{}|<>_\-]/;function T0(){const[e,n]=u.useState("candidate"),[s,a]=u.useState({name:"",email:"",password:"",confirm_password:"",date_of_birth:"",company:""}),[i,l]=u.useState(!1),[r]=qa();He();const[o,c]=u.useState(!1),[h,v]=u.useState(""),[f,x]=u.useState(""),j=g=>{typeof g.target.showPicker=="function"&&g.target.showPicker()},_=g=>a(m=>({...m,[g.target.name]:g.target.value})),b=async g=>{var d;if(g.preventDefault(),v(""),x(""),!s.name||!s.email||!s.password||!s.confirm_password||!s.date_of_birth){v("Vui lng in y  thng tin bt buc.");return}const m=Rh.test(s.password);if(s.password.length<10||!m){v("Mt khu phi di ti thiu 10 k t v cha k t c bit.");return}if(s.password!==s.confirm_password){v("Xc nhn mt khu khng khp.");return}c(!0);try{const p=e==="recruiter"?"recruiter":"candidate",y={name:s.name.trim(),email:s.email.trim(),password:s.password,confirm_password:s.confirm_password,role:p,date_of_birth:s.date_of_birth};await wn.register(y),x(" ng k thnh cng. Vui lng kim tra email  xc thc ti khon ri quay li ng nhp.")}catch(p){v(((d=p==null?void 0:p.data)==null?void 0:d.message)||(p==null?void 0:p.message)||"ng k tht bi.")}finally{c(!1)}};return u.useEffect(()=>{const g=r.get("role");(g==="recruiter"||g==="employer")&&n("recruiter"),(g==="candidate"||g==="seeker")&&n("candidate")},[r]),t.jsx("section",{className:"section",style:{maxWidth:920,margin:"40px auto"},children:t.jsxs("div",{className:"card auth-card auth-grid",children:[t.jsxs("div",{className:"auth-side",children:[t.jsxs("div",{className:"brand",style:{marginBottom:12},children:[t.jsx("span",{className:"brand-badge",children:"JF"}),t.jsx("span",{children:"JobFinder"})]}),t.jsx("h2",{style:{margin:"0 0 6px"},children:"To ti khon"}),t.jsx("div",{className:"muted",children:"Gia nhp cng ng nhn ti v nh tuyn dng cht lng."}),t.jsxs("ul",{className:"auth-points",children:[t.jsx("li",{children:"ng tuyn / ng tuyn d dng"}),t.jsx("li",{children:"Gi  ph hp theo h s"}),t.jsx("li",{children:"Qun l n ng tuyn thun tin"})]})]}),t.jsxs("div",{className:"auth-form",children:[t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:"tab"+(e==="candidate"?" active":""),onClick:()=>n("candidate"),children:"ng vin (Candidate)"}),t.jsx("button",{className:"tab"+(e==="recruiter"?" active":""),onClick:()=>n("recruiter"),children:"Nh tuyn dng (Recruiter)"})]}),t.jsxs("form",{onSubmit:b,className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"H v tn"}),t.jsx("input",{name:"name",value:s.name,onChange:_,placeholder:"Nguyen Van A",required:!0})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Email"}),t.jsx("input",{name:"email",type:"email",value:s.email,onChange:_,placeholder:"you@example.com",required:!0})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mt khu"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,width:"100%"},children:[t.jsx("input",{style:{flex:1},name:"password",type:i?"text":"password",value:s.password,onChange:_,placeholder:"**********",required:!0}),t.jsx("button",{type:"button",className:"btn",onClick:()=>l(g=>!g),children:i?"n":"Hin"})]}),s.password&&(s.password.length<10||!Rh.test(s.password))&&t.jsx("div",{className:"field-error",children:"Mt khu phi di ti thiu 10 k t v cha k t c bit."})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Xc nhn mt khu"}),t.jsx("input",{name:"confirm_password",type:i?"text":"password",value:s.confirm_password,onChange:_,placeholder:"**********",required:!0}),s.confirm_password&&s.confirm_password!==s.password&&t.jsx("div",{className:"field-error",children:"Mt khu khng khp."})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ngy sinh"}),t.jsx("input",{name:"date_of_birth",type:"date",value:s.date_of_birth,onChange:_,onClick:j,onFocus:j,required:!0})]}),f&&t.jsx("div",{className:"success-banner",children:f}),h&&t.jsx("div",{className:"error-banner",children:h}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",disabled:o,className:"btn primary large",children:o?"ang ng k...":"ng k"})})]})]})]})})}function Ah(){const[e]=qa(),n=e.get("token")||"",s=He(),[a,i]=u.useState(n?"loading":"error"),[l,r]=u.useState(n?"ang xc thc email...":"Thiu m xc thc.");return u.useEffect(()=>{let o=!1;return(async()=>{var h;if(n)try{if(await wn.verifyEmail(n),o)return;i("success"),r("Email ca bn  c xc thc thnh cng. Bn c th ng nhp ngay.")}catch(v){if(o)return;i("error"),r(((h=v==null?void 0:v.data)==null?void 0:h.message)||(v==null?void 0:v.message)||"Xc thc tht bi. Vui lng th li.")}})(),()=>{o=!0}},[n]),t.jsx("section",{className:"section",style:{maxWidth:520,margin:"40px auto"},children:t.jsxs("div",{className:"card",style:{padding:20,textAlign:"center"},children:[t.jsx("h2",{style:{marginTop:0},children:"Xc thc email"}),t.jsx("p",{className:"muted",style:{marginBottom:16},children:l}),a==="loading"&&t.jsx("div",{className:"muted",children:"Vui lng ch trong giy lt..."}),a==="success"&&t.jsx("button",{className:"btn primary",style:{marginTop:12},onClick:()=>s("/login"),children:"i ti ng nhp"}),a==="error"&&t.jsx("button",{className:"btn",style:{marginTop:12},onClick:()=>s("/login"),children:"Quay li ng nhp"})]})})}function E0(){const[e,n]=u.useState(""),[s,a]=u.useState(!1),[i,l]=u.useState(""),[r,o]=u.useState(!1),c=async h=>{var v;if(h.preventDefault(),l(""),o(!1),!e.trim()){l("Vui lng nhp email.");return}a(!0);try{await wn.forgotPassword(e.trim()),o(!0)}catch(f){l(((v=f==null?void 0:f.data)==null?void 0:v.message)||(f==null?void 0:f.message)||"Gi yu cu tht bi.")}finally{a(!1)}};return t.jsx("section",{className:"section",style:{maxWidth:520,margin:"40px auto"},children:t.jsxs("div",{className:"card",style:{padding:24},children:[t.jsx("h2",{style:{marginTop:0},children:"Qun mt khu"}),t.jsx("p",{className:"muted",style:{marginBottom:18},children:"Nhp email  ng k, chng ti s gi lin kt t li mt khu."}),r&&t.jsx("div",{style:{background:"#e6ffed",border:"1px solid #b7eb8f",color:"#2f6b2f",padding:10,borderRadius:8,marginBottom:12},children:" gi email t li mt khu (nu ti khon tn ti). Vui lng kim tra hp th."}),i&&t.jsx("div",{className:"error-banner",children:i}),t.jsxs("form",{onSubmit:c,className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Email"}),t.jsx("input",{type:"email",name:"email",placeholder:"you@example.com",value:e,onChange:h=>n(h.target.value),required:!0})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"btn primary large",disabled:s,children:s?"ang gi...":"Gi lin kt"})})]}),t.jsx("div",{style:{marginTop:10,textAlign:"center"},children:t.jsx(We,{to:"/login",children:"Quay li ng nhp"})})]})})}function zh(){const[e]=qa(),n=e.get("token")||"",s=He(),[a,i]=u.useState(n?"loading":"error"),[l,r]=u.useState(n?"ang kim tra m khi phc...":"Thiu token xc thc."),[o,c]=u.useState(n);return u.useEffect(()=>{let h=!1;return(async()=>{var f;if(n)try{if(await wn.verifyForgotPassword(n),h)return;i("success"),r("M khi phc hp l. Bn c th t li mt khu."),c(n)}catch(x){if(h)return;i("error"),r(((f=x==null?void 0:x.data)==null?void 0:f.message)||(x==null?void 0:x.message)||"Xc thc token tht bi. Vui lng yu cu li.")}})(),()=>{h=!0}},[n]),t.jsx("section",{className:"section",style:{maxWidth:520,margin:"40px auto"},children:t.jsxs("div",{className:"card",style:{padding:24,textAlign:"center"},children:[t.jsx("h2",{style:{marginTop:0},children:"Xc thc khi phc"}),t.jsx("p",{className:"muted",style:{marginBottom:16},children:l}),a==="loading"&&t.jsx("div",{className:"muted",children:"Vui lng ch..."}),a==="success"&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,alignItems:"center"},children:[t.jsx("div",{style:{background:"#e6ffed",border:"1px solid #b7eb8f",color:"#2f6b2f",padding:10,borderRadius:8,width:"100%"},children:"Token  c xc thc thnh cng."}),t.jsx("button",{className:"btn primary",onClick:()=>s(`/reset-password?token=${encodeURIComponent(o)}`),children:"Tip tc t li mt khu"})]}),a==="error"&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,alignItems:"center"},children:[t.jsx("div",{className:"error-banner",style:{width:"100%"},children:l}),t.jsx(We,{className:"btn",to:"/forgot-password",children:"Gi li yu cu"})]})]})})}const Ih=/[!@#$%^&*(),.?":{}|<>_\-]/;function $h(){const[e]=qa(),n=He(),[s,a]=u.useState(e.get("token")||""),[i,l]=u.useState({new_password:"",confirm:""}),[r,o]=u.useState(!1),[c,h]=u.useState(!1),[v,f]=u.useState(""),[x,j]=u.useState(!1);u.useEffect(()=>{const g=e.get("token");g&&a(g)},[e]);const _=g=>l(m=>({...m,[g.target.name]:g.target.value})),b=async g=>{var m;if(g.preventDefault(),f(""),j(!1),!s){f("Khng tm thy token trong lin kt. Vui lng m li lin kt trong email.");return}if(i.new_password.length<10||!Ih.test(i.new_password)){f("Mt khu mi phi c t nht 10 k t v k t c bit.");return}if(i.new_password!==i.confirm){f("Xc nhn mt khu khng khp.");return}h(!0);try{await wn.resetPassword({token:s,new_password:i.new_password}),j(!0)}catch(d){f(((m=d==null?void 0:d.data)==null?void 0:m.message)||(d==null?void 0:d.message)||"t li mt khu tht bi.")}finally{h(!1)}};return x?t.jsx("section",{className:"section",style:{maxWidth:520,margin:"40px auto"},children:t.jsxs("div",{className:"card",style:{padding:24,textAlign:"center"},children:[t.jsx("h2",{style:{marginTop:0},children:"t li thnh cng"}),t.jsx("p",{className:"muted",style:{marginBottom:16},children:"Mt khu mi  c cp nht. Bn c th ng nhp vi mt khu mi."}),t.jsx("button",{className:"btn primary",onClick:()=>n("/login"),children:"i n ng nhp"})]})}):t.jsx("section",{className:"section",style:{maxWidth:520,margin:"40px auto"},children:t.jsxs("div",{className:"card",style:{padding:24},children:[t.jsx("h2",{style:{marginTop:0},children:"t li mt khu"}),t.jsx("p",{className:"muted",style:{marginBottom:12},children:"Mt khu mi s c cp nht bng token trong lin kt email."}),v&&t.jsx("div",{className:"error-banner",children:v}),t.jsxs("form",{onSubmit:b,className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mt khu mi"}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",width:"100%"},children:[t.jsx("input",{style:{flex:1},type:r?"text":"password",name:"new_password",placeholder:"**********",value:i.new_password,onChange:_,required:!0}),t.jsx("button",{type:"button",className:"btn",onClick:()=>o(g=>!g),children:r?"n":"Hin"})]}),i.new_password&&(i.new_password.length<10||!Ih.test(i.new_password))&&t.jsx("div",{className:"field-error",children:"Ti thiu 10 k t v k t c bit."})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Xc nhn"}),t.jsx("input",{type:r?"text":"password",name:"confirm",placeholder:"**********",value:i.confirm,onChange:_,required:!0}),i.confirm&&i.confirm!==i.new_password&&t.jsx("div",{className:"field-error",children:"Khng khp."})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"btn primary large",disabled:c,children:c?"ang cp nht...":"Cp nht mt khu"})})]}),t.jsx("div",{style:{marginTop:10,textAlign:"center"},children:t.jsx(We,{to:"/forgot-password",children:"Gi li email khi phc"})})]})})}const Fh=/[!@#$%^&*(),.?":{}|<>_\-]/;function L0(){const e=He(),[n,s]=u.useState({old_password:"",new_password:"",confirm_password:""}),[a,i]=u.useState(!1),[l,r]=u.useState(!1),[o,c]=u.useState(!1),[h,v]=u.useState(""),[f,x]=u.useState("");u.useEffect(()=>{Qn()||e("/login",{replace:!0})},[e]);const j=b=>s(g=>({...g,[b.target.name]:b.target.value})),_=async b=>{var g;if(b.preventDefault(),v(""),x(""),!n.old_password||!n.new_password||!n.confirm_password){v("Vui lng in y  thng tin.");return}if(n.new_password.length<10||!Fh.test(n.new_password)){v("Mt khu mi phi c t nht 10 k t v k t c bit.");return}if(n.new_password!==n.confirm_password){v("Xc nhn mt khu khng khp.");return}c(!0);try{await wn.changePassword(n),x("i mt khu thnh cng."),s({old_password:"",new_password:"",confirm_password:""})}catch(m){v(((g=m==null?void 0:m.data)==null?void 0:g.message)||(m==null?void 0:m.message)||"i mt khu tht bi.")}finally{c(!1)}};return t.jsx("section",{className:"section",style:{maxWidth:520,margin:"40px auto"},children:t.jsxs("div",{className:"card",style:{padding:24},children:[t.jsx("h2",{style:{marginTop:0},children:"i mt khu"}),t.jsx("p",{className:"muted",style:{marginBottom:12},children:"Vui lng nhp mt khu hin ti v mt khu mi ca bn."}),h&&t.jsx("div",{className:"error-banner",children:h}),f&&t.jsx("div",{style:{background:"#e6ffed",border:"1px solid #b7eb8f",color:"#2f6b2f",padding:10,borderRadius:8,marginBottom:12},children:f}),t.jsxs("form",{onSubmit:_,className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mt khu hin ti"}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",width:"100%"},children:[t.jsx("input",{style:{flex:1},type:a?"text":"password",name:"old_password",placeholder:"********",value:n.old_password,onChange:j,autoComplete:"current-password",required:!0}),t.jsx("button",{type:"button",className:"btn",onClick:()=>i(b=>!b),children:a?"n":"Hin"})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mt khu mi"}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",width:"100%"},children:[t.jsx("input",{style:{flex:1},type:l?"text":"password",name:"new_password",placeholder:"********",value:n.new_password,onChange:j,autoComplete:"new-password",required:!0}),t.jsx("button",{type:"button",className:"btn",onClick:()=>r(b=>!b),children:l?"n":"Hin"})]}),n.new_password&&(n.new_password.length<10||!Fh.test(n.new_password))&&t.jsx("div",{className:"field-error",children:"Ti thiu 10 k t v k t c bit."})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Xc nhn mt khu mi"}),t.jsx("input",{type:l?"text":"password",name:"confirm_password",placeholder:"********",value:n.confirm_password,onChange:j,autoComplete:"new-password",required:!0}),n.confirm_password&&n.confirm_password!==n.new_password&&t.jsx("div",{className:"field-error",children:"Khng khp."})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"btn primary large",disabled:o,children:o?"ang cp nht...":"i mt khu"})})]})]})})}const D0="http://localhost:4000".replace(/\/$/,""),P0={uploadAvatar:async e=>{if(!e)throw new Error("Cha chn nh.");const n=new FormData;n.append("file",e);const s=Qn(),a=await fetch(`${D0}/api/uploads/avatar`,{method:"POST",headers:s?{Authorization:`Bearer ${s}`}:{},body:n}),i=await a.json().catch(()=>({}));if(!a.ok){const l=new Error((i==null?void 0:i.message)||"Ti nh i din tht bi.");throw l.status=a.status,l.data=i,l}return i}};function ng(e){var h,v,f,x,j,_,b,g,m,d,p,y,S,w,k,C,T,L,O,se,$,z,re,Y,H,R,X,A,ie;if(!e)return{percentage:0,details:{fullName:!1,contact:!1,bio:!1,headline:!1,location:!1,desiredJobTitle:!1,yearsOfExperience:!1,avatar:!1},missingItems:["H v tn","Email hoc s in thoi","Gii thiu bn thn","Tiu  ngh nghip","a im","V tr mong mun","S nm kinh nghim","nh i din"],isComplete:!1};let n=e;if(e.sections){const te=e.sections;n={full_name:(v=(h=te.personal_info)==null?void 0:h.data)==null?void 0:v.full_name,email:(x=(f=te.personal_info)==null?void 0:f.data)==null?void 0:x.email,phone_number:(_=(j=te.personal_info)==null?void 0:j.data)==null?void 0:_.phone,bio:(g=(b=te.personal_info)==null?void 0:b.data)==null?void 0:g.bio,headline:(d=(m=te.personal_info)==null?void 0:m.data)==null?void 0:d.headline,location_id:(y=(p=te.personal_info)==null?void 0:p.data)==null?void 0:y.location_id,desired_job_title:(w=(S=te.personal_info)==null?void 0:S.data)==null?void 0:w.desired_job_title,years_of_experience:(C=(k=te.personal_info)==null?void 0:k.data)==null?void 0:C.years_of_experience,avatar_url:(L=(T=te.personal_info)==null?void 0:T.data)==null?void 0:L.avatar_url,users:e.users||((se=(O=te.personal_info)==null?void 0:O.data)!=null&&se.email?{email:te.personal_info.data.email}:null)}}let s=0;const a={},i=[];($=n.full_name)!=null&&$.trim()?(s+=15,a.fullName=!0):(a.fullName=!1,i.push("H v tn"));const l=n.email||((z=n.users)==null?void 0:z.email),r=(re=n.phone_number)==null?void 0:re.trim();l||r?(s+=15,a.contact=!0):(a.contact=!1,i.push("Email hoc s in thoi")),(Y=n.bio)!=null&&Y.trim()?(s+=10,a.bio=!0):(a.bio=!1,i.push("Gii thiu bn thn")),(H=n.headline)!=null&&H.trim()?(s+=15,a.headline=!0):(a.headline=!1,i.push("Tiu  ngh nghip")),(R=n.location_id)!=null&&R.trim()?(s+=10,a.location=!0):(a.location=!1,i.push("a im")),(X=n.desired_job_title)!=null&&X.trim()?(s+=10,a.desiredJobTitle=!0):(a.desiredJobTitle=!1,i.push("V tr mong mun"));const o=n.years_of_experience;o!=null&&o!==""&&!isNaN(Number(o))?(s+=10,a.yearsOfExperience=!0):(a.yearsOfExperience=!1,i.push("S nm kinh nghim"));const c=n.avatar_url||((ie=(A=n.users)==null?void 0:A.profile)==null?void 0:ie.avatar_url);return c!=null&&c.trim()?(s+=15,a.avatar=!0):(a.avatar=!1,i.push("nh i din")),{percentage:s,details:a,missingItems:i,isComplete:s===100}}const Vh=[{value:"full_time",label:"Full-time"},{value:"part_time",label:"Part-time"},{value:"contract",label:"Hp ng"}],M0=[{value:"male",label:"Nam"},{value:"female",label:"N"},{value:"other",label:"Khc"}],R0=["VND","USD","EUR"],Bh=[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"},{value:"expert",label:"Expert"}],A0=[{value:"academic",label:"Hc thut"},{value:"professional",label:"Chuyn mn"},{value:"competition",label:"Cuc thi"},{value:"volunteer",label:"Tnh nguyn"},{value:"other",label:"Khc"}],z0=[{value:"international",label:"Quc t"},{value:"national",label:"Quc gia"},{value:"regional",label:"Khu vc"},{value:"local",label:"a phng"},{value:"organizational",label:"Ni b"}],Bl=()=>({full_name:"",display_name:"",headline:"",date_of_birth:"",gender:"",phone_number:"",personal_website:"",linkedin_url:"",github_url:"",location_id:"",location_text:"",bio:"",years_of_experience:"",desired_job_title:"",desired_salary_min:"",desired_currency:"VND",desired_job_type:[],is_looking_for_job:!1}),Co=e=>e?{full_name:e.full_name||"",display_name:e.display_name||"",headline:e.headline||"",date_of_birth:e.date_of_birth?e.date_of_birth.slice(0,10):"",gender:e.gender||"",phone_number:e.phone_number||"",personal_website:e.personal_website||"",linkedin_url:e.linkedin_url||"",github_url:e.github_url||"",location_id:e.location_id||"",location_text:e.location_text||"",bio:e.bio||"",years_of_experience:typeof e.years_of_experience=="number"?String(e.years_of_experience):"",desired_job_title:e.desired_job_title||"",desired_salary_min:typeof e.desired_salary_min=="number"?String(e.desired_salary_min):"",desired_currency:e.desired_currency||"VND",desired_job_type:Array.isArray(e.desired_job_type)?e.desired_job_type:[],is_looking_for_job:typeof e.is_looking_for_job=="boolean"?e.is_looking_for_job:!1}:Bl(),di=(e,n)=>{var a,i;const s=(a=e==null?void 0:e.data)==null?void 0:a.errors;if(Array.isArray(s)&&s.length){const l=s.map(r=>r==null?void 0:r.message).filter(Boolean).join("  ");if(l)return l}return((i=e==null?void 0:e.data)==null?void 0:i.message)||(e==null?void 0:e.message)||n},Bc=e=>{if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":n.toLocaleDateString("vi-VN",{month:"short",year:"numeric"})},So=(e,n,s)=>{const a=Bc(e)||"",i=s?"Hin ti":Bc(n)||"";return`${a}  ${i}`},Oh=(e,n,s)=>{var i;const a={};if(Object.entries(e).forEach(([l,r])=>{if(l==="desired_job_type"){r.length&&(a[l]=r);return}if(l==="years_of_experience"||l==="desired_salary_min"){if(r===""||r===null||r===void 0)return;const o=Number(r);Number.isFinite(o)&&(a[l]=o);return}if(l==="is_looking_for_job"){typeof r=="boolean"&&(a[l]=r);return}if(l!=="location_id"&&l!=="location_text"&&r!=null&&typeof r=="string"){const o=r.trim();o&&(a[l]=o)}}),n!=null&&n.id){a.location_id=n.id;const l=[];n!=null&&n.name&&l.push(n.name),s!=null&&s.name&&l.push(s.name),l.length&&(a.location_text=l.join(", "))}else(i=e.location_text)!=null&&i.trim()&&(a.location_text=e.location_text.trim());return a};function I0(){var Hd,Kd,Wd,qd;const[e,n]=u.useState("create"),[s,a]=u.useState(null),[i,l]=u.useState(null),[r,o]=u.useState(!0),[c,h]=u.useState(""),[v,f]=u.useState(()=>Bl()),[x,j]=u.useState(()=>Bl()),[_,b]=u.useState({loading:!1,message:"",error:""}),[g,m]=u.useState({loading:!1,message:"",error:""}),[d,p]=u.useState({type:"",mode:"create",record:null}),[y,S]=u.useState({}),[w,k]=u.useState(""),[C,T]=u.useState(!1),[L,O]=u.useState(""),[se,$]=u.useState(!1),z=u.useRef(null),[re,Y]=u.useState([]),[H,R]=u.useState([]),[X,A]=u.useState(null),[ie,te]=u.useState(""),[pe,G]=u.useState(!1),[q,ee]=u.useState([]),[be,Me]=u.useState([]),[Je,Re]=u.useState(null),[Be,oe]=u.useState(""),[E,J]=u.useState(!1),[Q,ue]=u.useState(!1),[Te,we]=u.useState([]),[Pe,ae]=u.useState([]),[Ee,Ie]=u.useState([]),[it,Ke]=u.useState([]),[Ye,F]=u.useState(""),[he,ye]=u.useState(!1),[ke,Qe]=u.useState(!1),[le,De]=u.useState(null),[ct,Ze]=u.useState(""),[U,et]=u.useState(!1),[tl,zn]=u.useState([]),[an,In]=u.useState([]),[nt,gn]=u.useState(null),[hs,xn]=u.useState(""),[Ja,Yn]=u.useState(!1),[$n,Xt]=u.useState(!1),[Us,Fn]=u.useState(!1);u.useEffect(()=>{de(),ne()},[]),u.useEffect(()=>{(async()=>{try{const Z=(await Ln.getProvinces()).data||[];Y(Z),R(Z)}catch(I){console.error("Failed to fetch provinces:",I)}})()},[]),u.useEffect(()=>{if(!ie.trim()){Y(H);return}const N=H.filter(I=>I.name.toLowerCase().includes(ie.toLowerCase()));Y(N)},[ie,H]);const P=u.useMemo(()=>ct.trim()?H.filter(N=>N.name.toLowerCase().includes(ct.toLowerCase())):H,[ct,H]);u.useEffect(()=>{if(!X){ee([]),Me([]),oe(""),Re(null);return}(async()=>{ue(!0);try{const Z=(await Ln.getDistricts(X.id)).data||[];ee(Z),Me(Z),Re(null),oe(""),f(Se=>({...Se,location_id:""}))}catch(I){console.error("Failed to fetch districts:",I),ee([]),Me([])}finally{ue(!1)}})()},[X]),u.useEffect(()=>{(async()=>{try{const I=await yr.getCategories(),Se=((I==null?void 0:I.data)||[]).map(Pt=>typeof Pt=="string"?Pt:Pt.name||Pt);we(Se),ae(Se)}catch(I){console.error("Failed to fetch skill categories:",I),we([]),ae([])}})()},[]);const V=async N=>{if(!N){Ie([]),Ke([]);return}Qe(!0);try{const I=await yr.search({category:N,limit:500}),Z=(I==null?void 0:I.data)||[];Ie(Z),Ke(Z)}catch(I){console.error("Failed to fetch skills for category:",I),Ie([]),Ke([])}finally{Qe(!1)}};u.useEffect(()=>{if(!le){zn([]),In([]),xn(""),Us||gn(null);return}(async()=>{Xt(!0);try{const Z=(await Ln.getDistricts(le.id)).data||[];zn(Z),In(Z),Us||(gn(null),xn(""),j(Se=>({...Se,location_id:""})))}catch(I){console.error("Failed to fetch districts:",I),zn([]),In([])}finally{Xt(!1)}})()},[le,Us]),u.useEffect(()=>{if(!Be.trim()){ee(be);return}const N=be.filter(I=>I.name.toLowerCase().includes(Be.toLowerCase()));ee(N)},[Be,be]);const B=u.useMemo(()=>hs.trim()?an.filter(N=>N.name.toLowerCase().includes(hs.toLowerCase())):an,[hs,an]);u.useEffect(()=>{(async()=>{if(!(!(s!=null&&s.location_id)||s.location_id.trim()==="")&&!(le&&nt&&nt.id===s.location_id)){Fn(!0);try{const Z=(await Ln.getById(s.location_id)).data;if(!Z){Fn(!1);return}if(Z.parent_id){const Pt=(await Ln.getById(Z.parent_id)).data;Pt?(De(Pt),Ze(Pt.name),setTimeout(async()=>{try{const il=(await Ln.getDistricts(Pt.id)).data||[];zn(il),In(il);const zt=il.find(hg=>hg.id===s.location_id);zt&&(gn(zt),xn(zt.name))}finally{Fn(!1)}},300)):Fn(!1)}else De(Z),Ze(Z.name),Fn(!1)}catch(I){console.error("Failed to load location hierarchy:",I),Fn(!1)}}})()},[s==null?void 0:s.location_id]);const ne=async()=>{try{const N=await bt.getMe();l((N==null?void 0:N.data)||N)}catch(N){console.warn("Khng th ti thng tin ngi dng:",N==null?void 0:N.message)}},de=async()=>{o(!0),h("");try{const N=await bt.get(),I=N==null?void 0:N.data,Z={...s||{},...I||{},experiences:(I==null?void 0:I.experiences)??(s==null?void 0:s.experiences)??[],educations:(I==null?void 0:I.educations)??(s==null?void 0:s.educations)??[],skills:(I==null?void 0:I.skills)??(s==null?void 0:s.skills)??[],certifications:(I==null?void 0:I.certifications)??(s==null?void 0:s.certifications)??[],awards:(I==null?void 0:I.awards)??(s==null?void 0:s.awards)??[]};a(Z),j(Co(Z)),n(I?"update":"create")}catch(N){N.status===404?(a(null),n("create")):h(di(N,"Khng th ti d liu h s."))}finally{o(!1)}},Ne=N=>{const{name:I,value:Z}=N.target;f(Se=>({...Se,[I]:Z}))},Ce=N=>{const{name:I,value:Z}=N.target;j(Se=>({...Se,[I]:Z}))},ge=N=>{f(I=>({...I,desired_job_type:I.desired_job_type.includes(N)?I.desired_job_type.filter(Z=>Z!==N):[...I.desired_job_type,N]}))},ve=N=>{j(I=>({...I,desired_job_type:I.desired_job_type.includes(N)?I.desired_job_type.filter(Z=>Z!==N):[...I.desired_job_type,N]}))},fe=()=>f(N=>({...N,is_looking_for_job:!N.is_looking_for_job})),je=()=>j(N=>({...N,is_looking_for_job:!N.is_looking_for_job})),Ae=N=>{A(N),te(N.name),G(!1)},$e=N=>{Re(N),oe(N.name),J(!1),f(I=>({...I,location_id:N.id}))},_t=()=>{A(null),te(""),ee([]),Me([]),Re(null),oe(""),f(N=>({...N,location_id:""}))},D=()=>{Re(null),oe(""),f(N=>({...N,location_id:""}))},M=N=>{De(N),Ze(N.name),et(!1)},K=N=>{gn(N),xn(N.name),Yn(!1),j(I=>({...I,location_id:N.id}))},Le=()=>{De(null),Ze(""),zn([]),In([]),gn(null),xn(""),j(N=>({...N,location_id:""}))},_e=()=>{gn(null),xn(""),j(N=>({...N,location_id:""}))},xt=async N=>{N.preventDefault(),b({loading:!0,message:"",error:""});const I=Oh(v,Je,X);if(!I.full_name){b({loading:!1,message:"",error:"H tn l bt buc."});return}try{const Z=await bt.create(I),Se=Z==null?void 0:Z.data;b({loading:!1,message:" to h s thnh cng.",error:""}),a(Se),j(Co(Se)),n("update")}catch(Z){b({loading:!1,message:"",error:di(Z,"Khng th to h s.")})}},Oe=async N=>{N.preventDefault(),m({loading:!0,message:"",error:""}),console.log(" onUpdate - location debug:",{selectedProvinceUpdate:le,selectedDistrictUpdate:nt,formLocationId:x.location_id,profileLocationId:s==null?void 0:s.location_id});let I=Oh(x,nt,le);if(nt!=null&&nt.id&&(I.location_id=nt.id),Object.keys(I).length===0){m({loading:!1,message:"",error:"Hy thay i t nht mt trng trc khi cp nht."});return}try{await bt.update(I),m({loading:!1,message:" cp nht h s.",error:""}),await de()}catch(Z){m({loading:!1,message:"",error:di(Z,"Khng th cp nht h s.")})}},Xe=u.useMemo(()=>{if(!s)return null;const N=(s.desired_job_type||[]).map(Z=>{const Se=Vh.find(Pt=>Pt.value===Z);return Se?Se.label:Z}),I=Z=>!Z&&Z!==""?"":typeof Z=="string"?Z:Z&&typeof Z=="object"&&Z.name||String(Z);return{name:I(s.full_name),headline:I(s.headline),location:I(s.location_text),desiredJob:I(s.desired_job_title),phone:I(s.phone_number),website:I(s.personal_website),linkedin:I(s.linkedin_url),github:I(s.github_url),jobTypes:N,updatedAt:s.updated_at,looking:s.is_looking_for_job}},[s]),ut=!!(s!=null&&s.id),ze=u.useMemo(()=>s?ng(s):null,[s]),tt=u.useMemo(()=>({experiences:{key:"experiences",title:"Kinh nghim lm vic",description:"M t nhng cng vic quan trng bn  tham gia.",addLabel:"Thm kinh nghim",empty:ut?"Cha c kinh nghim no.":"Hy to h s trc.",disabled:!ut,idKey:"id",items:(s==null?void 0:s.experiences)||[],fields:[{name:"company_name",label:"Tn cng ty",type:"text",required:!0},{name:"position",label:"V tr",type:"text",required:!0},{name:"start_date",label:"Ngy bt u",type:"date",required:!0},{name:"end_date",label:"Ngy kt thc",type:"date"},{name:"is_current",label:"Hin ti ang lm",type:"checkbox"},{name:"description",label:"M t chi tit",type:"textarea"}],initialValues:{company_name:"",position:"",start_date:"",end_date:"",is_current:!1,description:""},toForm:N=>({company_name:(N==null?void 0:N.company_name)||"",position:(N==null?void 0:N.position)||"",start_date:N!=null&&N.start_date?N.start_date.slice(0,10):"",end_date:N!=null&&N.end_date?N.end_date.slice(0,10):"",is_current:!!(N!=null&&N.is_current),description:(N==null?void 0:N.description)||""}),toPayload:N=>{var I;return{company_name:N.company_name,position:N.position,start_date:N.start_date,end_date:N.is_current?void 0:N.end_date||void 0,is_current:!!N.is_current,description:((I=N.description)==null?void 0:I.trim())||void 0}},create:N=>bt.experiences.create(N),update:(N,I)=>bt.experiences.update(N,I),delete:N=>bt.experiences.delete(N),render:N=>({title:N.position,subtitle:N.company_name,meta:So(N.start_date,N.end_date,N.is_current),description:N.description})},educations:{key:"educations",title:"Hc vn",description:"Chia s qu trnh hc tp v cc bng cp.",addLabel:"Thm hc vn",empty:ut?"Cha c hc vn no.":"Hy to h s trc.",disabled:!ut,idKey:"id",items:(s==null?void 0:s.educations)||[],fields:[{name:"school_name",label:"Trng / T chc",type:"text",required:!0},{name:"degree",label:"Bng cp",type:"text"},{name:"field_of_study",label:"Chuyn ngnh",type:"text"},{name:"start_date",label:"Ngy bt u",type:"date",required:!0},{name:"end_date",label:"Ngy kt thc",type:"date"}],initialValues:{school_name:"",degree:"",field_of_study:"",start_date:"",end_date:""},toForm:N=>({school_name:(N==null?void 0:N.school_name)||"",degree:(N==null?void 0:N.degree)||"",field_of_study:(N==null?void 0:N.field_of_study)||"",start_date:N!=null&&N.start_date?N.start_date.slice(0,10):"",end_date:N!=null&&N.end_date?N.end_date.slice(0,10):""}),toPayload:N=>{var I,Z;return{school_name:N.school_name,degree:((I=N.degree)==null?void 0:I.trim())||void 0,field_of_study:((Z=N.field_of_study)==null?void 0:Z.trim())||void 0,start_date:N.start_date,end_date:N.end_date||void 0}},create:N=>bt.educations.create(N),update:(N,I)=>bt.educations.update(N,I),delete:N=>bt.educations.delete(N),render:N=>({title:N.school_name,subtitle:N.degree||N.field_of_study,meta:So(N.start_date,N.end_date,!1),description:N.field_of_study?`Chuyn ngnh: ${N.field_of_study}`:""})},skills:{key:"skills",title:"K nng",description:"Th hin cc k nng ni bt nht ca bn.",addLabel:"Thm k nng",empty:ut?"Cha c k nng no.":"Hy to h s trc.",disabled:!ut,idKey:"skill_id",items:(s==null?void 0:s.skills)||[],fields:[{name:"level",label:"Cp ",type:"select",options:Bh},{name:"proficiency",label:"im thnh tho (1-5)",type:"number",min:1,max:5}],initialValues:{skill_id:"",skill_name:"",category:"",level:"",proficiency:""},toForm:N=>{var I,Z;return{skill_id:(N==null?void 0:N.skill_id)||(N==null?void 0:N.id)||"",skill_name:((I=N==null?void 0:N.skills)==null?void 0:I.name)||(N==null?void 0:N.name)||"",category:((Z=N==null?void 0:N.skills)==null?void 0:Z.category)||"",level:(N==null?void 0:N.level)||"",proficiency:(N==null?void 0:N.proficiency)??""}},toPayload:N=>{const I={};return N.skill_id&&(I.skill_id=N.skill_id),N.level&&(I.level=N.level),N.proficiency!==void 0&&N.proficiency!==""&&(I.proficiency=Number(N.proficiency)),I},create:N=>bt.skills.create(N),update:(N,I)=>bt.skills.update(N,I),delete:N=>bt.skills.delete(N),render:N=>{const I=N.skills||N,Z=(I==null?void 0:I.name)||"K nng",Se=I==null?void 0:I.category,Pt=typeof Se=="string"?Se:Se&&Se.name||"",al=[N.level&&N.level.toUpperCase(),N.proficiency&&`im ${N.proficiency}`].filter(Boolean).join("  ");return{title:Z,subtitle:Pt,meta:al}}},certifications:{key:"certifications",title:"Chng ch",description:"Gii thiu cc chng ch gip bn ni bt hn.",addLabel:"Thm chng ch",empty:ut?"Cha c chng ch no.":"Hy to h s trc.",disabled:!ut,idKey:"id",items:(s==null?void 0:s.certifications)||[],fields:[{name:"name",label:"Tn chng ch",type:"text",required:!0},{name:"issuing_org",label:"T chc cp",type:"text",required:!0},{name:"credential_id",label:"M chng ch",type:"text"},{name:"credential_url",label:"Lin kt",type:"text"},{name:"issue_date",label:"Ngy cp",type:"date",required:!0},{name:"expiry_date",label:"Ngy ht hn",type:"date"},{name:"never_expires",label:"Khng ht hn",type:"checkbox"},{name:"description",label:"M t",type:"textarea"},{name:"skills_acquired",label:"K nng t c",type:"textarea"}],initialValues:{name:"",issuing_org:"",credential_id:"",credential_url:"",issue_date:"",expiry_date:"",never_expires:!1,description:"",skills_acquired:""},toForm:N=>({name:(N==null?void 0:N.name)||"",issuing_org:(N==null?void 0:N.issuing_org)||"",credential_id:(N==null?void 0:N.credential_id)||"",credential_url:(N==null?void 0:N.credential_url)||"",issue_date:N!=null&&N.issue_date?N.issue_date.slice(0,10):"",expiry_date:N!=null&&N.expiry_date?N.expiry_date.slice(0,10):"",never_expires:!!(N!=null&&N.never_expires),description:(N==null?void 0:N.description)||"",skills_acquired:(N==null?void 0:N.skills_acquired)||""}),toPayload:N=>{var I,Z,Se,Pt;return{name:N.name,issuing_org:N.issuing_org,credential_id:((I=N.credential_id)==null?void 0:I.trim())||void 0,credential_url:((Z=N.credential_url)==null?void 0:Z.trim())||void 0,issue_date:N.issue_date,expiry_date:N.never_expires?void 0:N.expiry_date||void 0,never_expires:!!N.never_expires,description:((Se=N.description)==null?void 0:Se.trim())||void 0,skills_acquired:((Pt=N.skills_acquired)==null?void 0:Pt.trim())||void 0}},create:N=>bt.certifications.create(N),update:(N,I)=>bt.certifications.update(N,I),delete:N=>bt.certifications.delete(N),render:N=>({title:N.name,subtitle:N.issuing_org,meta:So(N.issue_date,N.expiry_date,N.never_expires),description:N.description})},awards:{key:"awards",title:"Gii thng",description:"Chia s cc thnh tu ni bt ca bn.",addLabel:"Thm gii thng",empty:ut?"Cha c gii thng no.":"Hy to h s trc.",disabled:!ut,idKey:"id",items:(s==null?void 0:s.awards)||[],fields:[{name:"title",label:"Tn gii thng",type:"text",required:!0},{name:"issuer",label:"n v trao tng",type:"text",required:!0},{name:"date",label:"Ngy nhn",type:"date",required:!0},{name:"category",label:"Danh mc",type:"select",options:A0},{name:"level",label:"Cp ",type:"select",options:z0},{name:"url",label:"Lin kt",type:"text"},{name:"description",label:"M t",type:"textarea"}],initialValues:{title:"",issuer:"",date:"",category:"",level:"",url:"",description:""},toForm:N=>({title:(N==null?void 0:N.title)||"",issuer:(N==null?void 0:N.issuer)||"",date:N!=null&&N.date?N.date.slice(0,10):"",category:(N==null?void 0:N.category)||"",level:(N==null?void 0:N.level)||"",url:(N==null?void 0:N.url)||"",description:(N==null?void 0:N.description)||""}),toPayload:N=>{var I,Z;return{title:N.title,issuer:N.issuer,date:N.date,category:N.category||void 0,level:N.level||void 0,url:((I=N.url)==null?void 0:I.trim())||void 0,description:((Z=N.description)==null?void 0:Z.trim())||void 0}},create:N=>bt.awards.create(N),update:(N,I)=>bt.awards.update(N,I),delete:N=>bt.awards.delete(N),render:N=>({title:N.title,subtitle:N.issuer,meta:Bc(N.date),description:N.description})}}),[s,ut]),ln=(N,I=null)=>{const Z=tt[N];!Z||Z.disabled||(p({type:N,mode:I?"edit":"create",record:I}),S(I?Z.toForm(I):Z.initialValues),k(""))},Ue=()=>{p({type:"",mode:"create",record:null}),S({}),k(""),T(!1)},rt=(N,I)=>{const Z=N.type==="checkbox"?I.target.checked:I.target.value;S(Se=>({...Se,[N.name]:Z}))},ms=async N=>{N.preventDefault();const I=tt[d.type];if(I){T(!0),k("");try{const Z=I.toPayload(y);d.mode==="edit"?await I.update(d.record[I.idKey],Z):await I.create(Z),await de(),Ue()}catch(Z){k(di(Z,"Khng th lu d liu."))}finally{T(!1)}}},Hs=async(N,I)=>{const Z=tt[N];if(!(!Z||Z.disabled||!I)&&window.confirm("Bn chc chn mun xa mc ny?"))try{await Z.delete(I[Z.idKey]),await de()}catch(Se){alert(di(Se,"Khng th xa mc ny."))}},Nt=()=>{var N;return(N=z.current)==null?void 0:N.click()},ps=async N=>{var Z;const I=(Z=N.target.files)==null?void 0:Z[0];if(I){O(""),$(!0);try{await P0.uploadAvatar(I),await Promise.all([de(),ne()])}catch(Se){O((Se==null?void 0:Se.message)||"Khng th ti nh i din.")}finally{$(!1),N.target.value=""}}},nl=(N,I)=>t.jsx("div",{className:"job-type-chooser",children:Vh.map(Z=>{const Se=N.desired_job_type.includes(Z.value);return t.jsxs("label",{className:`job-type-chip${Se?" checked":""}`,children:[t.jsx("input",{type:"checkbox",checked:Se,onChange:()=>I(Z.value)}),Z.label]},Z.value)})}),sl=(N,I,Z,Se,Pt,al)=>[{key:"basic",title:"Thng tin c bn",description:"H tn, headline v cc thng tin nhn din chnh.",content:t.jsxs("div",{className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"H tn *"}),t.jsx("input",{name:"full_name",value:N.full_name,onChange:I,placeholder:"Nguyn Vn A",required:Pt})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tn hin th"}),t.jsx("input",{name:"display_name",value:N.display_name,onChange:I,placeholder:"Andy Nguyen"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Headline"}),t.jsx("input",{name:"headline",value:N.headline,onChange:I,placeholder:"Senior Frontend Engineer"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ngy sinh"}),t.jsx("input",{type:"date",name:"date_of_birth",value:N.date_of_birth,onChange:I})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Gii tnh"}),t.jsxs("select",{name:"gender",value:N.gender,onChange:I,children:[t.jsx("option",{value:"",children:"Chn"}),M0.map(zt=>t.jsx("option",{value:zt.value,children:zt.label},zt.value))]})]})]})},{key:"contact",title:"Lin h",description:"Thng tin gip nh tuyn dng d dng kt ni.",content:t.jsxs("div",{className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"S in thoi"}),t.jsx("input",{name:"phone_number",value:N.phone_number,onChange:I,placeholder:"+84 912 xxx xxx"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Website c nhn"}),t.jsx("input",{name:"personal_website",value:N.personal_website,onChange:I,placeholder:"https://me.com"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"LinkedIn"}),t.jsx("input",{name:"linkedin_url",value:N.linkedin_url,onChange:I,placeholder:"https://linkedin.com/in/..."})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"GitHub"}),t.jsx("input",{name:"github_url",value:N.github_url,onChange:I,placeholder:"https://github.com/..."})]})]})},{key:"location",title:"Khu vc",description:"Ni bn ang sinh sng hoc mong mun lm vic.",content:al},{key:"experience",title:"Kinh nghim",description:"Tm tt qu trnh lm vic ca bn.",content:t.jsxs("div",{className:"form-grid",children:[t.jsxs("label",{className:"field field-span",children:[t.jsx("span",{children:"Bio"}),t.jsx("textarea",{name:"bio",rows:4,value:N.bio,onChange:I,placeholder:"Gii thiu ngn..."})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"S nm kinh nghim"}),t.jsx("input",{type:"number",name:"years_of_experience",min:"0",max:"50",value:N.years_of_experience,onChange:I})]})]})},{key:"preferences",title:"Mong mun cng vic",description:"Thng tin gip h thng gi  vic ph hp.",modifier:"compact",content:t.jsx(t.Fragment,{children:t.jsxs("div",{className:"preferences-grid",children:[t.jsxs("div",{className:"form-grid preference-fields",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Chc danh mong mun"}),t.jsx("input",{name:"desired_job_title",value:N.desired_job_title,onChange:I,placeholder:"Product Designer"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Mc lng ti thiu"}),t.jsx("input",{type:"number",name:"desired_salary_min",min:"0",value:N.desired_salary_min,onChange:I,placeholder:"VD: 20000000"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Loi tin t"}),t.jsx("select",{name:"desired_currency",value:N.desired_currency,onChange:I,children:R0.map(zt=>t.jsx("option",{value:zt,children:zt},zt))})]})]}),t.jsxs("div",{className:"preferences-secondary",children:[t.jsxs("div",{className:"chips-field-card",children:[t.jsxs("div",{className:"field-heading",children:[t.jsx("span",{children:"Loi cng vic"}),t.jsx("p",{className:"field-description",children:"Bn c th chn nhiu loi ph hp vi mnh."})]}),nl(N,Z)]}),t.jsxs("div",{className:"toggle-field-card",children:[t.jsxs("div",{className:"toggle-copy",children:[t.jsx("span",{children:"ang tm kim c hi mi"}),t.jsx("p",{className:"field-description",children:"Bt trng thi ny  c gi  v u tin cao hn."})]}),t.jsxs("div",{className:"toggle-control",children:[t.jsx("input",{type:"checkbox",checked:N.is_looking_for_job,onChange:Se}),t.jsx("span",{className:"toggle-switch","aria-hidden":"true"})]})]})]})]})})}].map(zt=>t.jsx($0,{title:zt.title,description:zt.description,modifier:zt.modifier,children:zt.content},zt.key));return t.jsxs(t.Fragment,{children:[t.jsxs("section",{className:"section profile-page",children:[t.jsxs("div",{className:"card profile-hero",children:[t.jsx("div",{className:"profile-hero__badge",children:"H s ng vin"}),t.jsx("div",{className:"profile-hero__content",children:t.jsxs("div",{children:[t.jsx("h2",{className:"profile-hero__title",children:"Ti u h s  ni bt trc nh tuyn dng"}),t.jsx("p",{className:"profile-hero__subtitle",children:"To h s JobFinder  ng tuyn nhanh, theo di trng thi v c u tin trong kt qu tm kim."})]})})]}),c&&t.jsx("div",{className:"error-banner profile-banner",children:c}),s&&ze&&t.jsxs("div",{className:"card profile-completion",children:[t.jsxs("div",{className:"profile-completion__header",children:[t.jsx("h3",{className:"profile-completion__title",children:"Mc  hon thnh h s"}),t.jsxs("div",{className:`profile-completion__percentage ${ze.isComplete?"profile-completion__percentage--complete":""}`,children:[ze.percentage,"%"]})]}),t.jsx("div",{className:"profile-completion__progress",children:t.jsx("div",{className:`profile-completion__progress-bar ${ze.isComplete?"profile-completion__progress-bar--complete":ze.percentage>=50?"profile-completion__progress-bar--warning":"profile-completion__progress-bar--danger"}`,style:{width:`${ze.percentage}%`}})}),!ze.isComplete&&ze.missingItems.length>0&&t.jsxs("div",{className:"profile-completion__missing",children:[t.jsx("p",{className:"profile-completion__missing-title",children:"Cn hon thnh:"}),t.jsx("ul",{className:"profile-completion__missing-list",children:ze.missingItems.map((N,I)=>t.jsx("li",{children:N},I))})]}),ze.isComplete&&t.jsx("div",{className:"profile-completion__success",children:"H s ca bn  hon thnh! Bn c th to CV t h s ny."})]}),t.jsxs("div",{className:"profile-grid",children:[t.jsxs("div",{className:"card profile-form-card",children:[t.jsxs("div",{className:"profile-tabs",children:[t.jsx("button",{type:"button",className:`profile-tab${e==="create"?" active":""}`,onClick:()=>n("create"),children:"To h s"}),t.jsx("button",{type:"button",className:`profile-tab${e==="update"?" active":""}`,onClick:()=>s&&n("update"),disabled:!s,children:"Cp nht"})]}),t.jsxs("div",{className:"profile-form-wrapper",children:[e==="create"&&t.jsxs("form",{onSubmit:xt,className:"profile-form",children:[sl(v,Ne,ge,fe,!0,t.jsxs("div",{className:"form-grid location-cascading",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tnh/Thnh ph"}),X?t.jsxs("div",{className:"selected-location-item",children:[t.jsx("span",{children:X.name}),t.jsx("button",{type:"button",onClick:_t,className:"clear-btn",children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"text",value:ie,onChange:N=>{te(N.target.value),G(!0)},onFocus:()=>{G(!0),!ie.trim()&&H.length>0&&Y(H)},onBlur:()=>{setTimeout(()=>G(!1),150)},placeholder:"Tm kim tnh/thnh ph...",style:{flex:1}}),t.jsx("button",{type:"button",className:"btn ghost",onMouseDown:N=>{N.preventDefault(),G(I=>{const Z=!I;return Z&&(!re||re.length===0)&&H.length>0&&Y(H),Z})},"aria-label":"Chn tnh/thnh ph",children:""})]}),pe&&re.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:N=>N.preventDefault(),children:re.map(N=>t.jsx("div",{className:"autocomplete-item",onMouseDown:I=>{I.preventDefault(),Ae(N)},children:N.name},N.id))})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Qun/Huyn"}),Je?t.jsxs("div",{className:"selected-location-item",children:[t.jsx("span",{children:Je.name}),t.jsx("button",{type:"button",onClick:D,className:"clear-btn",children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:Be,onChange:N=>{oe(N.target.value),X&&J(!0)},onFocus:()=>{X&&(J(!0),!Be.trim()&&be.length>0&&ee(be))},onBlur:()=>{setTimeout(()=>J(!1),150)},placeholder:Q?"ang ti...":X?"Tm kim qun/huyn...":"Chn tnh/thnh ph trc",disabled:!X||Q,title:X?"":"Chn tnh/thnh ph trc"}),E&&X&&!Q&&q.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:N=>N.preventDefault(),children:q.map(N=>t.jsx("div",{className:"autocomplete-item",onMouseDown:I=>{I.preventDefault(),$e(N)},children:N.name},N.id))})]})]})]})),t.jsx(Uh,{state:_}),t.jsxs("div",{className:"profile-actions",children:[t.jsx("button",{type:"submit",className:"btn primary large",disabled:_.loading,children:_.loading?"ang to...":"To h s"}),t.jsx("button",{type:"button",className:"btn ghost",onClick:()=>f(Bl()),children:"Xa thng tin"})]})]}),e==="update"&&t.jsx("form",{onSubmit:Oe,className:"profile-form",children:s?t.jsxs(t.Fragment,{children:[sl(x,Ce,ve,je,!1,t.jsxs("div",{className:"form-grid location-cascading",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tnh/Thnh ph"}),le?t.jsxs("div",{className:"selected-location-item",children:[t.jsx("span",{children:le.name}),t.jsx("button",{type:"button",onClick:Le,className:"clear-btn",children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"text",value:ct,onChange:N=>{Ze(N.target.value),et(!0)},onFocus:()=>{et(!0)},onBlur:()=>{setTimeout(()=>et(!1),150)},placeholder:"Tm kim tnh/thnh ph...",style:{flex:1}}),t.jsx("button",{type:"button",className:"btn ghost",onMouseDown:N=>{N.preventDefault(),et(I=>!I)},"aria-label":"Chn tnh/thnh ph",children:""})]}),U&&P.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:N=>N.preventDefault(),children:P.map(N=>t.jsx("div",{className:"autocomplete-item",onMouseDown:I=>{I.preventDefault(),M(N)},children:N.name},N.id))})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Qun/Huyn"}),nt?t.jsxs("div",{className:"selected-location-item",children:[t.jsx("span",{children:nt.name}),t.jsx("button",{type:"button",onClick:_e,className:"clear-btn",children:""})]}):t.jsxs("div",{className:"autocomplete-wrapper",children:[t.jsx("input",{type:"text",value:hs,onChange:N=>{xn(N.target.value),le&&Yn(!0)},onFocus:()=>{le&&Yn(!0)},onBlur:()=>{setTimeout(()=>Yn(!1),150)},placeholder:$n?"ang ti...":le?"Tm kim qun/huyn...":"Chn tnh/thnh ph trc",disabled:!le||$n,title:le?"":"Chn tnh/thnh ph trc"}),Ja&&le&&!$n&&B.length>0&&t.jsx("div",{className:"autocomplete-dropdown",onMouseDown:N=>N.preventDefault(),children:B.map(N=>t.jsx("div",{className:"autocomplete-item",onMouseDown:I=>{I.preventDefault(),K(N)},children:N.name},N.id))})]})]})]})),t.jsx(Uh,{state:g}),t.jsxs("div",{className:"profile-actions",children:[t.jsx("button",{type:"submit",className:"btn primary large",disabled:g.loading,children:g.loading?"ang lu...":"Lu thay i"}),t.jsx("button",{type:"button",className:"btn ghost",onClick:()=>j(Co(s)),children:"Khi phc d liu"})]})]}):t.jsx("div",{className:"muted empty-copy",children:"Bn cha c h s, hy to mi trc."})})]})]}),t.jsxs("aside",{className:"card profile-summary",children:[t.jsx("h3",{className:"profile-summary__title",children:"Tm tt"}),Xe?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"profile-summary__hero",children:t.jsxs("div",{className:"profile-summary__avatar-wrapper",children:[t.jsx("div",{className:"profile-summary__avatar",children:(Hd=i==null?void 0:i.profile)!=null&&Hd.avatar_url?t.jsx("img",{src:i.profile.avatar_url,alt:Xe.name||"Avatar"}):t.jsx("span",{children:(Xe.name||"A").charAt(0)})}),t.jsxs("div",{className:"profile-summary__hero-info",children:[t.jsx("div",{className:"profile-summary__badge",children:"ng vin"}),t.jsxs("div",{children:[t.jsx("div",{className:"profile-summary__name",children:Xe.name||"Cha c tn"}),t.jsx("div",{className:"profile-summary__headline",children:Xe.headline||"Cha cp nht headline"})]}),t.jsxs("div",{className:"profile-summary__upload",children:[t.jsx("button",{type:"button",className:"btn ghost",onClick:Nt,disabled:se,children:se?"ang ti...":"i nh i din"}),t.jsx("input",{ref:z,type:"file",accept:"image/*",style:{display:"none"},onChange:ps}),L&&t.jsx("span",{className:"profile-summary__upload-error",children:L})]})]})]})}),t.jsxs("div",{className:"profile-summary__list",children:[t.jsx(xs,{icon:"",label:"V tr mong mun",value:Xe.desiredJob||"Cha c"}),t.jsx(xs,{icon:"",label:"Khu vc",value:Xe.location||"Cha c"}),t.jsx(xs,{icon:"",label:"in thoi",value:Xe.phone||"Cha cp nht"}),t.jsx(xs,{icon:"",label:"Website",value:Xe.website||"-"}),t.jsx(xs,{icon:"in",label:"LinkedIn",value:Xe.linkedin||"-"}),t.jsx(xs,{icon:"",label:"GitHub",value:Xe.github||"-"}),t.jsx(xs,{icon:"",label:"Loi cng vic",value:Xe.jobTypes.length?t.jsx("div",{className:"profile-summary__chips",children:Xe.jobTypes.map(N=>t.jsx("span",{className:"summary-chip",children:N},N))}):"Cha chn"}),t.jsx(xs,{icon:"",label:"Trng thi tm vic",value:t.jsx("span",{className:`summary-chip ${Xe.looking?"active":"inactive"}`,children:Xe.looking?"ang tm vic":"Khng tm vic"})})]}),t.jsx("div",{className:"profile-summary__footer",children:Xe.updatedAt?`Cp nht ln cui: ${new Date(Xe.updatedAt).toLocaleString("vi-VN")}`:"Cha tng cp nht"})]}):t.jsx("div",{className:"muted",children:"H s cha sn sng. Hy to h s  JobFinder gi  vic lm tt hn."})]})]}),t.jsx("div",{className:"profile-entities",children:Object.entries(tt).map(([N,I])=>t.jsx(F0,{definition:I,onAdd:()=>ln(N),onEdit:Z=>ln(N,Z),onDelete:Z=>Hs(N,Z)},N))})]}),t.jsx(Rn,{open:!!d.type,onClose:Ue,children:d.type&&t.jsxs("form",{className:"entity-form",onSubmit:ms,children:[t.jsxs("h3",{style:{marginTop:0},children:[d.mode==="edit"?"Chnh sa":"Thm mi"," ",(Kd=tt[d.type])==null?void 0:Kd.title.toLowerCase()]}),t.jsx("p",{className:"muted small",style:{marginBottom:16},children:(Wd=tt[d.type])==null?void 0:Wd.description}),t.jsx("div",{className:"entity-form__grid",children:d.type==="skills"?t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:"Danh mc k nng"}),t.jsxs("select",{name:"category",value:y.category||"",onChange:N=>{const I=N.target.value;S(Z=>({...Z,category:I,skill_id:"",skill_name:""})),V(I)},required:!0,children:[t.jsx("option",{value:"",children:"Chn danh mc..."}),Te.map((N,I)=>t.jsx("option",{value:N,children:N},I))]})]}),t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:"K nng"}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{type:"text",value:Ye||y.skill_name||"",onChange:N=>{const I=N.target.value;F(I),ye(!0),I.trim()?Ie(it.filter(Z=>Z.name.toLowerCase().includes(I.toLowerCase()))):Ie(it)},onFocus:()=>{y.category&&(ye(!0),!Ye.trim()&&it.length>0&&Ie(it))},onBlur:()=>setTimeout(()=>ye(!1),150),placeholder:ke?"ang ti...":y.category?"Tm hoc chn k nng...":"Chn danh mc trc",disabled:!y.category||ke,required:!0}),he&&y.category&&!ke&&Ee.length>0&&t.jsx("div",{className:"autocomplete-dropdown",style:{position:"absolute",zIndex:30},onMouseDown:N=>N.preventDefault(),children:Ee.map(N=>t.jsxs("div",{className:"autocomplete-item",onMouseDown:I=>{I.preventDefault(),S(Z=>({...Z,skill_id:N.id,skill_name:N.name})),F(N.name),ye(!1)},children:[N.name,N.category?` (${N.category})`:""]},N.id))})]})]}),t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:" thnh tho (1-5)"}),t.jsx("input",{type:"number",name:"proficiency",min:"1",max:"5",value:y.proficiency??"",onChange:N=>S(I=>({...I,proficiency:N.target.value?Number(N.target.value):""})),required:!0}),t.jsx("small",{className:"muted",children:"1 (thp) - 5 (cao)"})]}),t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:"Cp "}),t.jsxs("select",{name:"level",value:y.level||"",onChange:N=>S(I=>({...I,level:N.target.value})),children:[t.jsx("option",{value:"",children:"Chn cp "}),Bh.map(N=>t.jsx("option",{value:N.value,children:N.label},N.value))]})]})]}):(qd=tt[d.type])==null?void 0:qd.fields.map(N=>{const I=y[N.name]??(N.type==="checkbox"?!1:""),Z=N.disableOnEdit&&d.mode==="edit"||N.name==="expiry_date"&&y.never_expires;return N.type==="textarea"?t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:N.label}),t.jsx("textarea",{name:N.name,rows:4,value:I,onChange:Se=>rt(N,Se),placeholder:N.placeholder,disabled:Z,required:N.required})]},N.name):N.type==="select"?t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:N.label}),t.jsxs("select",{name:N.name,value:I,onChange:Se=>rt(N,Se),disabled:Z,required:N.required,children:[t.jsx("option",{value:"",children:"Chn"}),(N.options||[]).map(Se=>t.jsx("option",{value:Se.value,children:Se.label},Se.value))]})]},N.name):N.type==="checkbox"?t.jsxs("label",{className:"entity-field checkbox-field",children:[t.jsx("input",{type:"checkbox",name:N.name,checked:!!I,onChange:Se=>rt(N,Se),disabled:Z}),t.jsx("span",{children:N.label})]},N.name):t.jsxs("label",{className:"entity-field",children:[t.jsx("span",{children:N.label}),t.jsx("input",{type:N.type||"text",name:N.name,value:I,onChange:Se=>rt(N,Se),placeholder:N.placeholder,disabled:Z,required:N.required,min:N.min,max:N.max})]},N.name)})}),w&&t.jsx("div",{className:"error-banner",children:w}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"btn",onClick:Ue,children:"Hy"}),t.jsx("button",{type:"submit",className:"btn primary",disabled:C,children:C?"ang lu...":"Lu thng tin"})]})]})})]})}function xs({icon:e,label:n,value:s}){return t.jsxs("div",{className:"summary-row",children:[t.jsx("div",{className:"summary-row__icon",children:e}),t.jsxs("div",{className:"summary-row__body",children:[t.jsx("div",{className:"summary-row__label",children:n}),t.jsx("div",{className:"summary-row__value",children:s})]})]})}function Uh({state:e}){if(!(e!=null&&e.error)&&!(e!=null&&e.message))return null;const n=e.error||e.message,s=e.error?"error-banner":"success-banner";return t.jsx("div",{className:`${s} profile-banner`,children:n})}function $0({title:e,description:n,children:s,modifier:a}){return t.jsxs("div",{className:`profile-section-card${a?` profile-section-card--${a}`:""}`,children:[t.jsx("div",{className:"profile-section-card__head",children:t.jsxs("div",{children:[t.jsx("div",{className:"profile-section-card__title",children:e}),n&&t.jsx("p",{className:"muted small",children:n})]})}),t.jsx("div",{className:"profile-section-card__body",children:s})]})}function F0({definition:e,onAdd:n,onEdit:s,onDelete:a}){return t.jsxs("div",{className:"profile-entity card",children:[t.jsxs("div",{className:"profile-entity__head",children:[t.jsxs("div",{children:[t.jsx("h3",{children:e.title}),t.jsx("p",{className:"muted small",children:e.description})]}),t.jsx("button",{className:"btn ghost",onClick:n,disabled:e.disabled,children:e.addLabel})]}),e.items.length?t.jsx("div",{className:"profile-entity__list",children:e.items.map(i=>{const l=e.render(i),r=i[e.idKey]??i.id;return t.jsxs("article",{className:"profile-entity__item",children:[t.jsxs("div",{children:[t.jsx("div",{className:"profile-entity__title",children:l.title||"-"}),l.subtitle&&t.jsx("div",{className:"profile-entity__subtitle",children:l.subtitle}),l.meta&&t.jsx("div",{className:"profile-entity__meta",children:l.meta}),l.description&&t.jsx("p",{className:"profile-entity__description",children:l.description})]}),t.jsxs("div",{className:"profile-entity__actions",children:[t.jsx("button",{className:"btn ghost",onClick:()=>s(i),children:"Chnh sa"}),t.jsx("button",{className:"btn danger",onClick:()=>a(i),children:"Xa"})]})]},r)})}):t.jsx("div",{className:"empty-copy",children:e.empty})]})}const To=20,V0=[{value:"",label:"Tt c"},{value:"draft",label:"Nhp"},{value:"approved",label:" duyt"},{value:"closed",label:" ng"}],Hh={full_time:"Ton thi gian",part_time:"Bn thi gian",contract:"Hp ng"},Kh={draft:"Nhp",approved:" duyt",closed:" ng"};function Eo(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"--"}}function B0(){const e=He(),[n,s]=u.useState([]),[a,i]=u.useState(!0),[l,r]=u.useState(null),[o,c]=u.useState(1),[h,v]=u.useState(""),[f,x]=u.useState(""),[j,_]=u.useState("table"),[b,g]=u.useState([]),[m,d]=u.useState(!1),[p,y]=u.useState({page:1,limit:To,total:0,total_pages:1}),S=u.useCallback(async()=>{i(!0),r(null);try{const z={page:o,limit:To,status:h||void 0,search:f||void 0},re=await Tt.myJobs(z),Y=(re==null?void 0:re.data)||re||[],H=(re==null?void 0:re.pagination)||{page:o,limit:To,total:Y.length,total_pages:1};s(Y),y(H)}catch(z){console.error("Failed to fetch jobs:",z),r((z==null?void 0:z.message)||"Khng th ti danh sch vic lm. Vui lng th li."),(z==null?void 0:z.status)===401&&e("/login?role=recruiter&redirect="+encodeURIComponent(window.location.pathname))}finally{i(!1)}},[o,h,f,e]);u.useEffect(()=>{S()},[S]);const w=z=>{v(z),c(1)},k=z=>{e(`/recruiter/jobs/${z}/manage`)},C=async(z,re)=>{if(confirm(`Bn c chc chn mun xa tin tuyn dng "${re}"?`))try{await Tt.delete(z),alert(" xa tin tuyn dng thnh cng."),S()}catch(Y){alert((Y==null?void 0:Y.message)||"Khng th xa tin tuyn dng. Vui lng th li.")}},T=async(z,re)=>{const Y=re==="approved"?"closed":"approved";try{await Tt.updateStatus(z,Y),S(),g([])}catch(H){alert((H==null?void 0:H.message)||"Khng th thay i trng thi. Vui lng th li.")}},L=z=>{g(re=>re.includes(z)?re.filter(Y=>Y!==z):[...re,z])},O=()=>{b.length===n.length?g([]):g(n.map(z=>z.id))},se=async()=>{try{await Promise.all(b.map(z=>Tt.delete(z))),S(),g([]),d(!1)}catch(z){alert((z==null?void 0:z.message)||"Khng th xa mt s tin tuyn dng. Vui lng th li.")}},$=async z=>{try{await Promise.all(b.map(re=>Tt.updateStatus(re,z))),S(),g([])}catch(re){alert((re==null?void 0:re.message)||"Khng th thay i trng thi. Vui lng th li.")}};return t.jsxs("div",{className:"section my-jobs-page",children:[t.jsxs("div",{className:"my-jobs-header",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"my-jobs-title",children:"Qun l tin tuyn dng"}),t.jsx("p",{className:"my-jobs-subtitle",children:"Qun l v theo di tt c tin tuyn dng ca bn"})]}),t.jsx(me,{variant:"primary",onClick:z=>{z.preventDefault(),z.stopPropagation(),window.location.href="/post-job"},icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),children:"ng tin mi"})]}),t.jsxs(Ge,{padding:"medium",className:"my-jobs-filters",children:[t.jsxs("div",{className:"filters-row",children:[t.jsx("div",{className:"search-wrapper",children:t.jsx(Kn,{placeholder:"Tm kim theo tiu ...",value:f,onChange:z=>{x(z.target.value),c(1)},icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"M21 21l-4.35-4.35"})]})})}),t.jsx("div",{className:"filter-chips",children:V0.map(z=>t.jsx("button",{className:`filter-chip ${h===z.value?"active":""}`,onClick:()=>w(z.value),children:z.label},z.value))}),t.jsxs("div",{className:"view-toggle",children:[t.jsx("button",{className:`view-toggle-btn ${j==="table"?"active":""}`,onClick:()=>_("table"),title:"Xem dng bng",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"})})}),t.jsx("button",{className:`view-toggle-btn ${j==="card"?"active":""}`,onClick:()=>_("card"),title:"Xem dng th",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})})]})]}),b.length>0&&t.jsxs("div",{className:"bulk-actions",children:[t.jsxs("span",{className:"bulk-actions-label",children:[" chn ",b.length," tin"]}),t.jsxs("div",{className:"bulk-actions-buttons",children:[t.jsx(me,{variant:"outline",size:"small",onClick:()=>$("approved"),children:"M tt c"}),t.jsx(me,{variant:"outline",size:"small",onClick:()=>$("closed"),children:"ng tt c"}),t.jsx(me,{variant:"danger",size:"small",onClick:()=>d(!0),children:"Xa  chn"}),t.jsx(me,{variant:"ghost",size:"small",onClick:()=>g([]),children:"B chn"})]})]})]}),a&&t.jsx("div",{className:"card",style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"ang ti..."})}),l&&t.jsxs("div",{className:"card",style:{padding:"20px",background:"#fee",border:"1px solid #fcc"},children:[t.jsx("p",{style:{color:"#c00",margin:0},children:l}),t.jsx("button",{className:"btn",onClick:S,style:{marginTop:"12px"},children:"Th li"})]}),!a&&!l&&n.length===0&&t.jsx(Ge,{padding:"large",className:"empty-state-card",children:t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.3},children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),t.jsx("h3",{className:"empty-state-title",children:"Cha c tin tuyn dng no"}),t.jsx("p",{className:"empty-state-description",children:"Bt u bng cch ng tin tuyn dng u tin ca bn"}),t.jsx(me,{variant:"primary",onClick:z=>{z.preventDefault(),window.location.href="/post-job"},icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),children:"ng tin u tin"})]})}),!a&&!l&&n.length>0&&t.jsxs(t.Fragment,{children:[j==="table"?t.jsx("div",{className:"jobs-table-wrapper",children:t.jsxs("table",{className:"jobs-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"40px"},children:t.jsx("input",{type:"checkbox",checked:b.length===n.length&&n.length>0,onChange:O})}),t.jsx("th",{children:"Tiu "}),t.jsx("th",{children:"Trng thi"}),t.jsx("th",{children:"Loi"}),t.jsx("th",{children:"a im"}),t.jsx("th",{children:"ng ngy"}),t.jsx("th",{children:"Ht hn"}),t.jsx("th",{style:{textAlign:"center"},children:"ng tuyn"}),t.jsx("th",{style:{textAlign:"center"},children:"Lt xem"}),t.jsx("th",{style:{textAlign:"center"},children:"Thao tc"})]})}),t.jsx("tbody",{children:n.map(z=>{var X,A,ie,te,pe;const re=((X=z.locations)==null?void 0:X.name)||((A=z.location)==null?void 0:A.name)||z.location_text||"--",Y=z.status||"draft",H=Kh[Y]||Y,R=b.includes(z.id);return t.jsxs("tr",{className:R?"selected":"",children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:R,onChange:()=>L(z.id)})}),t.jsx("td",{children:t.jsx("strong",{children:z.title||"Cha c tiu "})}),t.jsx("td",{children:t.jsx($t,{variant:Y==="approved"?"success":Y==="closed"?"danger":"default",size:"small",children:H})}),t.jsx("td",{children:Hh[z.job_type]||z.job_type||"--"}),t.jsx("td",{children:re}),t.jsx("td",{children:Eo(z.posted_at)}),t.jsx("td",{children:Eo(z.expires_at)}),t.jsx("td",{style:{textAlign:"center"},children:t.jsx("button",{onClick:()=>e(`/recruiter/jobs/${z.id}/applications`),style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",textDecoration:"underline",fontSize:"14px",fontWeight:"500"},children:((ie=z._count)==null?void 0:ie.applications)||z.applications_count||0})}),t.jsx("td",{style:{textAlign:"center"},children:((te=z._count)==null?void 0:te.job_views)||z.views_count||((pe=z._count)==null?void 0:pe.views)||0}),t.jsx("td",{children:t.jsxs("div",{className:"job-actions",children:[t.jsx(me,{variant:"ghost",size:"small",onClick:()=>k(z.id),icon:t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),children:"Sa"}),Y==="approved"&&t.jsx(me,{variant:"outline",size:"small",onClick:()=>T(z.id,Y),children:"ng"}),Y==="closed"&&t.jsx(me,{variant:"outline",size:"small",onClick:()=>T(z.id,Y),children:"M li"}),t.jsx(me,{variant:"ghost",size:"small",onClick:()=>C(z.id,z.title),icon:t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),children:"Xa"})]})})]},z.id)})})]})}):t.jsx("div",{className:"jobs-card-grid",children:n.map(z=>{var X,A,ie,te,pe;const re=((X=z.locations)==null?void 0:X.name)||((A=z.location)==null?void 0:A.name)||z.location_text||"--",Y=z.status||"draft",H=Kh[Y]||Y,R=b.includes(z.id);return t.jsxs(Ge,{variant:"elevated",padding:"medium",className:`job-card ${R?"selected":""}`,hover:!0,children:[t.jsxs("div",{className:"job-card-header",children:[t.jsx("input",{type:"checkbox",checked:R,onChange:()=>L(z.id),onClick:G=>G.stopPropagation()}),t.jsx($t,{variant:Y==="approved"?"success":Y==="closed"?"danger":"default",size:"small",children:H})]}),t.jsx("h3",{className:"job-card-title",children:z.title||"Cha c tiu "}),t.jsxs("div",{className:"job-card-meta",children:[t.jsxs("span",{children:[" ",Hh[z.job_type]||z.job_type]}),t.jsxs("span",{children:[" ",re]})]}),t.jsxs("div",{className:"job-card-stats",children:[t.jsxs("div",{className:"job-stat",children:[t.jsx("span",{className:"stat-label",children:"ng tuyn"}),t.jsx("button",{onClick:()=>e(`/recruiter/jobs/${z.id}/applications`),style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",textDecoration:"underline",fontSize:"16px",fontWeight:"600",padding:0},children:((ie=z._count)==null?void 0:ie.applications)||z.applications_count||0})]}),t.jsxs("div",{className:"job-stat",children:[t.jsx("span",{className:"stat-label",children:"Lt xem"}),t.jsx("span",{className:"stat-value",children:((te=z._count)==null?void 0:te.job_views)||z.views_count||((pe=z._count)==null?void 0:pe.views)||0})]}),t.jsxs("div",{className:"job-stat",children:[t.jsx("span",{className:"stat-label",children:"ng ngy"}),t.jsx("span",{className:"stat-value",children:Eo(z.posted_at)})]})]}),t.jsxs("div",{className:"job-card-actions",children:[t.jsx(me,{variant:"default",size:"small",onClick:()=>k(z.id),icon:t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),children:"Sa"}),Y==="approved"&&t.jsx(me,{variant:"outline",size:"small",onClick:()=>T(z.id,Y),children:"ng"}),Y==="closed"&&t.jsx(me,{variant:"outline",size:"small",onClick:()=>T(z.id,Y),children:"M li"}),t.jsx(me,{variant:"ghost",size:"small",onClick:()=>C(z.id,z.title),icon:t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),children:"Xa"})]})]},z.id)})}),p.total_pages>1&&t.jsxs("div",{className:"pagination",children:[t.jsx(me,{variant:"outline",disabled:o===1,onClick:()=>c(z=>Math.max(1,z-1)),icon:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),children:"Trc"}),t.jsxs("div",{className:"pagination-info",children:["Trang ",o," / ",p.total_pages]}),t.jsx(me,{variant:"outline",disabled:o>=p.total_pages,onClick:()=>c(z=>Math.min(p.total_pages,z+1)),iconPosition:"right",icon:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})}),children:"Sau"})]})]}),t.jsx(Nr,{isOpen:m,onClose:()=>d(!1),onConfirm:se,title:"Xc nhn xa",message:`Bn c chc chn mun xa ${b.length} tin tuyn dng  chn? Hnh ng ny khng th hon tc.`,confirmText:"Xa",cancelText:"Hy",variant:"danger"})]})}function O0({onMatch:e,loading:n,disabled:s}){const[a,i]=u.useState({size:50,minScore:70,location:"",experienceMin:"",experienceMax:"",skills:[],education:""}),l=(c,h)=>{i(v=>({...v,[c]:h}))},r=()=>{const c={size:a.size,minScore:a.minScore,location:a.location.trim(),experienceMin:a.experienceMin?parseInt(a.experienceMin):void 0,experienceMax:a.experienceMax?parseInt(a.experienceMax):void 0,education:a.education};Object.keys(c).forEach(h=>{(c[h]===void 0||c[h]==="")&&delete c[h]}),e(c)},o=()=>{i({size:50,minScore:70,location:"",experienceMin:"",experienceMax:"",skills:[],education:""})};return t.jsxs(Ge,{className:"talent-pool-filters",children:[t.jsxs(u0,{children:[t.jsx("h3",{children:"B lc tm kim"}),t.jsx("p",{className:"rd-muted",children:"Tinh chnh tiu ch  tm ng vin ph hp nht"})]}),t.jsxs(Oa,{children:[t.jsxs("div",{className:"filters-grid",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"S lng kt qu"}),t.jsxs(qi,{value:a.size,onChange:c=>l("size",parseInt(c.target.value)),disabled:s,children:[t.jsx("option",{value:20,children:"20 ng vin"}),t.jsx("option",{value:50,children:"50 ng vin"}),t.jsx("option",{value:100,children:"100 ng vin"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"im matching ti thiu"}),t.jsxs("div",{className:"slider-container",children:[t.jsx("input",{type:"range",min:0,max:100,value:a.minScore,onChange:c=>l("minScore",parseInt(c.target.value)),disabled:s,className:"rd-slider"}),t.jsxs("span",{className:"slider-value",children:[a.minScore,"%"]})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"a im"}),t.jsx(Kn,{type:"text",placeholder:"Nhp a im...",value:a.location,onChange:c=>l("location",c.target.value),disabled:s})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Kinh nghim (nm)"}),t.jsxs("div",{className:"experience-range",children:[t.jsx(Kn,{type:"number",placeholder:"T",min:"0",max:"50",value:a.experienceMin,onChange:c=>l("experienceMin",c.target.value),disabled:s}),t.jsx("span",{children:"-"}),t.jsx(Kn,{type:"number",placeholder:"n",min:"0",max:"50",value:a.experienceMax,onChange:c=>l("experienceMax",c.target.value),disabled:s})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Trnh  hc vn"}),t.jsxs(qi,{value:a.education,onChange:c=>l("education",c.target.value),disabled:s,children:[t.jsx("option",{value:"",children:"Tt c"}),t.jsx("option",{value:"high_school",children:"Trung hc"}),t.jsx("option",{value:"associate",children:"Cao ng"}),t.jsx("option",{value:"bachelor",children:"i hc"}),t.jsx("option",{value:"master",children:"Thc s"}),t.jsx("option",{value:"phd",children:"Tin s"})]})]})]}),t.jsxs("div",{className:"filter-actions",children:[t.jsx(me,{variant:"outline",onClick:o,disabled:n,children:"t li"}),t.jsx(me,{variant:"primary",onClick:r,disabled:s||n,loading:n,children:n?"ang tm kim...":"Tm ng vin ph hp"})]})]})]})}function U0({candidates:e,loading:n,onSaveCandidate:s,onBulkSaveCandidates:a,selectedJobId:i}){const[l,r]=u.useState(new Set),[o,c]=u.useState(!1),h=j=>{const _=new Set(l);_.has(j)?_.delete(j):_.add(j),r(_)},v=()=>{l.size===e.length?r(new Set):r(new Set(e.map(j=>j.id)))},f=async()=>{c(!0);try{await a(Array.from(l)),r(new Set)}catch(j){console.error("Bulk save failed:",j)}finally{c(!1)}},x=()=>{if(e.length===0)return;const _=[["Tn","V tr","a im","Kinh nghim","im ph hp"].join(","),...e.map(d=>{const p=d._source||d;return[`"${p.full_name||p.display_name||"N/A"}"`,`"${p.headline||p.current_position||"N/A"}"`,`"${p.location_text||"N/A"}"`,p.years_of_experience||0,d.score_percent||0].join(",")})].join(`
`),b=new Blob([_],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a"),m=URL.createObjectURL(b);g.setAttribute("href",m),g.setAttribute("download",`matching-results-${new Date().toISOString().split("T")[0]}.csv`),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g)};return n?t.jsx("div",{className:"loading-skeleton",children:[...Array(6)].map((j,_)=>t.jsx(Ge,{className:"candidate-skeleton",children:t.jsxs(Oa,{children:[t.jsx("div",{className:"skeleton-avatar"}),t.jsx("div",{className:"skeleton-text"}),t.jsx("div",{className:"skeleton-text short"})]})},_))}):t.jsxs("div",{className:"talent-pool-results",children:[l.size>0&&t.jsx(Ge,{className:"bulk-actions",children:t.jsxs(Oa,{children:[t.jsx("div",{className:"bulk-info",children:t.jsxs("span",{children:[" chn ",l.size," ng vin"]})}),t.jsxs("div",{className:"bulk-buttons",children:[t.jsx(me,{variant:"outline",onClick:()=>r(new Set),children:"B chn"}),t.jsx(me,{variant:"primary",onClick:f,loading:o,disabled:o,children:"Lu vo Talent Pool"})]})]})}),t.jsxs("div",{className:"results-header",children:[t.jsxs("div",{className:"results-info",children:[t.jsxs("h3",{children:["Kt qu tm kim (",e.length," ng vin)"]}),e.length>0&&t.jsx("div",{className:"select-all",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:l.size===e.length&&e.length>0,onChange:v,className:"rd-checkbox"}),"Chn tt c"]})})]}),e.length>0&&t.jsx("div",{className:"results-actions",children:t.jsx(me,{variant:"outline",size:"sm",onClick:x,children:"Xut danh sch"})})]}),e.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{className:"empty-title",children:"Khng tm thy ng vin ph hp"}),t.jsx("p",{className:"empty-description",children:"Th iu chnh b lc hoc chn v tr khc"})]}):t.jsx("div",{className:"candidates-grid",children:e.map(j=>t.jsx(H0,{candidate:j,isSelected:l.has(j.id),onSelect:()=>h(j.id),onSave:()=>s(j.id),selectedJobId:i},j.id))})]})}function H0({candidate:e,isSelected:n,onSelect:s,onSave:a,selectedJobId:i}){var j,_,b,g,m,d;const[l,r]=u.useState(!1),[o,c]=u.useState(!1),h=async()=>{c(!0);try{await a(e.id)}catch(p){console.error("Save candidate failed:",p)}finally{c(!1)}},v=e._source||e,f=e.score_percent||0,x=e.explanation||{};return t.jsx(Ge,{className:`candidate-card ${n?"selected":""}`,children:t.jsxs(Oa,{children:[t.jsx("div",{className:"candidate-selection",children:t.jsx("input",{type:"checkbox",checked:n,onChange:s,className:"candidate-checkbox"})}),t.jsxs("div",{className:"candidate-header",children:[t.jsx("div",{className:"candidate-avatar",children:v.avatar_url?t.jsx("img",{src:v.avatar_url,alt:v.full_name}):t.jsx("div",{className:"avatar-placeholder",children:(v.full_name||v.display_name||"U").charAt(0).toUpperCase()})}),t.jsxs("div",{className:"candidate-info",children:[t.jsx("h4",{children:v.full_name||v.display_name||"Cha c tn"}),t.jsx("p",{className:"candidate-headline",children:v.headline||v.current_position||"ng vin"}),t.jsxs("div",{className:"candidate-meta",children:[t.jsx("span",{children:v.location_text||"Cha cp nht a im"}),t.jsx("span",{children:""}),t.jsxs("span",{children:[v.years_of_experience||0," nm kinh nghim"]})]})]}),t.jsx("div",{className:"match-score",children:t.jsx("div",{className:"score-ring",style:{background:`conic-gradient(#10b981 ${f}%, #f1f5f9 0%)`},children:t.jsxs("div",{className:"score-inner",children:[t.jsxs("span",{className:"score-value",children:[f,"%"]}),t.jsx("span",{className:"score-label",children:"Ph hp"})]})})})]}),t.jsxs("div",{className:"matching-factors",children:[t.jsx("h5",{children:"L do ph hp:"}),t.jsxs("div",{className:"factors-list",children:[Object.entries(x).slice(0,3).map(([p,y])=>t.jsxs($t,{variant:"info",size:"sm",children:[p,": ",Math.round(y*100)/100]},p)),Object.keys(x).length>3&&t.jsxs($t,{variant:"outline",size:"sm",children:["+",Object.keys(x).length-3," yu t khc"]})]})]}),t.jsxs("div",{className:"candidate-skills",children:[(j=v.skills)==null?void 0:j.slice(0,4).map((p,y)=>t.jsx($t,{variant:"secondary",size:"sm",children:typeof p=="string"?p:p.name||p},y)),((_=v.skills)==null?void 0:_.length)>4&&t.jsxs($t,{variant:"outline",size:"sm",children:["+",v.skills.length-4]})]}),t.jsxs("div",{className:"candidate-actions",children:[t.jsx(me,{variant:"outline",size:"sm",onClick:()=>r(!l),children:l?"Thu gn":"Xem thm"}),t.jsx(me,{variant:"primary",size:"sm",onClick:h,loading:o,disabled:o,children:"Lu vo Talent Pool"})]}),l&&t.jsxs("div",{className:"candidate-details",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h6",{children:"Kinh nghim lm vic:"}),t.jsxs("div",{className:"experience-list",children:[(b=v.experiences)==null?void 0:b.slice(0,2).map((p,y)=>t.jsxs("div",{className:"experience-item",children:[t.jsx("strong",{children:p.position||p.title})," ti ",p.company_name||p.company,p.duration&&t.jsx("div",{className:"experience-duration",children:p.duration})]},y)),!((g=v.experiences)!=null&&g.length)&&t.jsx("p",{className:"no-data",children:"Cha cp nht kinh nghim"})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h6",{children:"Hc vn:"}),t.jsxs("div",{className:"education-list",children:[(m=v.educations)==null?void 0:m.slice(0,2).map((p,y)=>t.jsxs("div",{className:"education-item",children:[t.jsx("strong",{children:p.degree})," - ",p.school_name||p.institution]},y)),!((d=v.educations)!=null&&d.length)&&t.jsx("p",{className:"no-data",children:"Cha cp nht hc vn"})]})]}),v.bio&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h6",{children:"Gii thiu:"}),t.jsx("p",{className:"candidate-bio",children:v.bio})]})]})]})})}function K0({selectedJobId:e}){const[n,s]=u.useState([]),[a,i]=u.useState(!1),[l,r]=u.useState(1),[o,c]=u.useState(0),[h,v]=u.useState(0),[f,x]=u.useState(null),j=()=>{if(n.length===0)return;const p=[["Tn","V tr","a im","Kinh nghim","Ngy lu"].join(","),...n.map(k=>[`"${k.full_name||k.display_name||"N/A"}"`,`"${k.headline||k.current_position||"N/A"}"`,`"${k.location_text||"N/A"}"`,k.years_of_experience||0,k.savedAt?new Date(k.savedAt).toLocaleDateString("vi-VN"):"N/A"].join(","))].join(`
`),y=new Blob([p],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),w=URL.createObjectURL(y);S.setAttribute("href",w),S.setAttribute("download",`saved-candidates-${new Date().toISOString().split("T")[0]}.csv`),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S)},_=12;u.useEffect(()=>{b()},[l,e]);const b=async()=>{i(!0);try{const d=await _r.getSavedCandidates({page:l,limit:_,jobId:e||void 0}),p=(d==null?void 0:d.data)||d||{},y=p.data||p||[],S=p.pagination||{};s(y),c(S.total_pages||0),v(S.total_count||0)}catch(d){console.error("Failed to load saved candidates:",d),s([]),c(0),v(0)}finally{i(!1)}},g=async(d,p)=>{x(d);try{await _r.removeCandidate(d,p),await b()}catch(y){console.error("Failed to remove candidate:",y),alert("Khng th xa ng vin. Vui lng th li.")}finally{x(null)}},m=d=>{r(d)};return a&&n.length===0?t.jsx("div",{className:"loading-skeleton",children:[...Array(6)].map((d,p)=>t.jsx(Ge,{className:"candidate-skeleton",children:t.jsxs(Oa,{children:[t.jsx("div",{className:"skeleton-avatar"}),t.jsx("div",{className:"skeleton-text"}),t.jsx("div",{className:"skeleton-text short"})]})},p))}):t.jsxs("div",{className:"talent-pool-saved",children:[t.jsxs("div",{className:"saved-header",children:[t.jsxs("div",{className:"saved-info",children:[t.jsxs("h3",{children:["ng vin  lu (",h,")"]}),t.jsx("p",{className:"rd-muted",children:"Qun l nhng ng vin  lu vo talent pool ca bn"})]}),n.length>0&&t.jsxs("div",{className:"saved-actions",children:[t.jsx(me,{variant:"outline",size:"sm",onClick:j,children:"Xut danh sch"}),t.jsx(me,{variant:"outline",size:"sm",children:"Gi email hng lot"})]})]}),n.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{className:"empty-title",children:"Cha c ng vin no c lu"}),t.jsx("p",{className:"empty-description",children:'S dng tab "Tm ng vin mi"  matching v lu ng vin vo talent pool'})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"saved-candidates-grid",children:n.map(d=>t.jsx(W0,{candidate:d,onRemove:g,removing:f===d.candidateId},d.id||`${d.candidateId}_${d.jobId}`))}),o>1&&t.jsxs("div",{className:"pagination",children:[t.jsx(me,{variant:"outline",size:"sm",disabled:l===1,onClick:()=>m(l-1),children:"Trc"}),t.jsx("div",{className:"page-numbers",children:Array.from({length:Math.min(5,o)},(d,p)=>{const y=Math.max(1,l-2)+p;return y>o?null:t.jsx(me,{variant:y===l?"primary":"outline",size:"sm",onClick:()=>m(y),children:y},y)})}),t.jsx(me,{variant:"outline",size:"sm",disabled:l===o,onClick:()=>m(l+1),children:"Sau"})]})]})]})}function W0({candidate:e,onRemove:n,removing:s}){var i,l;const a=()=>{n(e.candidateId,e.jobId)};return t.jsx(Ge,{className:"saved-candidate-card",children:t.jsxs(Oa,{children:[t.jsxs("div",{className:"candidate-header",children:[t.jsx("div",{className:"candidate-avatar",children:e.avatar_url?t.jsx("img",{src:e.avatar_url,alt:e.full_name}):t.jsx("div",{className:"avatar-placeholder",children:(e.full_name||e.display_name||"U").charAt(0).toUpperCase()})}),t.jsxs("div",{className:"candidate-info",children:[t.jsx("h4",{children:e.full_name||e.display_name||"Cha c tn"}),t.jsx("p",{className:"candidate-headline",children:e.headline||e.current_position||"ng vin"}),t.jsxs("div",{className:"candidate-meta",children:[t.jsx("span",{children:e.location_text||"Cha cp nht a im"}),t.jsx("span",{children:""}),t.jsxs("span",{children:[e.years_of_experience||0," nm kinh nghim"]})]})]}),t.jsxs("div",{className:"saved-info",children:[t.jsxs("div",{className:"saved-date",children:["Lu: ",e.savedAt?new Date(e.savedAt).toLocaleDateString("vi-VN"):"N/A"]}),e.note&&t.jsx("div",{className:"saved-note",children:t.jsxs("small",{children:["Ghi ch: ",e.note]})})]})]}),t.jsxs("div",{className:"candidate-skills",children:[(i=e.skills)==null?void 0:i.slice(0,3).map((r,o)=>t.jsx($t,{variant:"secondary",size:"sm",children:typeof r=="string"?r:r.name||r},o)),((l=e.skills)==null?void 0:l.length)>3&&t.jsxs($t,{variant:"outline",size:"sm",children:["+",e.skills.length-3]})]}),t.jsxs("div",{className:"candidate-actions",children:[t.jsx(me,{variant:"outline",size:"sm",children:"Xem h s"}),t.jsx(me,{variant:"primary",size:"sm",children:"Lin h"}),t.jsx(me,{variant:"danger",size:"sm",onClick:a,loading:s,disabled:s,children:"Xa"})]})]})})}function q0(){const[e,n]=u.useState("matching"),[s,a]=u.useState([]),[i,l]=u.useState(""),[r,o]=u.useState(!1),[c,h]=u.useState([]),[v,f]=u.useState(null);u.useEffect(()=>{(async()=>{try{const g=await Tt.myJobs({page:1,limit:100}),d=((g==null?void 0:g.data)||g||[]).filter(p=>p.status==="approved");a(d),d.length>0&&!i&&l(d[0].id)}catch(g){console.error("Failed to load jobs:",g)}})()},[i]);const x=async b=>{if(i){o(!0),f(null);try{const g=await Ey.matchCandidates(i,b),m=(g==null?void 0:g.data)||g||{},d=m.candidates||m||[];h(d)}catch(g){console.error("Matching failed:",g),f((g==null?void 0:g.message)||"Khng th tm kim ng vin. Vui lng th li."),h([])}finally{o(!1)}}},j=async b=>{try{await _r.saveCandidate(b,i),console.log(`Successfully saved candidate ${b} to talent pool`)}catch(g){console.error("Failed to save candidate:",g),alert("Khng th lu ng vin. Vui lng th li.")}},_=async b=>{try{await _r.bulkSaveCandidates(b,i),console.log(`Successfully saved ${b.length} candidates to talent pool`)}catch(g){throw console.error("Failed to bulk save candidates:",g),alert("Khng th lu ng vin. Vui lng th li."),g}};return t.jsxs("div",{className:"talent-pool",children:[t.jsx("section",{className:"rd-card rd-hero-card",children:t.jsxs("div",{children:[t.jsx("h1",{children:"Talent Pool"}),t.jsx("p",{children:"Khm ph v qun l ngun ng vin tim nng cho cng ty bn"})]})}),t.jsxs("div",{className:"rd-tabs",children:[t.jsx("button",{className:e==="matching"?"active":"",onClick:()=>n("matching"),children:"Tm ng vin mi"}),t.jsx("button",{className:e==="saved"?"active":"",onClick:()=>n("saved"),children:"ng vin  lu"})]}),e==="matching"&&t.jsxs(t.Fragment,{children:[t.jsxs("section",{className:"rd-card job-selection-card",children:[t.jsx("div",{className:"rd-card__head",children:t.jsx("h3",{children:"Chn v tr cn tuyn"})}),t.jsxs("div",{className:"rd-card__body",children:[t.jsxs("select",{value:i,onChange:b=>l(b.target.value),className:"rd-select",disabled:r,children:[t.jsx("option",{value:"",children:"Chn v tr..."}),s.map(b=>{var g;return t.jsxs("option",{value:b.id,children:[b.title," - ",((g=b.location)==null?void 0:g.name)||"Cha xc nh"]},b.id)})]}),s.length===0&&t.jsxs("div",{className:"empty-state",style:{padding:"20px",margin:"10px 0"},children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsxs("p",{className:"empty-description",children:["Bn cha c v tr no c duyt. Hy ",t.jsx("a",{href:"/post-job",style:{color:"#3b82f6",textDecoration:"underline"},children:"ng tin tuyn dng"})," trc."]})]})]})]}),t.jsx(O0,{onMatch:x,loading:r,disabled:!i}),v&&t.jsx("div",{className:"rd-card",style:{borderColor:"#ef4444",backgroundColor:"#fef2f2"},children:t.jsx("div",{className:"rd-card__body",children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:""}),t.jsxs("div",{children:[t.jsx("p",{style:{margin:0,fontWeight:"600",color:"#dc2626"},children:"Khng th tm kim ng vin"}),t.jsx("p",{style:{margin:"4px 0 0 0",color:"#7f1d1d"},children:v})]}),t.jsx("button",{onClick:()=>f(null),style:{marginLeft:"auto",background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#dc2626"},children:""})]})})}),t.jsx(U0,{candidates:c,loading:r,onSaveCandidate:j,onBulkSaveCandidates:_,selectedJobId:i})]}),e==="saved"&&t.jsx(K0,{selectedJobId:i})]})}const Wh=["name","description","size","contact_email","contact_phone","contact_address","linkedin_url","facebook_url","twitter_url","tax_code","business_license"],qh=["industry","company_type","founded_year","employee_count_min","employee_count_max","website_url","revenue_range","stock_symbol","culture_description","headquarters_location_id"],J0=(e,n)=>{let s=0;const a=Wh.length+qh.length,i=n||(e==null?void 0:e.company_details)||{};Wh.forEach(r=>{const o=e==null?void 0:e[r];o!=null&&String(o).trim()!==""&&(s+=1)}),qh.forEach(r=>{const o=i==null?void 0:i[r];o!=null&&String(o).trim()!==""&&(s+=1)});const l=a>0?Math.round(s/a*100):0;return{filled:s,total:a,percent:l}},Jh=[{label:"Bng iu khin",icon:"",path:"/recruiter/dashboard"},{label:"Tin tuyn dng",icon:"",path:"/recruiter/jobs"},{label:"ng vin",icon:"",path:"/recruiter/dashboard"},{label:"Talent pool",icon:"",path:"/recruiter/talent-pool"},{label:"H s cng ty",icon:"",path:"/recruiter/company"}],Lo=[{key:"pending",label:"ang ch"},{key:"reviewed",label:" xem"},{key:"accepted",label:"Chp nhn"},{key:"rejected",label:"T chi"}],Q0={pending:"ang ch",reviewed:" xem",accepted:"Chp nhn",rejected:"T chi",withdrawn:" rt"},X0=[{name:"T Hng Ngc",role:"Product Design Lead",looking:!0,skills:["Figma","Research","Illustrator"],applications:2,latestStatus:" xem"},{name:"o Thanh Sn",role:"Senior Backend Engineer",looking:!0,skills:["NestJS","Postgres","AWS"],applications:3,latestStatus:"ang ch"},{name:"Lu Gia Pht",role:"QA Automation",looking:!1,skills:["Playwright","Cypress"],applications:1,latestStatus:"Chp nhn"}],G0=[{name:"inh Tho Vy",role:"Product Manager",savedJob:"Product Manager",skills:["Roadmap","OKRs"]},{name:"ng Quc Huy",role:"Data Engineer",savedJob:"Data Engineer",skills:["Airflow","Python","Snowflake"]}];function Qh(e){if(!e)return"--";try{const n=new Date(e);return Number.isNaN(n.getTime())?"--":n.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"--"}}function Do(){var Re,Be,oe;const e=He(),n=fn(),[s,a]=u.useState(!1),[i,l]=u.useState(!1),[r,o]=u.useState(null),[c,h]=u.useState(null),[v,f]=u.useState([]),[x,j]=u.useState(!0),[_,b]=u.useState("all"),[g,m]=u.useState(""),[d,p]=u.useState([]),[y,S]=u.useState(!1),[w,k]=u.useState(""),[C,T]=u.useState(""),[L,O]=u.useState({active:0,draft:0,totalApplications:0,totalOffers:0}),se=u.useMemo(()=>d.filter(E=>{if(w&&E.status!==w)return!1;if(C){const J=E.applied_at?new Date(E.applied_at):null;if(!J||Number.isNaN(J.getTime()))return!1;const Q=new Date(C),ue=new Date(J.getFullYear(),J.getMonth(),J.getDate()),Te=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate());if(ue<Te)return!1}return!0}),[d,w,C]),$=u.useMemo(()=>Lo.reduce((E,J)=>(E[J.key]=se.filter(Q=>Q.status===J.key),E),{}),[se]),z=u.useMemo(()=>_==="active"?v.filter(E=>E.status==="approved"):_==="draft"?v.filter(E=>E.status==="draft"):v,[v,_]),re=u.useMemo(()=>z.slice(0,5),[z]),Y=u.useMemo(()=>se.slice().sort((E,J)=>new Date(J.applied_at||0).getTime()-new Date(E.applied_at||0).getTime()).slice(0,5),[se]),H=Wi()||{};u.useEffect(()=>{let E=!0;return(async()=>{try{const Q=await gt.getMyCompany();E&&o(Q)}catch{E&&o(null)}try{const Q=await gt.getMyCompanyDetails();E&&h(Q)}catch{E&&h(null)}})(),()=>{E=!1}},[]),u.useEffect(()=>{let E=!0;return(async()=>{j(!0);try{const Q=await Tt.myJobs({page:1,limit:100}),ue=(Q==null?void 0:Q.data)||Q||[];if(E){f(ue),ue.length>0&&!g&&m(ue[0].id);const Te=ue.filter(ae=>ae.status==="approved").length,we=ue.filter(ae=>ae.status==="draft").length,Pe=ue.reduce((ae,Ee)=>{var Ie;return ae+(((Ie=Ee._count)==null?void 0:Ie.applications)||Ee.applications_count||0)},0);O({active:Te,draft:we,totalApplications:Pe,totalOffers:0})}}catch(Q){console.error("Failed to load jobs:",Q)}finally{E&&j(!1)}})(),()=>{E=!1}},[g]),u.useEffect(()=>{if(!g){p([]);return}let E=!0;return(async()=>{S(!0);try{const Q=await ot.listByJob(g,{page:1,limit:50,sort_by:"applied_at",order:"desc"}),ue=(Q==null?void 0:Q.data)||Q||{},Te=ue.data||ue||[];E&&p(Te)}catch(Q){console.error("Failed to load applications for dashboard:",Q),E&&p([])}finally{E&&S(!1)}})(),()=>{E=!1}},[g]);const X=J0(r,c).percent,A=(r==null?void 0:r.name)||(H==null?void 0:H.name)||"Nh tuyn dng",ie=(H==null?void 0:H.role)==="employer"?"Nh tuyn dng":(H==null?void 0:H.role)||"Nh tuyn dng",te=(r==null?void 0:r.logo_url)||(H==null?void 0:H.avatar),pe=((oe=(Be=(Re=(r==null?void 0:r.name)||A)==null?void 0:Re.trim())==null?void 0:Be.charAt(0))==null?void 0:oe.toUpperCase())||"R",G=n.pathname==="/recruiter/talent-pool",q=n.pathname==="/recruiter/dashboard",ee=n.pathname==="/recruiter/jobs",be=()=>{l(!1),e("/recruiter/change-password")},Me=()=>{e(g?`/recruiter/jobs/${g}/applications`:"/recruiter/jobs")},Je=async()=>{l(!1);try{Jn(),e("/login",{replace:!0})}catch{try{Jn()}catch{}}(async()=>{try{const E=el();E&&await wn.logout(E)}catch(E){console.warn("ng xut recruiter (server) tht bi:",E==null?void 0:E.message)}})()};return t.jsxs("div",{className:"rd-shell",children:[t.jsxs("header",{className:"rd-navbar",children:[t.jsxs("div",{className:"rd-logo-block",children:[t.jsxs("button",{className:"rd-hamburger",type:"button","aria-label":"Thu gn menu",onClick:()=>a(E=>!E),children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]}),t.jsxs("div",{className:"rd-logo",children:[t.jsx("span",{className:"rd-logo-badge",children:"JP"}),t.jsxs("div",{children:[t.jsx("strong",{children:"JobFinder Recruiter"}),t.jsx("p",{children:"Khu vc nh tuyn dng"})]})]})]}),X<100&&t.jsxs("div",{className:"rd-banner warning",style:{borderRadius:14,padding:"10px 14px",display:"flex",alignItems:"center",gap:10},children:[t.jsxs("div",{children:[t.jsxs("strong",{children:["H s cng ty mi hon thnh ",X,"%"]}),t.jsx("div",{className:"muted",style:{margin:0},children:"Hon thin h s  c duyt v ng tin."})]}),t.jsx("div",{style:{flex:"0 0 200px",background:"#e2e8f0",height:8,borderRadius:999},children:t.jsx("div",{style:{width:`${X}%`,height:"100%",borderRadius:999,background:"linear-gradient(90deg,#4f8bff,#2f64f2)"}})})]}),t.jsxs("div",{className:"rd-nav-actions",children:[t.jsx("button",{className:"rd-icon-btn","aria-label":"Tr gip",children:"?"}),t.jsxs("button",{className:"rd-icon-btn","aria-label":"Thng bo",children:[t.jsx("span",{className:"rd-dot"}),""]}),t.jsxs("div",{className:"rd-user-menu",children:[t.jsxs("div",{className:"rd-user-pill",onClick:()=>l(E=>!E),children:[t.jsx("div",{className:"rd-avatar",children:te?t.jsx("img",{src:te,alt:A}):t.jsx("span",{children:pe})}),t.jsxs("div",{children:[t.jsx("strong",{children:A}),t.jsx("small",{children:ie})]}),t.jsx("span",{className:"rd-chevron",children:""})]}),i&&t.jsxs("div",{className:"rd-profile-menu",children:[t.jsx("button",{type:"button",onClick:()=>e("/recruiter/company"),children:"H s cng ty"}),t.jsx("button",{type:"button",onClick:be,children:"i mt khu"}),t.jsx("button",{type:"button",className:"danger",onClick:Je,children:"ng xut"})]})]})]})]}),t.jsxs("div",{className:"rd-layout",children:[t.jsx("aside",{className:`rd-sidebar${s?" is-open":""}`,children:(()=>{const E=Jh.findIndex(J=>J.path===n.pathname);return Jh.map((J,Q)=>{const ue=n.pathname===J.path&&Q===E;return t.jsxs("button",{className:`rd-nav-item${ue?" active":""}`,type:"button",onClick:()=>e(J.path),children:[t.jsx("span",{className:"rd-nav-icon","aria-hidden":"true",children:J.icon}),t.jsx("span",{children:J.label})]},J.label)})})()}),t.jsxs("main",{className:"rd-main",children:[q&&t.jsxs(t.Fragment,{children:[t.jsxs("section",{className:"rd-card rd-hero-card",children:[t.jsxs("div",{children:[t.jsx("p",{className:"rd-eyebrow",children:"Xin cho"}),t.jsxs("h1",{children:[A," ",t.jsx("span",{"aria-hidden":"true",children:""})]}),t.jsx("p",{children:"Theo di tin  tuyn dng v qun l pipeline ca bn."}),t.jsxs("div",{className:"rd-chip-row",children:[t.jsx("button",{className:"rd-secondary-btn",onClick:()=>e("/recruiter/company"),children:"Qun l h s cng ty"}),t.jsx("button",{className:"rd-secondary-btn",onClick:()=>e("/onboarding/company"),children:"To h s cng ty"})]})]}),t.jsx(We,{to:"/post-job",className:"rd-primary-btn",style:{textDecoration:"none",display:"inline-block",cursor:"pointer",position:"relative",zIndex:10,pointerEvents:"auto"},onClick:E=>{console.log("Link clicked, navigating to /post-job")},children:"ng tin mi"})]}),t.jsxs("section",{className:"rd-grid rd-grid--stats",children:[t.jsxs("article",{className:"rd-card",children:[t.jsx("p",{className:"rd-label",children:"Tin ang hot ng"}),t.jsx("p",{className:"rd-value",children:x?"...":L.active})]}),t.jsxs("article",{className:"rd-card",children:[t.jsx("p",{className:"rd-label",children:"Tin nhp"}),t.jsx("p",{className:"rd-value",children:x?"...":L.draft})]}),t.jsxs("article",{className:"rd-card",children:[t.jsx("p",{className:"rd-label",children:"ng tuyn ang m"}),t.jsx("p",{className:"rd-value",children:x?"...":L.totalApplications})]}),t.jsxs("article",{className:"rd-card",children:[t.jsx("p",{className:"rd-label",children:"Offer chp nhn (30 ngy)"}),t.jsx("p",{className:"rd-value",children:x?"...":L.totalOffers})]})]})]}),q&&t.jsxs(t.Fragment,{children:[t.jsxs("section",{className:"rd-card",children:[t.jsxs("div",{className:"rd-card__head",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Pipeline ng tuyn"}),t.jsx("p",{className:"rd-muted",children:"Theo di trng thi ng vin theo tng giai on."})]}),t.jsxs("div",{className:"rd-filters",children:[t.jsx("select",{value:g,onChange:E=>m(E.target.value),children:v.map(E=>t.jsx("option",{value:E.id,children:E.title},E.id))}),t.jsxs("select",{value:w,onChange:E=>k(E.target.value),children:[t.jsx("option",{value:"",children:"Tt c trng thi"}),Lo.map(E=>t.jsx("option",{value:E.key,children:E.label},E.key))]}),t.jsx("input",{type:"date",value:C,onChange:E=>T(E.target.value)})]})]}),t.jsx("div",{className:"rd-pipeline",children:Lo.map(E=>{var J,Q;return t.jsxs("div",{className:"rd-column",children:[t.jsxs("div",{className:"rd-column__head",children:[t.jsx("span",{children:E.label}),t.jsx("strong",{children:((J=$[E.key])==null?void 0:J.length)??0})]}),t.jsx("div",{className:"rd-column__body",children:y?t.jsx("p",{className:"rd-empty",children:"ang ti..."}):(Q=$[E.key])!=null&&Q.length?$[E.key].map(ue=>{var Te,we;return t.jsxs("div",{className:"rd-pill-card",children:[t.jsx("p",{className:"rd-pill-card__title",children:((Te=ue.candidate)==null?void 0:Te.full_name)||"Cha c tn"}),t.jsx("p",{className:"rd-muted",children:((we=ue.candidate)==null?void 0:we.headline)||ue.job_title||"ng vin ng tuyn"}),t.jsx("small",{children:Qh(ue.applied_at)})]},ue.id)}):t.jsx("p",{className:"rd-empty",children:"Cha c ng vin."})})]},E.key)})}),t.jsxs("div",{className:"rd-table-wrapper",children:[t.jsxs("div",{className:"rd-table-head",children:[t.jsx("h3",{children:"ng tuyn gn y"}),t.jsx("button",{className:"rd-link",onClick:Me,children:"Xem tt c"})]}),t.jsxs("div",{className:"rd-table rd-table--recent",children:[t.jsxs("div",{className:"rd-table__row rd-table__row--head",children:[t.jsx("span",{children:"ng vin"}),t.jsx("span",{children:"V tr"}),t.jsx("span",{children:"Trng thi"}),t.jsx("span",{children:"Ngy np"}),t.jsx("span",{children:"Giai on"}),t.jsx("span",{children:"Hnh ng"})]}),y?t.jsx("div",{className:"rd-table__row",children:t.jsx("span",{style:{gridColumn:"1 / -1",textAlign:"center"},children:"ang ti..."})}):Y.length===0?t.jsx("div",{className:"rd-table__row",children:t.jsx("span",{style:{gridColumn:"1 / -1",textAlign:"center"},children:"Cha c ng vin."})}):Y.map(E=>{var J,Q,ue,Te;return t.jsxs("div",{className:"rd-table__row",children:[t.jsx("span",{children:((J=E.candidate)==null?void 0:J.full_name)||"Cha c tn"}),t.jsx("span",{children:E.job_title||((Q=E.job)==null?void 0:Q.title)||((ue=v.find(we=>we.id===E.job_id))==null?void 0:ue.title)||"Khng r v tr"}),t.jsx("span",{className:"rd-status",children:Q0[E.status]||E.status}),t.jsx("span",{children:Qh(E.applied_at)}),t.jsx("span",{children:((Te=E.current_stage)==null?void 0:Te.stage_name)||"--"}),t.jsx("span",{className:"rd-row-actions",children:t.jsx("button",{onClick:()=>e(`/recruiter/applications/${E.id}`),children:"Xem"})})]},E.id)})]})]})]}),t.jsxs("section",{className:"rd-card",children:[t.jsxs("div",{className:"rd-card__head",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Tin tuyn dng ca ti"}),t.jsx("p",{className:"rd-muted",children:"Qun l trng thi tin ng v hiu sut tip cn ng vin."})]}),t.jsxs("div",{className:"rd-tabs",children:[t.jsx("button",{className:_==="all"?"active":"",onClick:()=>b("all"),children:"Tt c"}),t.jsx("button",{className:_==="active"?"active":"",onClick:()=>b("active"),children:"ang hot ng"}),t.jsx("button",{className:_==="draft"?"active":"",onClick:()=>b("draft"),children:"Nhp"})]})]}),t.jsxs("div",{className:"rd-table rd-table--jobs",children:[t.jsxs("div",{className:"rd-table__row rd-table__row--head",children:[t.jsx("span",{children:"V tr"}),t.jsx("span",{children:"Trng thi"}),t.jsx("span",{children:"Loi hnh"}),t.jsx("span",{children:"a im"}),t.jsx("span",{children:"Ngy ng"}),t.jsx("span",{children:"Ht hn"}),t.jsx("span",{children:"ng tuyn"}),t.jsx("span",{children:"Lt xem"}),t.jsx("span",{children:"Hnh ng"})]}),x?t.jsx("div",{className:"rd-table__row",children:t.jsx("span",{colSpan:9,style:{textAlign:"center",padding:"20px"},children:"ang ti..."})}):v.length===0?t.jsx("div",{className:"rd-table__row",children:t.jsx("span",{colSpan:9,style:{textAlign:"center",padding:"20px"},children:"Cha c tin tuyn dng no."})}):re.map(E=>{var it,Ke,Ye,F,he;const J=E.status||"draft",Q=J==="approved"?" duyt":J==="draft"?"Nhp":" ng",ue=J==="approved"?"success":J==="draft"?"warning":"info",Te=E.job_type==="full_time"?"Ton thi gian":E.job_type==="part_time"?"Bn thi gian":"Hp ng",we=((it=E.locations)==null?void 0:it.name)||((Ke=E.location)==null?void 0:Ke.name)||"--",Pe=E.posted_at?new Date(E.posted_at).toLocaleDateString("vi-VN"):"--",ae=E.expires_at?new Date(E.expires_at).toLocaleDateString("vi-VN"):"--",Ee=((Ye=E._count)==null?void 0:Ye.applications)||E.applications_count||0,Ie=((F=E._count)==null?void 0:F.job_views)||E.views_count||((he=E._count)==null?void 0:he.views)||0;return t.jsxs("div",{className:"rd-table__row",children:[t.jsx("span",{children:E.title||"Cha c tiu "}),t.jsx("span",{className:`rd-status ${ue}`,children:Q}),t.jsx("span",{children:Te}),t.jsx("span",{children:we}),t.jsx("span",{children:Pe}),t.jsx("span",{children:ae}),t.jsx("span",{children:Ee}),t.jsx("span",{children:Ie}),t.jsx("span",{className:"rd-manage-cell",children:t.jsx("button",{className:"rd-secondary-btn",onClick:()=>e(`/recruiter/jobs/${E.id}/manage`),children:"Qun l"})})]},E.id)})]})]}),t.jsxs("section",{className:"rd-grid rd-grid--two",children:[t.jsxs("article",{className:"rd-card",children:[t.jsxs("div",{className:"rd-card__head",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Top ng vin trong pipeline"}),t.jsx("p",{className:"rd-muted",children:"Nhng h s ni bt ang tng tc vi cng ty."})]}),t.jsx("button",{className:"rd-link",children:"Xem pipeline"})]}),t.jsx("div",{className:"rd-stack",children:X0.map(E=>t.jsxs("div",{className:"rd-pill-card rd-pill-card--horizontal",children:[t.jsxs("div",{children:[t.jsx("p",{className:"rd-pill-card__title",children:E.name}),t.jsx("p",{className:"rd-muted",children:E.role}),t.jsx("div",{className:"rd-chip-row",children:E.skills.map(J=>t.jsx("span",{className:"rd-chip",children:J},J))})]}),t.jsxs("div",{className:"rd-meta-block",children:[t.jsx("span",{className:`rd-flag ${E.looking?"success":""}`,children:E.looking?"Sn sng i lm":"Khng tm vic"}),t.jsxs("strong",{children:[E.applications," h s"]}),t.jsxs("small",{children:["Trng thi: ",E.latestStatus]})]})]},E.name))})]}),t.jsxs("article",{className:"rd-card",children:[t.jsxs("div",{className:"rd-card__head",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"ng vin  lu"}),t.jsx("p",{className:"rd-muted",children:"Nhng h s  lu hoc ng vin lu tin ca bn."})]}),t.jsx("button",{className:"rd-link",children:"Qun l talent pool"})]}),t.jsx("div",{className:"rd-stack",children:G0.map(E=>t.jsxs("div",{className:"rd-pill-card rd-pill-card--horizontal",children:[t.jsxs("div",{children:[t.jsx("p",{className:"rd-pill-card__title",children:E.name}),t.jsx("p",{className:"rd-muted",children:E.role}),t.jsx("div",{className:"rd-chip-row",children:E.skills.map(J=>t.jsx("span",{className:"rd-chip accent",children:J},J))})]}),t.jsxs("div",{className:"rd-meta-block",children:[t.jsxs("span",{className:"rd-flag",children:["Quan tm: ",E.savedJob]}),t.jsx("button",{className:"rd-secondary-btn",children:"Xem h s"})]})]},E.name))})]})]})]}),ee&&t.jsx("section",{className:"rd-card",style:{padding:0,boxShadow:"none",background:"transparent"},children:t.jsx(B0,{})}),G&&t.jsx(q0,{})]})]})]})}const Xh=/[!@#$%^&*(),.?":{}|<>_\-]/;function Y0(){const e=He(),[n,s]=u.useState({old_password:"",new_password:"",confirm_password:""}),[a,i]=u.useState(!1),[l,r]=u.useState(!1),[o,c]=u.useState(!1),[h,v]=u.useState(!1),[f,x]=u.useState(""),[j,_]=u.useState("");u.useEffect(()=>{(Mn()!=="employer"||!Qn())&&e("/login",{replace:!0})},[e]);const b=m=>{const{name:d,value:p}=m.target;s(y=>({...y,[d]:p}))},g=async m=>{var d;if(m.preventDefault(),x(""),_(""),!n.old_password||!n.new_password||!n.confirm_password){x("Vui lng in y  thng tin.");return}if(n.new_password.length<10||!Xh.test(n.new_password)){x("Mt khu mi cn ti thiu 10 k t v cha k t c bit.");return}if(n.new_password!==n.confirm_password){x("Xc nhn mt khu khng khp.");return}v(!0);try{await wn.changePassword(n),_("i mt khu thnh cng."),s({old_password:"",new_password:"",confirm_password:""})}catch(p){x(((d=p==null?void 0:p.data)==null?void 0:d.message)||(p==null?void 0:p.message)||"i mt khu tht bi.")}finally{v(!1)}};return t.jsx("div",{className:"rcp-shell",children:t.jsxs("div",{className:"rcp-card",children:[t.jsxs("header",{className:"rcp-head",children:[t.jsxs("div",{children:[t.jsx("h1",{children:"i mt khu"}),t.jsx("p",{children:"Cp nht mt khu  gi ti khon ca bn an ton."})]}),t.jsx("button",{className:"rcp-link",type:"button",onClick:()=>e("/recruiter/dashboard"),children:"Quay li dashboard"})]}),f&&t.jsx("div",{className:"rd-banner error",children:f}),j&&t.jsx("div",{className:"rd-banner success",children:j}),t.jsxs("form",{className:"rcp-form",onSubmit:g,children:[t.jsxs("label",{className:"rcp-field",children:[t.jsx("span",{children:"Mt khu hin ti"}),t.jsxs("div",{className:"rcp-input",children:[t.jsx("input",{type:a?"text":"password",name:"old_password",placeholder:"Nhp mt khu hin ti",value:n.old_password,onChange:b,autoComplete:"current-password",required:!0}),t.jsx("button",{type:"button",onClick:()=>i(m=>!m),children:a?"n":"Hin"})]})]}),t.jsxs("label",{className:"rcp-field",children:[t.jsx("span",{children:"Mt khu mi"}),t.jsxs("div",{className:"rcp-input",children:[t.jsx("input",{type:l?"text":"password",name:"new_password",placeholder:"Nhp mt khu mi",value:n.new_password,onChange:b,autoComplete:"new-password",required:!0}),t.jsx("button",{type:"button",onClick:()=>r(m=>!m),children:l?"n":"Hin"})]}),n.new_password&&(n.new_password.length<10||!Xh.test(n.new_password))&&t.jsx("small",{className:"rcp-error",children:"Ti thiu 10 k t v c k t c bit."})]}),t.jsxs("label",{className:"rcp-field",children:[t.jsx("span",{children:"Xc nhn mt khu mi"}),t.jsxs("div",{className:"rcp-input",children:[t.jsx("input",{type:o?"text":"password",name:"confirm_password",placeholder:"Nhp li mt khu mi",value:n.confirm_password,onChange:b,autoComplete:"new-password",required:!0}),t.jsx("button",{type:"button",onClick:()=>c(m=>!m),children:o?"n":"Hin"})]}),n.confirm_password&&n.confirm_password!==n.new_password&&t.jsx("small",{className:"rcp-error",children:"Khng khp vi mt khu mi."})]}),t.jsxs("div",{className:"rcp-actions",children:[t.jsx("button",{type:"button",className:"rcp-btn ghost",onClick:()=>e("/recruiter/dashboard"),children:"Hy"}),t.jsx("button",{type:"submit",className:"rcp-btn primary",disabled:h,children:h?"ang cp nht...":"i mt khu"})]})]})]})})}const Z0={name:"",description:"",size:"",contact_email:"",contact_phone:"",contact_address:""},e_=e=>/\S+@\S+\.\S+/.test(e);function t_({onSuccess:e}){const[n,s]=u.useState(Z0),[a,i]=u.useState({}),[l,r]=u.useState(!1),[o,c]=u.useState(""),h=x=>{const{name:j,value:_}=x.target;s(b=>({...b,[j]:_}))},v=()=>{const x={};if((!n.name||n.name.trim().length<3)&&(x.name="Tn cng ty ti thiu 3 k t."),n.contact_email&&!e_(n.contact_email.trim())&&(x.contact_email="Email khng hp l."),n.size){const j=parseInt(n.size,10);(Number.isNaN(j)||j<=0)&&(x.size="Quy m phi l s nguyn dng.")}return x},f=async x=>{x.preventDefault();const j=v();if(i(j),Object.keys(j).length>0)return;const _={};if(Object.entries(n).forEach(([b,g])=>{const m=typeof g=="string"?g.trim():g;m!==""&&m!==null&&m!==void 0&&(_[b]=b==="size"?parseInt(m,10):m)}),!_.name){i({name:"Tn cng ty bt buc"});return}r(!0),c("");try{const b=await gt.createCompany(_);e==null||e(b)}catch(b){c((b==null?void 0:b.message)||"Khng th to cng ty. Th li sau.")}finally{r(!1)}};return t.jsxs("div",{className:"onboarding-card",children:[t.jsx("div",{className:"card-head",children:t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow-text",children:"Bc 1/2"}),t.jsx("h2",{children:"Thng tin c bn"}),t.jsx("p",{className:"muted",children:"Nhp thng tin doanh nghip ca bn  to h s tuyn dng."})]})}),t.jsxs("form",{className:"form-grid",onSubmit:f,noValidate:!0,children:[t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Tn cng ty *"}),t.jsx("input",{name:"name",value:n.name,onChange:h,placeholder:"V d: Cng ty ABC"}),a.name&&t.jsx("div",{className:"error-text",children:a.name})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"M t"}),t.jsx("textarea",{name:"description",value:n.description,onChange:h,placeholder:"Gii thiu ngn v cng ty, sn phm, vn ha...",rows:4})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Quy m nhn s"}),t.jsx("input",{name:"size",value:n.size,onChange:h,placeholder:"V d: 120",inputMode:"numeric"}),a.size&&t.jsx("div",{className:"error-text",children:a.size})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Email lin h"}),t.jsx("input",{name:"contact_email",value:n.contact_email,onChange:h,placeholder:"hr@company.com",type:"email"}),a.contact_email&&t.jsx("div",{className:"error-text",children:a.contact_email})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"S in thoi"}),t.jsx("input",{name:"contact_phone",value:n.contact_phone,onChange:h,placeholder:"090xxxxxxx"})]}),t.jsxs("div",{className:"field field-span",children:[t.jsx("label",{children:"a ch"}),t.jsx("input",{name:"contact_address",value:n.contact_address,onChange:h,placeholder:"S nh, ng, qun/huyn, tnh/thnh"})]}),o&&t.jsx("div",{className:"field field-span error-text",children:o}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{className:"btn btn-primary",type:"submit",disabled:l,children:l?"ang to...":"Tip tc"})})]})]})}const sg=["industry","founded_year","employee_count_min","employee_count_max","website_url","headquarters_location_id","company_type","revenue_range","stock_symbol","culture_description"],ag=["tax_code","business_license","linkedin_url","facebook_url","twitter_url"],n_=()=>[...sg,...ag].reduce((e,n)=>(e[n]="",e),{}),kl=e=>{try{return!!new URL(e)}catch{return!1}},Gh=new Date().getFullYear(),s_=(e={})=>{const n={};return Object.entries(e).forEach(([s,a])=>{a!=null&&(n[s]=String(a))}),n};function a_({company:e,onBack:n,onSuccess:s}){const[a,i]=u.useState(n_),[l,r]=u.useState({}),[o,c]=u.useState(""),[h,v]=u.useState(!0),[f,x]=u.useState(!1),[j,_]=u.useState(!1);u.useEffect(()=>{let d=!0;return(async()=>{v(!0);try{const y=await gt.getMyCompanyDetails();if(!d)return;const S=y||{};i(w=>({...w,...s_(S)})),x(!0)}catch(y){if(!d)return;(y==null?void 0:y.status)===404?x(!1):c((y==null?void 0:y.message)||"Khng th ti chi tit cng ty.")}finally{d&&v(!1)}})(),()=>{d=!1}},[]);const b=d=>{const{name:p,value:y}=d.target;i(S=>({...S,[p]:y}))},g=()=>{const d={},p=a.founded_year?parseInt(a.founded_year,10):null,y=a.employee_count_min?parseInt(a.employee_count_min,10):null,S=a.employee_count_max?parseInt(a.employee_count_max,10):null;return p!==null&&(Number.isNaN(p)||p<1800||p>Gh)&&(d.founded_year=`Nm thnh lp phi trong khong 1800-${Gh}.`),y!==null&&(Number.isNaN(y)||y<=0)&&(d.employee_count_min="S nhn s ti thiu phi > 0."),S!==null&&(Number.isNaN(S)||S<=0)&&(d.employee_count_max="S nhn s ti a phi > 0."),y!==null&&S!==null&&y>S&&(d.employee_count_max="S nhn s ti thiu khng c ln hn ti a."),a.website_url&&!kl(a.website_url.trim())&&(d.website_url="Website URL khng hp l."),a.linkedin_url&&!kl(a.linkedin_url.trim())&&(d.linkedin_url="LinkedIn URL khng hp l."),a.facebook_url&&!kl(a.facebook_url.trim())&&(d.facebook_url="Facebook URL khng hp l."),a.twitter_url&&!kl(a.twitter_url.trim())&&(d.twitter_url="Twitter URL khng hp l."),d},m=async d=>{d.preventDefault();const p=g();if(r(p),Object.keys(p).length>0)return;const y={};sg.forEach(w=>{const k=a[w];if(k===""||k===null||k===void 0)return;const C=typeof k=="string"?k.trim():k;C!==""&&(["founded_year","employee_count_min","employee_count_max"].includes(w)?y[w]=parseInt(C,10):y[w]=C)});const S={};if(ag.forEach(w=>{const k=a[w];if(k===""||k===null||k===void 0)return;const C=typeof k=="string"?k.trim():k;C!==""&&(S[w]=C)}),Object.keys(y).length===0&&Object.keys(S).length===0){c("Vui lng nhp t nht mt trng.");return}_(!0),c("");try{Object.keys(y).length>0&&(f?await gt.updateMyCompanyDetails(y):(await gt.createMyCompanyDetails(y),x(!0))),Object.keys(S).length>0&&await gt.updateMyCompany(S),s==null||s({details:y,extras:S})}catch(w){c((w==null?void 0:w.message)||"Khng th lu chi tit cng ty.")}finally{_(!1)}};return t.jsxs("div",{className:"onboarding-card",children:[t.jsxs("div",{className:"card-head",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow-text",children:"Bc 2/2"}),t.jsx("h2",{children:"Thng tin chi tit v php l"}),t.jsx("p",{className:"muted",children:"B sung cc trng chi tit  h s cng ty c xc minh nhanh hn."})]}),(e==null?void 0:e.name)&&t.jsxs("div",{className:"chip",children:["ang thit lp: ",e.name]})]}),h?t.jsxs("div",{className:"loading-block",children:[t.jsx("div",{className:"spinner","aria-hidden":!0}),t.jsx("div",{children:"ang ti d liu..."})]}):t.jsxs("form",{className:"form-grid",onSubmit:m,noValidate:!0,children:[t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Ngnh ngh"}),t.jsx("input",{name:"industry",value:a.industry,onChange:b,placeholder:"Cng ngh thng tin"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Nm thnh lp"}),t.jsx("input",{name:"founded_year",value:a.founded_year,onChange:b,placeholder:"2015",inputMode:"numeric"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"S nhn s ti thiu"}),t.jsx("input",{name:"employee_count_min",value:a.employee_count_min,onChange:b,placeholder:"100",inputMode:"numeric"}),l.employee_count_min&&t.jsx("div",{className:"error-text",children:l.employee_count_min})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"S nhn s ti a"}),t.jsx("input",{name:"employee_count_max",value:a.employee_count_max,onChange:b,placeholder:"250",inputMode:"numeric"}),l.employee_count_max&&t.jsx("div",{className:"error-text",children:l.employee_count_max})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Website"}),t.jsx("input",{name:"website_url",value:a.website_url,onChange:b,placeholder:"https://..."}),l.website_url&&t.jsx("div",{className:"error-text",children:l.website_url})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Tr s (UUID)"}),t.jsx("input",{name:"headquarters_location_id",value:a.headquarters_location_id,onChange:b,placeholder:"M a im"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Loi hnh cng ty"}),t.jsx("input",{name:"company_type",value:a.company_type,onChange:b,placeholder:"Product / Outsourcing"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Doanh thu"}),t.jsx("input",{name:"revenue_range",value:a.revenue_range,onChange:b,placeholder:"1M-5M USD"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"M chng khon"}),t.jsx("input",{name:"stock_symbol",value:a.stock_symbol,onChange:b,placeholder:"ACME"})]}),t.jsxs("div",{className:"field field-span",children:[t.jsx("label",{children:"M t vn ha"}),t.jsx("textarea",{name:"culture_description",value:a.culture_description,onChange:b,placeholder:"Mi trng lm vic, gi tr ct li...",rows:3})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"M s thu"}),t.jsx("input",{name:"tax_code",value:a.tax_code,onChange:b,placeholder:"0101xxxxxx"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Giy php KD"}),t.jsx("input",{name:"business_license",value:a.business_license,onChange:b,placeholder:"S giy php"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"LinkedIn URL"}),t.jsx("input",{name:"linkedin_url",value:a.linkedin_url,onChange:b,placeholder:"https://linkedin.com/company/..."}),l.linkedin_url&&t.jsx("div",{className:"error-text",children:l.linkedin_url})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Facebook URL"}),t.jsx("input",{name:"facebook_url",value:a.facebook_url,onChange:b,placeholder:"https://facebook.com/..."}),l.facebook_url&&t.jsx("div",{className:"error-text",children:l.facebook_url})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Twitter URL"}),t.jsx("input",{name:"twitter_url",value:a.twitter_url,onChange:b,placeholder:"https://twitter.com/..."}),l.twitter_url&&t.jsx("div",{className:"error-text",children:l.twitter_url})]}),o&&t.jsx("div",{className:"field field-span error-text",children:o}),t.jsxs("div",{className:"form-actions split",children:[t.jsx("button",{className:"btn",type:"button",onClick:n,children:"Quay li"}),t.jsx("div",{className:"action-gap"}),t.jsx("button",{className:"btn btn-primary",type:"submit",disabled:j,children:j?"ang lu...":"Lu v tip tc"})]})]})]})}function i_(){const e=He();return t.jsxs("div",{className:"onboarding-card success-card",children:[t.jsx("div",{className:"success-icon","aria-hidden":!0,children:""}),t.jsx("h2",{children:"H s cng ty  c to"}),t.jsx("p",{className:"muted",children:"Trng thi: ang ch xc minh. Chng ti s thng bo khi h s c ph duyt."}),t.jsxs("div",{className:"form-actions center",children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>e("/recruiter/company"),children:"i ti trang qun l cng ty"}),t.jsx(We,{className:"btn",to:"/recruiter/dashboard",children:"Quay li dashboard"})]})]})}function l_(){const e=He(),[n,s]=u.useState("basic"),[a,i]=u.useState(null),[l,r]=u.useState(!0),[o,c]=u.useState("");u.useEffect(()=>{let j=!0;return(async()=>{try{if(r(!0),await gt.getMyCompany(),!j)return;e("/recruiter/company",{replace:!0}),r(!1)}catch(b){if(!j)return;if((b==null?void 0:b.status)===404){r(!1);return}c((b==null?void 0:b.message)||"Khng th kim tra h s cng ty."),r(!1)}})(),()=>{j=!1}},[e]);const h=j=>{i(j),s("details")},v=()=>{s("complete")},f=u.useMemo(()=>[{key:"basic",label:"Thng tin c bn"},{key:"details",label:"Chi tit & php l"},{key:"complete",label:"Hon tt"}],[]),x=()=>n==="basic"?t.jsx(t_,{onSuccess:h}):n==="details"?t.jsx(a_,{company:a,onBack:()=>s("basic"),onSuccess:v}):t.jsx(i_,{});return l?t.jsx("div",{className:"onboarding-shell",children:t.jsxs("div",{className:"loading-block",children:[t.jsx("div",{className:"spinner","aria-hidden":!0}),t.jsx("div",{children:"ang kim tra trng thi cng ty..."})]})}):o?t.jsx("div",{className:"onboarding-shell",children:t.jsxs("div",{className:"onboarding-card",children:[t.jsx("h3",{children:"C li xy ra"}),t.jsx("p",{className:"error-text",children:o}),t.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Th li"})]})}):t.jsxs("div",{className:"onboarding-shell",children:[t.jsxs("div",{className:"onboarding-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow-text",children:"Onboarding Recruiter"}),t.jsx("h1",{className:"onboarding-title",children:"To h s cng ty  bt u tuyn dng"}),t.jsx("p",{className:"muted",children:"Ch mt vi bc ngn  xy dng h s doanh nghip hon chnh v bt u ng tin tuyn dng."})]}),t.jsx("div",{className:"onboarding-meta",children:t.jsxs("div",{className:"mini-card",children:[t.jsx("div",{className:"mini-label",children:"Trng thi"}),t.jsx("strong",{children:"Cha xc minh"}),t.jsx("p",{className:"muted small",children:"B sung thng tin  c ph duyt nhanh."})]})})]}),t.jsx("div",{className:"stepper",children:f.map((j,_)=>{const b=n===j.key,g=f.findIndex(m=>m.key===n)>_;return t.jsxs("div",{className:`step ${b?"active":""} ${g?"done":""}`,children:[t.jsx("div",{className:"step-index",children:g?"":_+1}),t.jsxs("div",{className:"step-body",children:[t.jsx("div",{className:"step-label",children:j.label}),t.jsxs("div",{className:"step-desc",children:[j.key==="basic"&&"Thng tin c bn cng ty",j.key==="details"&&"Chi tit h s & php l",j.key==="complete"&&"Hon tt h s"]})]})]},j.key)})}),x()]})}const r_=e=>Array.isArray(e)?e:Array.isArray(e==null?void 0:e.data)?e.data:Array.isArray(e==null?void 0:e.items)?e.items:[],Yh=["name","description","size","contact_email","contact_phone","contact_address","linkedin_url","facebook_url","twitter_url","tax_code","business_license"],Zh=["industry","company_type","founded_year","employee_count_min","employee_count_max","website_url","revenue_range","stock_symbol","culture_description","headquarters_location_id"],o_=(e,n)=>{let s=0,a=Yh.length+Zh.length;Yh.forEach(r=>{const o=e==null?void 0:e[r];o!=null&&String(o).trim()!==""&&(s+=1)});const i=n||(e==null?void 0:e.company_details)||{};Zh.forEach(r=>{const o=i==null?void 0:i[r];o!=null&&String(o).trim()!==""&&(s+=1)});const l=Math.round(s/a*100);return{filled:s,total:a,percent:l}},c_=e=>/\S+@\S+\.\S+/.test(e),ea=e=>{if(!e)return!1;try{return!!new URL(e)}catch{return!1}};function d_(){const[e,n]=u.useState(null),[s,a]=u.useState(null),[i,l]=u.useState([]),[r,o]=u.useState(!0),[c,h]=u.useState("");u.useEffect(()=>{let _=!0;return(async()=>{o(!0),h("");try{const g=await gt.getMyCompany();let m=null;try{m=await gt.getMyCompanyDetails()}catch(p){if((p==null?void 0:p.status)!==404)throw p}let d=[];try{d=await gt.listMyBenefits()}catch(p){if((p==null?void 0:p.status)!==404)throw p}if(!_)return;n(g),a(m&&Object.keys(m||{}).length>0?m:null),l(r_(d))}catch(g){if(!_)return;h((g==null?void 0:g.message)||"Khng th ti d liu cng ty.")}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const v=(e==null?void 0:e.name)||"Cng ty ca bn",f=o_(e,s),x=f.percent<100;if(r)return t.jsx("div",{className:"recruiter-company-page",children:t.jsxs("div",{className:"loading-block",children:[t.jsx("div",{className:"spinner","aria-hidden":!0}),t.jsx("div",{children:"ang ti h s cng ty..."})]})});if(c)return t.jsx("div",{className:"recruiter-company-page",children:t.jsxs("div",{className:"error-block",children:[t.jsx("h3",{children:"C li xy ra"}),t.jsx("p",{className:"error-text",children:c}),t.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Th li"})]})});const j=ig(e);return t.jsxs("div",{className:"recruiter-company-page",children:[x&&t.jsxs("div",{className:"rd-banner warning",style:{marginBottom:12,borderRadius:14,display:"flex",alignItems:"center",gap:12,justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsxs("strong",{children:["H s hon thnh ",f.percent,"%"]}),t.jsx("p",{className:"muted",style:{margin:"4px 0 0"},children:"Hon thnh  thng tin  c duyt v ng tin."})]}),t.jsx("div",{style:{flex:"0 0 220px",background:"#e2e8f0",height:10,borderRadius:999},children:t.jsx("div",{style:{width:`${f.percent}%`,height:"100%",borderRadius:999,background:"linear-gradient(90deg,#4f8bff,#2f64f2)"}})})]}),t.jsxs("div",{className:"page-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow-text",children:"H s cng ty"}),t.jsx("h1",{children:v}),t.jsx("p",{className:"muted",children:"Qun l thng tin doanh nghip, chi tit v cc phc li ni bt."})]}),t.jsxs("div",{className:`status-pill status-pill--compact status-pill--${j.kind}`,children:[t.jsx("span",{className:"dot"}),t.jsx("span",{children:j.label})]})]}),t.jsxs("div",{className:"recruiter-company-layout",children:[t.jsxs("div",{className:"recruiter-company-layout__main",children:[t.jsx(h_,{company:e,onUpdated:_=>n(b=>({...b||{},..._||{}}))}),t.jsx(m_,{details:s,onSaved:_=>a(_),onDeleted:()=>a(null)})]}),t.jsxs("aside",{className:"recruiter-company-layout__side",children:[t.jsx(u_,{company:e}),t.jsx(p_,{benefits:i,onChange:_=>l(_)})]})]})]})}function u_({company:e}){const n=ig(e);return t.jsxs("div",{className:"company-card status-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{children:[t.jsx("h3",{children:"Trng thi h s"}),t.jsx("p",{className:"muted",children:"Theo di tin trnh xt duyt doanh nghip."})]})}),t.jsx("div",{className:"status-row single",children:t.jsxs("span",{className:`status-chip ${n.kind}`,children:[t.jsx("span",{className:"dot"}),n.label]})}),t.jsx("p",{className:"muted small",style:{marginTop:6},children:n.subText}),t.jsx("p",{className:"muted small",style:{marginTop:10,fontWeight:600},children:n.conclusion}),n.publicLink&&t.jsx("button",{className:"btn link-btn",type:"button",onClick:()=>window.open(n.publicLink,"_blank"),children:"Xem trang cng ty"})]})}function h_({company:e,onUpdated:n}){const[s,a]=u.useState(!1),[i,l]=u.useState(em(e)),[r,o]=u.useState(!1),[c,h]=u.useState(""),[v,f]=u.useState(!1),[x,j]=u.useState(""),_=u.useRef(null);u.useEffect(()=>{l(em(e)),j(""),h("")},[e]);const b=p=>{const{name:y,value:S}=p.target;l(w=>({...w,[y]:S}))},g=async p=>{if(!p)return;if(j(""),!p.type.startsWith("image/")){j("Vui lng chn tp nh.");return}const y=2*1024*1024;if(p.size>y){j("nh ti a 2MB.");return}if(!(e!=null&&e.id)){j("Cha c ID cng ty  ti logo.");return}f(!0);try{const S=await gt.uploadCompanyLogo(e.id,p),w=(S==null?void 0:S.url)||(S==null?void 0:S.logo_url)||(S==null?void 0:S.logoUrl)||(S==null?void 0:S.path)||"";w&&(n==null||n(k=>({...k||{},logo_url:w}))),j("")}catch(S){j((S==null?void 0:S.message)||"Khng th ti logo.")}finally{f(!1),_.current&&(_.current.value="")}},m=async p=>{p.preventDefault();const y=[];if((!i.name||i.name.trim().length<3)&&y.push("Tn cng ty ti thiu 3 k t."),i.contact_email&&!c_(i.contact_email.trim())&&y.push("Email khng hp l."),i.contact_phone){const w=i.contact_phone.replace(/\D/g,"");(w.length<8||w.length>15)&&y.push("S in thoi khng hp l.")}if(i.size){const w=parseInt(i.size,10);(Number.isNaN(w)||w<=0)&&y.push("Quy m phi l s nguyn dng.")}if(i.linkedin_url&&!ea(i.linkedin_url.trim())&&y.push("LinkedIn URL khng hp l."),i.facebook_url&&!ea(i.facebook_url.trim())&&y.push("Facebook URL khng hp l."),i.twitter_url&&!ea(i.twitter_url.trim())&&y.push("Twitter URL khng hp l."),y.length){h(y.join(" "));return}const S={};if(Object.entries(i).forEach(([w,k])=>{const C=typeof k=="string"?k.trim():k;if(!(C===""||C===null||C===void 0))if(w==="size"){const T=parseInt(C,10);Number.isNaN(T)||(S[w]=T)}else S[w]=C}),Object.keys(S).length===0){h("Nhp t nht mt trng  cp nht.");return}o(!0),h("");try{const w=await gt.updateMyCompany(S);n==null||n(w),a(!1)}catch(w){h((w==null?void 0:w.message)||"Khng th cp nht thng tin cng ty.")}finally{o(!1)}},d=e==null?void 0:e.logo_url;return t.jsxs("div",{className:"company-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"card-title",children:[t.jsx("div",{className:"avatar-lg",children:d?t.jsx("img",{src:d,alt:(e==null?void 0:e.name)||"Logo cng ty"}):(e==null?void 0:e.name)||"C"}),t.jsxs("div",{children:[t.jsx("h3",{children:(e==null?void 0:e.name)||"Cng ty cha t tn"}),t.jsx("p",{className:"muted",children:(e==null?void 0:e.description)||"Cha c m t"}),t.jsxs("div",{className:"logo-upload",children:[t.jsx("input",{type:"file",accept:"image/*",ref:_,style:{display:"none"},onChange:p=>{var y;return g((y=p.target.files)==null?void 0:y[0])}}),t.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>{var p;return(p=_.current)==null?void 0:p.click()},disabled:v||!(e!=null&&e.id),children:v?"ang ti logo...":"Ti logo"}),x&&t.jsx("div",{className:"error-text",children:x})]})]})]}),!s&&t.jsx("button",{className:"btn btn-secondary",onClick:()=>a(!0),children:"Chnh sa"})]}),s?t.jsxs("form",{className:"form-grid",onSubmit:m,children:[t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Tn cng ty"}),t.jsx("input",{name:"name",value:i.name,onChange:b})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"M t"}),t.jsx("textarea",{name:"description",value:i.description,onChange:b,rows:3})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Quy m"}),t.jsx("input",{name:"size",value:i.size,onChange:b,inputMode:"numeric"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Email lin h"}),t.jsx("input",{name:"contact_email",value:i.contact_email,onChange:b,type:"email"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"S in thoi"}),t.jsx("input",{name:"contact_phone",value:i.contact_phone,onChange:b})]}),t.jsxs("div",{className:"field field-span",children:[t.jsx("label",{children:"a ch"}),t.jsx("input",{name:"contact_address",value:i.contact_address,onChange:b})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"LinkedIn"}),t.jsx("input",{name:"linkedin_url",value:i.linkedin_url,onChange:b,placeholder:"https://..."})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Facebook"}),t.jsx("input",{name:"facebook_url",value:i.facebook_url,onChange:b,placeholder:"https://..."})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Twitter"}),t.jsx("input",{name:"twitter_url",value:i.twitter_url,onChange:b,placeholder:"https://..."})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"M s thu"}),t.jsx("input",{name:"tax_code",value:i.tax_code,onChange:b})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Giy php kinh doanh"}),t.jsx("input",{name:"business_license",value:i.business_license,onChange:b})]}),c&&t.jsx("div",{className:"field field-span error-text",children:c}),t.jsxs("div",{className:"form-actions split",children:[t.jsx("button",{className:"btn",type:"button",onClick:()=>a(!1),children:"Hy"}),t.jsx("div",{className:"action-gap"}),t.jsx("button",{className:"btn btn-primary",type:"submit",disabled:r,children:r?"ang lu...":"Lu"})]})]}):t.jsxs("div",{className:"info-grid",children:[t.jsx(Ks,{label:"Quy m",value:e!=null&&e.size?`${e.size} nhn s`:"Cha cp nht"}),t.jsx(Ks,{label:"Email",value:(e==null?void 0:e.contact_email)||"Cha cp nht"}),t.jsx(Ks,{label:"in thoi",value:(e==null?void 0:e.contact_phone)||"Cha cp nht"}),t.jsx(Ks,{label:"a ch",value:(e==null?void 0:e.contact_address)||"Cha cp nht"}),t.jsx(Ks,{label:"Lin kt",value:t.jsxs("div",{className:"link-row",children:[(e==null?void 0:e.linkedin_url)&&t.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noreferrer",children:"LinkedIn"}),(e==null?void 0:e.facebook_url)&&t.jsx("a",{href:e.facebook_url,target:"_blank",rel:"noreferrer",children:"Facebook"}),(e==null?void 0:e.twitter_url)&&t.jsx("a",{href:e.twitter_url,target:"_blank",rel:"noreferrer",children:"Twitter"}),!(e!=null&&e.linkedin_url)&&!(e!=null&&e.facebook_url)&&!(e!=null&&e.twitter_url)&&"Cha cp nht"]})}),t.jsx(Ks,{label:"M s thu",value:(e==null?void 0:e.tax_code)||"Cha cp nht"}),t.jsx(Ks,{label:"Giy php kinh doanh",value:(e==null?void 0:e.business_license)||"Cha cp nht"})]})]})}function m_({details:e,onSaved:n,onDeleted:s}){const[a,i]=u.useState(!1),[l,r]=u.useState(Po(e)),[o,c]=u.useState(!1),[h,v]=u.useState(""),[f,x]=u.useState(!1);u.useEffect(()=>{r(Po(e))},[e]);const j=g=>{const{name:m,value:d}=g.target;r(p=>({...p,[m]:d}))},_=async g=>{g.preventDefault();const m=[],d=l.founded_year?parseInt(l.founded_year,10):null,p=l.employee_count_min?parseInt(l.employee_count_min,10):null,y=l.employee_count_max?parseInt(l.employee_count_max,10):null,S=new Date().getFullYear();if(d!==null&&(Number.isNaN(d)||d<1800||d>S)&&m.push(`Nm thnh lp phi trong khong 1800-${S}.`),p!==null&&(Number.isNaN(p)||p<=0)&&m.push("S nhn s ti thiu phi > 0."),y!==null&&(Number.isNaN(y)||y<=0)&&m.push("S nhn s ti a phi > 0."),p!==null&&y!==null&&p>y&&m.push("S nhn s ti thiu khng c ln hn ti a."),l.website_url&&!ea(l.website_url.trim())&&m.push("Website URL khng hp l."),l.linkedin_url&&!ea(l.linkedin_url.trim())&&m.push("LinkedIn URL khng hp l."),l.facebook_url&&!ea(l.facebook_url.trim())&&m.push("Facebook URL khng hp l."),l.twitter_url&&!ea(l.twitter_url.trim())&&m.push("Twitter URL khng hp l."),m.length){v(m.join(" "));return}const w={};if(Object.entries(l).forEach(([k,C])=>{const T=typeof C=="string"?C.trim():C;if(T!=="")if(["founded_year","employee_count_min","employee_count_max"].includes(k)){const L=parseInt(T,10);Number.isNaN(L)||(w[k]=L)}else w[k]=T}),Object.keys(w).length===0){v("Nhp t nht mt trng chi tit.");return}c(!0),v("");try{let k;e?k=await gt.updateMyCompanyDetails(w):k=await gt.createMyCompanyDetails(w),n==null||n(k),i(!1)}catch(k){v((k==null?void 0:k.message)||"Khng th lu chi tit.")}finally{c(!1)}},b=async()=>{if(window.confirm("Bn chc chn mun xa chi tit cng ty?"))try{await gt.deleteMyCompanyDetails(),s==null||s(),r(Po(null)),i(!1)}catch(g){v((g==null?void 0:g.message)||"Khng th xa chi tit.")}};return t.jsxs("div",{className:"company-card company-details-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:"Thng tin chi tit"}),t.jsx("p",{className:"muted",children:"Thng tin v lnh vc, quy m v cp nht h s."})]}),!a&&t.jsxs("div",{className:"button-row",children:[e&&t.jsx("button",{className:"btn",onClick:b,children:"Xa chi tit"}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>i(!0),children:e?"Chnh sa":"Thm chi tit"})]})]}),a?t.jsxs("form",{className:"form-grid",onSubmit:_,children:[t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Ngnh ngh"}),t.jsx("input",{name:"industry",value:l.industry,onChange:j})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Nm thnh lp"}),t.jsx("input",{name:"founded_year",value:l.founded_year,onChange:j,inputMode:"numeric"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Nhn s ti thiu"}),t.jsx("input",{name:"employee_count_min",value:l.employee_count_min,onChange:j,inputMode:"numeric"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Nhn s ti a"}),t.jsx("input",{name:"employee_count_max",value:l.employee_count_max,onChange:j,inputMode:"numeric"})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Website"}),t.jsx("input",{name:"website_url",value:l.website_url,onChange:j,placeholder:"https://..."})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Tr s (UUID)"}),t.jsx("input",{name:"headquarters_location_id",value:l.headquarters_location_id,onChange:j})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Loi hnh cng ty"}),t.jsx("input",{name:"company_type",value:l.company_type,onChange:j})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Doanh thu"}),t.jsx("input",{name:"revenue_range",value:l.revenue_range,onChange:j})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"M chng khon"}),t.jsx("input",{name:"stock_symbol",value:l.stock_symbol,onChange:j})]}),t.jsxs("div",{className:"field field-span",children:[t.jsx("label",{children:"M t vn ha"}),t.jsx("textarea",{name:"culture_description",value:l.culture_description,onChange:j,rows:3})]}),h&&t.jsx("div",{className:"field field-span error-text",children:h}),t.jsxs("div",{className:"form-actions split",children:[t.jsx("button",{className:"btn",type:"button",onClick:()=>{i(!1),v("")},children:"Hy"}),t.jsx("div",{className:"action-gap"}),t.jsx("button",{className:"btn btn-primary",type:"submit",disabled:o,children:o?"ang lu...":"Lu"})]})]}):e?t.jsxs("div",{className:"company-details-grid",children:[t.jsx(vs,{label:"Ngnh ngh",value:(e==null?void 0:e.industry)||"Cha cp nht"}),t.jsx(vs,{label:"Loi hnh",value:(e==null?void 0:e.company_type)||"Cha cp nht"}),t.jsx(vs,{label:"Nm thnh lp",value:(e==null?void 0:e.founded_year)||"Cha cp nht"}),t.jsx(vs,{label:"Nhn s",value:f_(e==null?void 0:e.employee_count_min,e==null?void 0:e.employee_count_max)}),t.jsx(vs,{label:"Doanh thu",value:(e==null?void 0:e.revenue_range)||"Cha cp nht"}),t.jsx(vs,{label:"M CK",value:(e==null?void 0:e.stock_symbol)||"Cha cp nht"}),t.jsx(vs,{label:"Tr s",value:g_(e)}),t.jsx(vs,{label:"Website",value:e!=null&&e.website_url?t.jsx("a",{href:e.website_url,target:"_blank",rel:"noreferrer",children:e.website_url}):"Cha cp nht"}),t.jsxs("div",{className:"detail-item detail-item--culture",children:[t.jsx("span",{className:"detail-label",children:"Vn ha"}),t.jsx("p",{className:`detail-value detail-value--multiline${f?" is-expanded":""}`,children:(e==null?void 0:e.culture_description)||"Cha cp nht"}),(e==null?void 0:e.culture_description)&&e.culture_description.length>200&&t.jsx("button",{className:"link-btn small",type:"button",onClick:()=>x(g=>!g),children:f?"Thu gn":"Xem thm"})]})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx("p",{children:"Cha c thng tin chi tit cng ty."}),t.jsx("button",{className:"btn btn-primary",onClick:()=>i(!0),children:"Thm chi tit"})]})]})}function p_({benefits:e,onChange:n}){const[s,a]=u.useState({benefit_type:"",title:"",description:"",is_featured:!1}),[i,l]=u.useState(!1),[r,o]=u.useState(""),[c,h]=u.useState(""),[v,f]=u.useState(s),x=async g=>{if(g.preventDefault(),!s.benefit_type.trim()||!s.title.trim()){o("Nhp loi phc li v tiu .");return}l(!0),o("");try{const m=await gt.createBenefit({benefit_type:s.benefit_type.trim(),title:s.title.trim(),description:s.description.trim()||void 0,is_featured:!!s.is_featured});n==null||n([m,...e]),a({benefit_type:"",title:"",description:"",is_featured:!1})}catch(m){o((m==null?void 0:m.message)||"Khng th thm phc li.")}finally{l(!1)}},j=g=>{h(g.id||g._id),f({benefit_type:g.benefit_type||"",title:g.title||"",description:g.description||"",is_featured:!!g.is_featured})},_=async g=>{if(!v.benefit_type.trim()||!v.title.trim()){o("Nhp loi phc li v tiu .");return}l(!0),o("");try{const m=await gt.updateBenefit(g,{benefit_type:v.benefit_type.trim(),title:v.title.trim(),description:v.description.trim()||void 0,is_featured:!!v.is_featured}),d=e.map(p=>String(p.id||p._id)===String(g)?{...p,...m}:p);n==null||n(d),h("")}catch(m){o((m==null?void 0:m.message)||"Khng th cp nht phc li.")}finally{l(!1)}},b=async g=>{if(window.confirm("Xa phc li ny?"))try{await gt.deleteBenefit(g),n==null||n(e.filter(m=>String(m.id||m._id)!==String(g)))}catch(m){o((m==null?void 0:m.message)||"Khng th xa phc li.")}};return t.jsxs("div",{className:"company-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{children:[t.jsx("h3",{children:"Phc li cng ty"}),t.jsx("p",{className:"muted",children:"Thm nhng im ni bt v phc li cho ng vin."})]})}),t.jsxs("form",{className:"benefit-form",onSubmit:x,children:[t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Loi phc li"}),t.jsx("input",{name:"benefit_type",value:s.benefit_type,onChange:g=>a(m=>({...m,benefit_type:g.target.value})),placeholder:"Bo him, Ngh php, ..."})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Tiu "}),t.jsx("input",{name:"title",value:s.title,onChange:g=>a(m=>({...m,title:g.target.value})),placeholder:"Bo him sc khe ton din"})]}),t.jsxs("div",{className:"field field-span",children:[t.jsx("label",{children:"M t"}),t.jsx("textarea",{name:"description",value:s.description,onChange:g=>a(m=>({...m,description:g.target.value})),rows:3,placeholder:"M t ngn v phc li"})]}),t.jsxs("label",{className:"checkbox",children:[t.jsx("input",{type:"checkbox",checked:s.is_featured,onChange:g=>a(m=>({...m,is_featured:g.target.checked}))}),t.jsx("span",{children:"nh du ni bt"})]}),r&&t.jsx("div",{className:"field field-span error-text",children:r}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{className:"btn btn-primary",type:"submit",disabled:i,children:i?"ang lu...":"Thm phc li"})})]}),t.jsxs("div",{className:"benefit-list",children:[e.length===0&&t.jsx("div",{className:"empty-state",children:"Cha c phc li no."}),e.map(g=>{const m=g.id||g._id,d=String(c)===String(m);return t.jsx("div",{className:"benefit-card",children:d?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Loi phc li"}),t.jsx("input",{name:"benefit_type",value:v.benefit_type,onChange:p=>f(y=>({...y,benefit_type:p.target.value}))})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{children:"Tiu "}),t.jsx("input",{name:"title",value:v.title,onChange:p=>f(y=>({...y,title:p.target.value}))})]}),t.jsxs("div",{className:"field field-span",children:[t.jsx("label",{children:"M t"}),t.jsx("textarea",{name:"description",value:v.description,onChange:p=>f(y=>({...y,description:p.target.value})),rows:3})]}),t.jsxs("label",{className:"checkbox",children:[t.jsx("input",{type:"checkbox",checked:v.is_featured,onChange:p=>f(y=>({...y,is_featured:p.target.checked}))}),t.jsx("span",{children:"nh du ni bt"})]}),t.jsxs("div",{className:"button-row",children:[t.jsx("button",{className:"btn",type:"button",onClick:()=>{h(""),f({benefit_type:"",title:"",description:"",is_featured:!1})},children:"Hy"}),t.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>_(m),disabled:i,children:i?"ang lu...":"Lu"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"benefit-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"benefit-type",children:g.benefit_type}),t.jsx("h4",{children:g.title})]}),t.jsxs("div",{className:"button-row",children:[t.jsx("button",{className:"btn",onClick:()=>b(m),children:"Xa"}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>j(g),children:"Sa"})]})]}),g.description&&t.jsx("p",{className:"muted",children:g.description}),g.is_featured&&t.jsx("span",{className:"badge badge-featured",children:"Ni bt"})]})},m)})]})]})}function Ks({label:e,value:n}){return t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:e}),t.jsx("span",{className:"info-value",children:n||"Cha cp nht"})]})}function vs({label:e,value:n}){return t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:e}),t.jsx("span",{className:"detail-value",children:n||"Cha cp nht"})]})}function f_(e,n){return e&&n?`${e} - ${n} nhn s`:e?`T ${e} nhn s`:n?`n ${n} nhn s`:"Cha cp nht"}function g_(e){var s;if(!e)return"Cha cp nht";const n=((s=e.headquarters_location)==null?void 0:s.name)||e.headquarters||e.headquarters_location_name;return n||"Cha cp nht"}function ig(e){const n=!!(e!=null&&e.is_verified),s=((e==null?void 0:e.status)||"").toLowerCase(),a=e!=null&&e.id?`/companies/${e.id}`:null,i=n||["active","verified","approved","accept","confirm"].some(o=>s.includes(o)),l=["pending","review","wait"].some(o=>s.includes(o)),r=["reject","deny","blocked"].some(o=>s.includes(o));return i?{kind:"verified",label:" xc minh",subText:"H s doanh nghip ca bn  c ph duyt.",conclusion:"Bn c th ng job v hin th cng khai.",publicLink:a}:l?{kind:"pending",label:"ang ch xc minh",subText:"Chng ti ang xem xt h s ca bn.",conclusion:"Tm thi bn ch c th lu job di dng nhp.",publicLink:null}:r?{kind:"rejected",label:"Cha xc minh",subText:"Vui lng hon thin h s  c duyt.",conclusion:"Tm thi bn ch c th lu job di dng nhp.",publicLink:null}:{kind:"default",label:"Cha xc minh",subText:"Vui lng hon thin h s  c duyt.",conclusion:"Tm thi bn ch c th lu job di dng nhp.",publicLink:null}}function em(e){return{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",size:e!=null&&e.size?String(e.size):"",contact_email:(e==null?void 0:e.contact_email)||"",contact_phone:(e==null?void 0:e.contact_phone)||"",contact_address:(e==null?void 0:e.contact_address)||"",linkedin_url:(e==null?void 0:e.linkedin_url)||"",facebook_url:(e==null?void 0:e.facebook_url)||"",twitter_url:(e==null?void 0:e.twitter_url)||"",tax_code:(e==null?void 0:e.tax_code)||"",business_license:(e==null?void 0:e.business_license)||""}}function Po(e){return{industry:(e==null?void 0:e.industry)||"",founded_year:e!=null&&e.founded_year?String(e.founded_year):"",employee_count_min:e!=null&&e.employee_count_min?String(e.employee_count_min):"",employee_count_max:e!=null&&e.employee_count_max?String(e.employee_count_max):"",website_url:(e==null?void 0:e.website_url)||"",headquarters_location_id:(e==null?void 0:e.headquarters_location_id)||"",company_type:(e==null?void 0:e.company_type)||"",revenue_range:(e==null?void 0:e.revenue_range)||"",stock_symbol:(e==null?void 0:e.stock_symbol)||"",culture_description:(e==null?void 0:e.culture_description)||""}}function x_({children:e}){const n=He(),[s,a]=u.useState("loading"),[i,l]=u.useState(""),[r,o]=u.useState(0);return u.useEffect(()=>{let c=!0;return(async()=>{try{if(l(""),a("loading"),await gt.getMyCompany(),!c)return;a("ready")}catch(v){if(!c)return;if((v==null?void 0:v.status)===404){n("/onboarding/company",{replace:!0});return}l((v==null?void 0:v.message)||"Khng th kim tra h s cng ty. Vui lng th li."),a("error")}})(),()=>{c=!1}},[n,r]),s==="loading"?t.jsxs("div",{className:"guard-state",children:[t.jsx("div",{className:"spinner","aria-hidden":!0}),t.jsx("div",{children:"ang kim tra trng thi doanh nghip ca bn..."})]}):s==="error"?t.jsxs("div",{className:"guard-state error",children:[t.jsx("div",{role:"alert",children:i}),t.jsx("button",{className:"btn btn-primary",onClick:()=>o(c=>c+1),children:"Th li"})]}):e}function v_({company:e}){var r,o,c;const n=e==null?void 0:e.logo_url,s=(e==null?void 0:e.name)||"Cng ty",a=s.slice(0,1).toUpperCase(),i=(r=e==null?void 0:e.company_details)==null?void 0:r.industry,l=((c=(o=e==null?void 0:e.company_details)==null?void 0:o.headquarters_location)==null?void 0:c.name)||(e==null?void 0:e.contact_address)||"Cha cp nht";return t.jsx("section",{className:"cd-card header-card",children:t.jsxs("div",{className:"header-left",children:[t.jsx("div",{className:"header-logo",children:n?t.jsx("img",{src:n,alt:s}):t.jsx("span",{children:a})}),t.jsxs("div",{children:[t.jsxs("div",{className:"header-title-row",children:[t.jsx("h1",{children:s}),(e==null?void 0:e.is_verified)&&t.jsx("span",{className:"verified-badge",children:" xc minh"})]}),t.jsxs("div",{className:"header-meta",children:[i&&t.jsx("span",{children:i}),t.jsxs("span",{children:["  ",l]})]})]})]})})}const js=({label:e,value:n})=>n?t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:e}),t.jsx("strong",{className:"info-value",children:n})]}):null,j_=e=>{const n=(e==null?void 0:e.company_details)||{};return n.employee_count_min&&n.employee_count_max?`${n.employee_count_min}-${n.employee_count_max} nhn s`:e!=null&&e.size?`${e.size} nhn s`:"Cha r"};function y_({company:e}){const n=(e==null?void 0:e.company_details)||{};return t.jsxs("section",{className:"cd-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Thng tin chung"})}),t.jsxs("div",{className:"info-grid",children:[t.jsx(js,{label:"Ngnh ngh",value:n.industry}),t.jsx(js,{label:"Loi hnh cng ty",value:n.company_type}),t.jsx(js,{label:"Nm thnh lp",value:n.founded_year}),t.jsx(js,{label:"Quy m",value:j_(e)}),t.jsx(js,{label:"Doanh thu",value:n.revenue_range}),t.jsx(js,{label:"M c phiu",value:n.stock_symbol}),t.jsx(js,{label:"M s thu",value:e==null?void 0:e.tax_code}),t.jsx(js,{label:"Trng thi",value:e==null?void 0:e.status})]})]})}function __({company:e}){const s=((e==null?void 0:e.company_details)||{}).website_url,a=[{label:"LinkedIn",url:e==null?void 0:e.linkedin_url},{label:"Facebook",url:e==null?void 0:e.facebook_url},{label:"Twitter",url:e==null?void 0:e.twitter_url}].filter(l=>l.url);return(e==null?void 0:e.contact_email)||(e==null?void 0:e.contact_phone)||(e==null?void 0:e.contact_address)||s||a.length?t.jsxs("section",{className:"cd-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Lin h"})}),t.jsxs("div",{className:"contact-list",children:[(e==null?void 0:e.contact_email)&&t.jsxs("div",{className:"contact-row",children:[t.jsx("span",{className:"info-label",children:"Email"}),t.jsx("a",{href:`mailto:${e.contact_email}`,className:"link",children:e.contact_email})]}),(e==null?void 0:e.contact_phone)&&t.jsxs("div",{className:"contact-row",children:[t.jsx("span",{className:"info-label",children:"in thoi"}),t.jsx("a",{href:`tel:${e.contact_phone}`,className:"link",children:e.contact_phone})]}),(e==null?void 0:e.contact_address)&&t.jsxs("div",{className:"contact-row",children:[t.jsx("span",{className:"info-label",children:"a ch"}),t.jsx("span",{className:"info-value",children:e.contact_address})]}),s&&t.jsxs("div",{className:"contact-row",children:[t.jsx("span",{className:"info-label",children:"Website"}),t.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"link",children:s})]}),a.length?t.jsxs("div",{className:"contact-row",children:[t.jsx("span",{className:"info-label",children:"Mng x hi"}),t.jsx("div",{className:"social-inline",children:a.map(l=>t.jsx("a",{href:l.url,target:"_blank",rel:"noreferrer",className:"chip-link",children:l.label},l.label))})]}):null]})]}):null}function N_({benefits:e=[]}){return!e||!e.length?t.jsxs("section",{className:"cd-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Quyn li"})}),t.jsx("p",{className:"muted",children:"Cha c quyn li no c cp nht."})]}):t.jsxs("section",{className:"cd-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Quyn li"})}),t.jsx("div",{className:"benefits-list",children:e.map(n=>t.jsxs("div",{className:`benefit-item ${n.is_featured?"featured":""}`,children:[t.jsxs("div",{children:[t.jsx("div",{className:"benefit-title",children:n.title}),n.description&&t.jsx("p",{className:"muted",children:n.description})]}),t.jsxs("div",{className:"benefit-meta",children:[t.jsx("span",{className:"pill",children:n.benefit_type}),n.is_featured&&t.jsx("span",{className:"pill success",children:"Ni bt"})]})]},n.id||n.title))})]})}function b_({culture:e}){const[n,s]=u.useState(!1);if(!e)return t.jsxs("section",{className:"cd-card culture-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Vn ha"})}),t.jsx("p",{className:"muted",children:"Cha cp nht thng tin vn ha."})]});const a=e.length>220,i=!a||n?e:`${e.slice(0,220)}...`;return t.jsxs("section",{className:"cd-card culture-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Vn ha"})}),t.jsx("p",{className:"description-text",children:i}),a&&t.jsx("button",{className:"link-btn small",onClick:()=>s(l=>!l),children:n?"Thu gn":"Xem thm"})]})}const w_=e=>{var a,i,l,r,o;const n=e.salary_range||e.salaryRange||{},s=e.companyLogoUrl||((a=e.company)==null?void 0:a.logo_url)||((i=e.company)==null?void 0:i.logoUrl)||e.logo_url||e.logoUrl||null;return{id:e.id,title:e.title,companyName:((l=e.company)==null?void 0:l.name)||e.companyName||"Cha c tn cng ty",companyLogoUrl:s,location:((r=e.location)==null?void 0:r.name)||((o=e.locations)==null?void 0:o.name)||e.location||"Bt k",jobType:e.job_type||e.jobType,experienceLevel:e.experience_level||e.experienceLevel,salary_range:n,createdAt:e.posted_at||e.postedAt||e.createdAt,descriptionShort:e.description_short||e.descriptionShort||e.description}};function k_({jobs:e=[],openCount:n=0}){const s=e.map(a=>w_(a));return t.jsxs("section",{className:"cd-card",id:"company-jobs-section",children:[t.jsx("div",{className:"section-head",children:t.jsxs("h3",{children:["Cc v tr ang tuyn (",n,")"]})}),s.length?t.jsx("div",{className:"jobs-list cards",children:s.map(a=>t.jsx(Hr,{job:a},a.id||a.title))}):t.jsx("p",{className:"muted",children:"Hin ti cng ty cha c v tr no ang tuyn."})]})}function C_({company:e,formatEmployeeRange:n,onQuickApply:s}){var r,o;const a=((r=e==null?void 0:e.stats)==null?void 0:r.open_jobs_count)||(e.open_jobs||[]).length||0,i=(e==null?void 0:e.company_details)||{},l=((o=i.headquarters_location)==null?void 0:o.name)||(e==null?void 0:e.contact_address)||"Cha r";return t.jsxs("div",{className:"cd-card sidebar-card",children:[t.jsx("div",{className:"section-head",children:t.jsx("h3",{children:"Tng quan"})}),t.jsxs("div",{className:"summary-list",children:[t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"info-label",children:"ang tuyn"}),t.jsxs("strong",{className:"info-value",children:[a," v tr"]})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"info-label",children:"Nm thnh lp"}),t.jsx("strong",{className:"info-value",children:i.founded_year||"Cha r"})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"info-label",children:"Quy m"}),t.jsx("strong",{className:"info-value",children:n(e)})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"info-label",children:"Ngnh"}),t.jsx("strong",{className:"info-value",children:i.industry||"Cha r"})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"info-label",children:"Tr s"}),t.jsx("strong",{className:"info-value",children:l})]})]}),t.jsx("div",{className:"sidebar-actions",children:t.jsx("button",{className:"btn primary",onClick:s,children:"ng tuyn nhanh"})})]})}const S_=e=>{const n=(e==null?void 0:e.company_details)||{};return n.employee_count_min&&n.employee_count_max?`${n.employee_count_min}-${n.employee_count_max} nhn s`:e!=null&&e.size?`${e.size} nhn s`:"Cha r"},ma={id:"sample-company",name:"ACME Software",logo_url:"",is_verified:!0,contact_email:"hr@acme.com",contact_phone:"+84 24 0000 000",contact_address:"H Ni, Vit Nam",tax_code:"0101234567",status:"active",company_details:{industry:"Software",company_type:"Product",founded_year:2015,employee_count_min:100,employee_count_max:250,website_url:"https://example.com",revenue_range:"1M-5M USD",stock_symbol:"ACME",culture_description:"Mi trng m, tp trung hc hi, khuyn khch sng to.",headquarters_location:{name:"H Ni, Vit Nam"}},company_benefits:[{id:"b1",title:"Lng cnh tranh",description:"Review hng nm",benefit_type:"salary",is_featured:!0},{id:"b2",title:"Bo him sc khe",description:"Gi premium cho nhn vin v gia nh",benefit_type:"health",is_featured:!1},{id:"b3",title:"o to",description:"Ngn sch 1000$/nm cho kha hc",benefit_type:"learning",is_featured:!1}],open_jobs:[{id:"job-1",title:"Frontend Engineer",location:{name:"H Ni"},salary_range:{min:1800,max:2500,currency:"USD"},job_type:"full_time",experience_level:"3+ nm kinh nghim",posted_at:"2025-01-10"},{id:"job-2",title:"Backend Developer",location:{name:"Remote"},salary_range:{min:1700,max:2300,currency:"USD"},job_type:"full_time",experience_level:"2+ nm kinh nghim",posted_at:"2025-01-05"}],stats:{open_jobs_count:2}},T_={"sample-1":{...ma,id:"sample-1"},"sample-2":{...ma,id:"sample-2",name:"Bright Labs",contact_address:"TP. H Ch Minh, Vit Nam",company_details:{...ma.company_details,industry:"Design & Tech",company_type:"Agency",headquarters_location:{name:"TP. H Ch Minh, Vit Nam"}}},"sample-3":{...ma,id:"sample-3",name:"CloudOps Asia",contact_address:" Nng, Vit Nam",company_details:{...ma.company_details,industry:"Cloud & DevOps",company_type:"Outsourcing",headquarters_location:{name:" Nng, Vit Nam"}}},"sample-company":ma},tm=e=>{var r;if(!e)return null;const n=(e==null?void 0:e.data)??e;if(!n)return null;const s=n.company_details||{},a=((r=s.headquarters_location)==null?void 0:r.name)||n.contact_address||"",i=(n.open_jobs||n.jobs||[]).map(o=>{var v,f;const c=o.locations&&typeof o.locations=="object"?{...o,location:{id:o.locations.id,name:o.locations.name,type:o.locations.type}}:o,h=n.logo_url||n.logoUrl||((v=o.company)==null?void 0:v.logo_url)||((f=o.company)==null?void 0:f.logoUrl)||null;return{...c,company:{name:n.name,logo_url:h},companyName:n.name,companyLogoUrl:h}}),l=n.company_benefits||[];return{...n,id:n.id,name:n.name,description:n.description,logo_url:n.logo_url,size:n.size,contact_email:n.contact_email,contact_phone:n.contact_phone,contact_address:n.contact_address,linkedin_url:n.linkedin_url,facebook_url:n.facebook_url,twitter_url:n.twitter_url,created_at:n.created_at,updated_at:n.updated_at,company_details:s,company_benefits:l,location:a,open_jobs:i,stats:n.stats||{open_jobs_count:i.length||0}}};function E_(){var o,c;const{id:e}=Gn(),[n,s]=u.useState(null),[a,i]=u.useState(!0),[l,r]=u.useState("");return u.useEffect(()=>{let h=!0;return(async()=>{i(!0),r("");try{const f=T_[e];if(f){h&&(s(tm(f)),i(!1));return}const x=await gt.getPublicCompany(e);if(!h)return;const j=tm(x);if(!j)throw new Error("Company data is null or invalid");s(j),r("")}catch(f){if(!h)return;console.error("Error fetching company:",f),s(null),r((f==null?void 0:f.message)||"Khng ti c thng tin cng ty.")}finally{h&&i(!1)}})(),()=>{h=!1}},[e]),a?t.jsx("div",{className:"company-details-page",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"skeleton-card"}),t.jsxs("div",{className:"details-grid",children:[t.jsx("div",{className:"skeleton-card tall"}),t.jsx("div",{className:"skeleton-card"})]})]})}):n?t.jsx("div",{className:"company-details-page",children:t.jsxs("div",{className:"container",children:[t.jsx(v_,{company:n}),t.jsxs("div",{className:"details-grid",children:[t.jsxs("main",{className:"details-main",children:[t.jsx(y_,{company:n}),t.jsx(__,{company:n}),t.jsx(N_,{benefits:n.company_benefits||n.benefits}),t.jsx(b_,{culture:(o=n.company_details)==null?void 0:o.culture_description}),t.jsx(k_,{jobs:n.open_jobs||[],openCount:((c=n.stats)==null?void 0:c.open_jobs_count)||(n.open_jobs||[]).length})]}),t.jsx("aside",{className:"details-sidebar",children:t.jsx(C_,{company:n,formatEmployeeRange:S_,onQuickApply:()=>{const h=document.getElementById("company-jobs-section");h&&h.scrollIntoView({behavior:"smooth",block:"start"})}})})]})]})}):t.jsx("div",{className:"company-details-page",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"state-card error",children:[t.jsx("p",{children:"Khng ti c thng tin cng ty."}),t.jsx("button",{className:"btn primary",onClick:()=>window.location.reload(),children:"Th li"})]})})})}function L_({open:e,onClose:n,onSuccess:s}){const[a,i]=u.useState(null),[l,r]=u.useState(""),[o,c]=u.useState(!1),[h,v]=u.useState(!1),[f,x]=u.useState(!1),[j,_]=u.useState(""),[b,g]=u.useState(!1),m=u.useRef(null),d=T=>{if(T){if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(T.type)){_("Ch chp nhn file PDF hoc DOCX."),i(null);return}i(T),l||r(T.name.replace(/\.[^/.]+$/,"")),_("")}},p=T=>{T.preventDefault(),T.stopPropagation(),T.type==="dragenter"||T.type==="dragover"?g(!0):T.type==="dragleave"&&g(!1)},y=T=>{T.preventDefault(),T.stopPropagation(),g(!1),T.dataTransfer.files&&T.dataTransfer.files[0]&&d(T.dataTransfer.files[0])},S=T=>{var L;(L=T.target.files)!=null&&L[0]&&d(T.target.files[0])},w=async T=>{if(T.preventDefault(),!a){_("Vui lng chn file CV.");return}x(!0),_("");try{const L=await Ut.uploadResume(a,{title:l.trim()||a.name,auto_parse:o,is_default:h});s==null||s(L),k()}catch(L){_((L==null?void 0:L.message)||"Khng th ti CV ln. Vui lng th li.")}finally{x(!1)}},k=()=>{i(null),r(""),c(!1),v(!1),_(""),g(!1),n()},C=T=>{if(T===0)return"0 Bytes";const L=1024,O=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(T)/Math.log(L));return Math.round(T/Math.pow(L,se)*100)/100+" "+O[se]};return t.jsx(Rn,{open:e,onClose:k,children:t.jsxs("form",{onSubmit:w,className:"upload-resume-form",children:[t.jsxs("div",{className:"upload-resume-form__header",children:[t.jsx("h3",{style:{marginTop:0},children:"Ti CV ln"}),t.jsx("p",{className:"muted small",children:"Ti ln file CV ca bn (PDF hoc DOCX). H thng c th t ng phn tch ni dung."})]}),j&&t.jsx("div",{className:"error-banner",children:j}),t.jsxs("div",{className:`upload-zone ${b?"upload-zone--active":""} ${a?"upload-zone--has-file":""}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:y,onClick:()=>{var T;return(T=m.current)==null?void 0:T.click()},children:[t.jsx("input",{ref:m,type:"file",accept:".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:S,style:{display:"none"}}),a?t.jsxs("div",{className:"upload-zone__file",children:[t.jsxs("div",{className:"upload-zone__file-info",children:[t.jsx("div",{className:"upload-zone__file-name",children:a.name}),t.jsx("div",{className:"upload-zone__file-size muted small",children:C(a.size)})]}),t.jsx("button",{type:"button",className:"upload-zone__file-remove",onClick:T=>{T.stopPropagation(),i(null)},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):t.jsxs("div",{className:"upload-zone__empty",children:[t.jsxs("div",{className:"upload-zone__text",children:[t.jsx("div",{className:"upload-zone__title",children:"Ko th file vo y"}),t.jsx("div",{className:"upload-zone__subtitle muted small",children:"hoc click  chn file"})]}),t.jsx("div",{className:"upload-zone__hint muted small",children:"PDF hoc DOCX, ti a 10MB"})]})]}),t.jsxs("div",{className:"upload-resume-form__fields",children:[t.jsxs("div",{className:"resume-create-field",children:[t.jsx("label",{className:"resume-create-field__label",children:"Tn CV"}),t.jsx("input",{type:"text",value:l,onChange:T=>r(T.target.value),placeholder:"CV ca ti",className:"resume-create-field__input"}),t.jsx("p",{className:"resume-create-field__hint muted small",children:" trng s dng tn file."})]}),t.jsxs("div",{className:"upload-resume-checkboxes",children:[t.jsxs("label",{className:"upload-resume-checkbox",children:[t.jsx("input",{type:"checkbox",checked:o,onChange:T=>c(T.target.checked)}),t.jsxs("div",{className:"upload-resume-checkbox__content",children:[t.jsx("div",{className:"upload-resume-checkbox__title",children:"T ng phn tch ni dung"}),t.jsx("div",{className:"upload-resume-checkbox__description muted small",children:"Ch p dng cho file PDF"})]})]}),t.jsxs("label",{className:"upload-resume-checkbox",children:[t.jsx("input",{type:"checkbox",checked:h,onChange:T=>v(T.target.checked)}),t.jsxs("div",{className:"upload-resume-checkbox__content",children:[t.jsx("div",{className:"upload-resume-checkbox__title",children:"t lm CV mc nh"}),t.jsx("div",{className:"upload-resume-checkbox__description muted small",children:"CV ny s c s dng mc nh khi ng tuyn"})]})]})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"btn",onClick:k,disabled:f,children:"Hy"}),t.jsx("button",{type:"submit",className:"btn primary",disabled:f||!a,children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"spinner",style:{width:"16px",height:"16px"}}),"ang ti..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Ti ln"]})})]})]})})}function lg({status:e,className:n=""}){const s={draft:{label:"Nhp",className:"status-badge--draft"},active:{label:"Hot ng",className:"status-badge--active"},archived:{label:"Lu tr",className:"status-badge--archived"}},a=s[e]||s.draft;return t.jsx("span",{className:`status-badge ${a.className} ${n}`,children:t.jsx("span",{className:"status-badge__label",children:a.label})})}function Mo({data:e,title:n}){const s=(e==null?void 0:e.personal_info)||{},a=(e==null?void 0:e.skills)||[],i=(e==null?void 0:e.experiences)||[],l=(e==null?void 0:e.educations)||[],r=(e==null?void 0:e.certifications)||[],o=(e==null?void 0:e.awards)||[],c=(e==null?void 0:e.projects)||[],h=(e==null?void 0:e.languages)||[],v=(e==null?void 0:e.summary)||"",f=(e==null?void 0:e.references)||[],x=g=>g?new Date(g).toLocaleDateString("vi-VN",{month:"short",year:"numeric"}):"",j=g=>g?new Date(g).toLocaleDateString("vi-VN",{day:"numeric",month:"numeric",year:"numeric"}):"",_=(g,m,d)=>{const p=x(g)||"",y=d?"Hin ti":x(m)||"";return`${p}  ${y}`},b=g=>{var m;return typeof g=="string"?g:(m=g==null?void 0:g.skills)!=null&&m.name?g.skills.name:g!=null&&g.name?g.name:"K nng"};return t.jsxs("div",{className:"cv-template cv-template--professional",children:[t.jsx("style",{children:`
        .cv-template--professional {
          max-width: 210mm;
          min-height: 297mm;
          margin: 0 auto;
          background: white;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
          color: #2d3748;
        }
        .cv-template--professional .template-header {
          background: #1e293b;
          color: white;
          padding: 50px 45px;
          text-align: center;
        }
        .cv-template--professional .template-header h1 {
          font-family: 'Poppins', sans-serif;
          font-size: 36px;
          font-weight: 700;
          margin-bottom: 12px;
          line-height: 1.2;
        }
        .cv-template--professional .template-header-contact {
          display: flex;
          justify-content: center;
          gap: 12px;
          flex-wrap: wrap;
          font-size: 13px;
          margin-top: 20px;
        }
        .cv-template--professional .template-header-contact-item {
          display: inline-flex;
          align-items: center;
          gap: 10px;
          padding: 10px 16px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 20px;
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.2s ease;
        }
        .cv-template--professional .template-header-contact-item:hover {
          background: rgba(255, 255, 255, 0.25);
          transform: translateY(-1px);
          box-shadow: 0 2px 8px rgba(96, 165, 250, 0.3);
        }
        .cv-template--professional .template-header-contact-item svg,
        .cv-template--professional .template-header-contact-item i {
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #ffffff;
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          border-radius: 50%;
          box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.1);
          flex-shrink: 0;
          padding: 4px;
        }
        .cv-template--professional .template-header-contact-item svg {
          stroke: #ffffff;
        }
        .cv-template--professional .template-header-contact-item a {
          color: white;
          text-decoration: none;
          font-weight: 500;
        }
        .cv-template--professional .template-header-contact-item span {
          color: white;
          font-weight: 500;
        }
        .cv-template--professional .template-content {
          padding: 40px 45px;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 40px;
        }
        .cv-template--professional .template-section {
          margin-bottom: 35px;
        }
        .cv-template--professional .template-section-title {
          font-family: 'Poppins', sans-serif;
          font-size: 18px;
          font-weight: 700;
          color: #1e293b;
          margin: 0 auto 20px;
          padding-bottom: 8px;
          border-bottom: 3px solid #1e293b;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
        }
        .cv-template--professional .template-section-title i {
          font-size: 20px;
        }
        .cv-template--professional .template-item {
          margin-bottom: 20px;
        }
        .cv-template--professional .template-item-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
          gap: 15px;
        }
        .cv-template--professional .template-item-title {
          font-size: 15px;
          font-weight: 600;
          color: #1a202c;
          line-height: 1.3;
        }
        .cv-template--professional .template-item-subtitle {
          font-size: 14px;
          color: #1e293b;
          font-weight: 500;
          margin-top: 4px;
        }
        .cv-template--professional .template-item-date {
          font-size: 12px;
          color: #718096;
          white-space: nowrap;
        }
        .cv-template--professional .template-item-description {
          font-size: 13px;
          color: #4a5568;
          line-height: 1.6;
          margin-top: 8px;
        }
        .cv-template--professional .template-skill-tag {
          display: inline-block;
          padding: 6px 12px;
          background: #f1f5f9;
          color: #1e293b;
          border-radius: 6px;
          font-size: 13px;
          margin: 4px 4px 4px 0;
          border: 1px solid #e2e8f0;
        }
        .cv-template--professional .template-language-item {
          padding: 8px 12px;
          background: #f7fafc;
          border-radius: 6px;
          margin-bottom: 8px;
          font-size: 13px;
          border-left: 3px solid #1e293b;
        }
        .cv-template--professional .template-cert-item,
        .cv-template--professional .template-award-item {
          padding: 12px;
          background: #f7fafc;
          border-radius: 8px;
          margin-bottom: 12px;
          border-left: 3px solid #1e293b;
        }
        .cv-template--professional .template-cert-name,
        .cv-template--professional .template-award-title {
          font-size: 14px;
          font-weight: 600;
          color: #1a202c;
          margin-bottom: 4px;
        }
        .cv-template--professional .template-cert-issuer,
        .cv-template--professional .template-award-issuer {
          font-size: 13px;
          color: #1e293b;
          margin-bottom: 4px;
        }
        .cv-template--professional .template-cert-date,
        .cv-template--professional .template-award-date {
          font-size: 12px;
          color: #718096;
        }
        .cv-template--professional .template-avatar {
          width: 110px;
          height: 110px;
          border-radius: 50%;
          background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
          margin: 0 auto 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 42px;
          font-weight: 700;
          color: #1e293b;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.18), inset 0 0 0 4px rgba(59, 130, 246, 0.25);
          border: 3px solid rgba(59, 130, 246, 0.45);
          overflow: hidden;
        }
        .cv-template--professional .template-avatar img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 50%;
        }
      `}),t.jsxs("div",{className:"template-header",children:[t.jsx("div",{className:"template-avatar",children:s.avatar_url?t.jsx("img",{src:s.avatar_url,alt:s.full_name||"Avatar"}):(s.full_name||"CV").split(" ").map(g=>g[0]).join("").toUpperCase().substring(0,2)}),t.jsx("h1",{children:s.full_name||"Your Name"}),s.headline&&t.jsx("p",{style:{fontSize:"16px",opacity:.9,marginTop:"8px",marginBottom:"16px"},children:s.headline}),(s.email||s.phone||s.location||s.linkedin_url||s.website||s.date_of_birth)&&t.jsxs("div",{className:"template-header-contact",children:[s.email&&t.jsxs("div",{className:"template-header-contact-item",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"16px",height:"16px"},children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),t.jsx("span",{style:{opacity:.9},children:"Email: "}),t.jsx("a",{href:`mailto:${s.email}`,children:s.email})]}),s.phone&&t.jsxs("div",{className:"template-header-contact-item",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"16px",height:"16px"},children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{style:{opacity:.9},children:"ST: "}),t.jsx("span",{children:s.phone})]}),s.location&&t.jsxs("div",{className:"template-header-contact-item",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"16px",height:"16px"},children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{style:{opacity:.9},children:"a ch: "}),t.jsx("span",{children:s.location})]}),s.linkedin_url&&t.jsxs("div",{className:"template-header-contact-item",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),t.jsx("span",{style:{opacity:.9},children:"LinkedIn: "}),t.jsx("a",{href:s.linkedin_url,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),s.website&&t.jsxs("div",{className:"template-header-contact-item",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"16px",height:"16px"},children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),t.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),t.jsx("span",{style:{opacity:.9},children:"Website: "}),t.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",children:"Website"})]}),s.date_of_birth&&t.jsxs("div",{className:"template-header-contact-item",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"16px",height:"16px"},children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),t.jsx("span",{style:{opacity:.9},children:"Ngy sinh: "}),t.jsx("span",{children:j(s.date_of_birth)})]})]})]}),t.jsxs("div",{className:"template-content",children:[t.jsxs("div",{children:[a.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-code"}),"K nng"]}),t.jsx("div",{children:a.map((g,m)=>t.jsx("span",{className:"template-skill-tag",children:b(g)},g.id||g.skill_id||m))})]}),h.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-language"}),"Ngn ng"]}),h.map((g,m)=>t.jsxs("div",{className:"template-language-item",children:[t.jsxs("div",{style:{fontWeight:600},children:[g.language||g.name||"Language"," ",g.proficiency&&`(${g.proficiency})`]}),(g.certificate||g.certificate_url)&&t.jsxs("div",{style:{marginTop:4,fontSize:"12px",color:"#475569"},children:[g.certificate&&t.jsxs("span",{children:["Chng ch: ",g.certificate]}),g.certificate_url&&t.jsx("a",{href:g.certificate_url,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:6,color:"#2563eb",textDecoration:"none",fontWeight:600},children:"Xem"})]})]},m))]}),r.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-certificate"}),"Chng ch"]}),r.map((g,m)=>t.jsxs("div",{className:"template-cert-item",children:[t.jsx("div",{className:"template-cert-name",children:g.name||"Certification"}),t.jsx("div",{className:"template-cert-issuer",children:g.issuing_organization||g.issuing_org||"Issuer"}),t.jsxs("div",{className:"template-cert-date",children:[x(g.issue_date),g.expiration_date&&` - ${x(g.expiration_date)}`]})]},g.id||m))]}),o.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-trophy"}),"Gii thng"]}),o.map((g,m)=>t.jsxs("div",{className:"template-award-item",children:[t.jsx("div",{className:"template-award-title",children:g.title||"Award"}),t.jsx("div",{className:"template-award-issuer",children:g.issuer||"Issuer"}),t.jsx("div",{className:"template-award-date",children:x(g.date)}),g.description&&t.jsx("div",{className:"template-item-description",style:{marginTop:"8px"},children:g.description})]},g.id||m))]})]}),t.jsxs("div",{children:[(v||s.bio)&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-user"}),"Tm tt"]}),t.jsx("div",{style:{fontSize:"14px",color:"#4a5568",lineHeight:"1.7",whiteSpace:"pre-line"},children:v||s.bio})]}),i.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-briefcase"}),"Kinh nghim lm vic"]}),i.map((g,m)=>t.jsxs("div",{className:"template-item",children:[t.jsxs("div",{className:"template-item-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"template-item-title",children:g.job_title||g.position||"Position"}),t.jsx("div",{className:"template-item-subtitle",children:g.company_name||"Company"})]}),t.jsx("div",{className:"template-item-date",children:_(g.start_date,g.end_date,g.is_current)})]}),g.description&&t.jsx("div",{className:"template-item-description",children:g.description})]},g.id||m))]}),l.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-graduation-cap"}),"Hc vn"]}),l.map((g,m)=>t.jsx("div",{className:"template-item",children:t.jsxs("div",{className:"template-item-header",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"template-item-title",children:[g.degree||"Degree",g.field_of_study?` - ${g.field_of_study}`:""]}),t.jsx("div",{className:"template-item-subtitle",children:g.institution_name||g.school_name||"Institution"})]}),t.jsx("div",{className:"template-item-date",children:_(g.start_date,g.end_date,!1)})]})},g.id||m))]}),c.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-project-diagram"}),"D n"]}),c.map((g,m)=>t.jsxs("div",{className:"template-item",children:[t.jsxs("div",{className:"template-item-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"template-item-title",children:g.name||g.title||"Project"}),g.role&&t.jsxs("div",{className:"template-item-subtitle",style:{color:"#475569"},children:["Vai tr: ",g.role]}),g.client&&t.jsxs("div",{className:"template-item-subtitle",style:{color:"#475569"},children:["Khch hng/n v: ",g.client]}),g.url&&t.jsx("div",{className:"template-item-subtitle",children:t.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#1e293b"},children:g.url})}),Array.isArray(g.links)&&g.links.length>0&&t.jsx("div",{className:"template-item-subtitle",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px"},children:g.links.map((d,p)=>t.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563eb",textDecoration:"none",fontWeight:600},children:d.label||d.url},p))})]}),(g.start_date||g.end_date||g.is_current)&&t.jsx("div",{className:"template-item-date",children:_(g.start_date,g.end_date,g.is_current)})]}),g.description&&t.jsx("div",{className:"template-item-description",style:{whiteSpace:"pre-line"},children:g.description})]},m))]}),f.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-user-friends"}),"Ngi tham kho"]}),f.map((g,m)=>t.jsxs("div",{className:"template-item",children:[t.jsx("div",{className:"template-item-title",children:g.name||"Reference"}),t.jsxs("div",{className:"template-item-subtitle",children:[g.position||g.title||""," ",g.company?`at ${g.company}`:""]}),g.email&&t.jsx("div",{className:"template-item-date",children:g.email}),g.phone&&t.jsx("div",{className:"template-item-date",children:g.phone})]},m))]})]})]})]})}function nm({data:e,title:n}){const s=(e==null?void 0:e.personal_info)||{},a=(e==null?void 0:e.skills)||[],i=(e==null?void 0:e.experiences)||[],l=(e==null?void 0:e.educations)||[],r=(e==null?void 0:e.certifications)||[],o=(e==null?void 0:e.awards)||[],c=(e==null?void 0:e.projects)||[],h=(e==null?void 0:e.languages)||[],v=(e==null?void 0:e.summary)||"",f=(e==null?void 0:e.references)||[],x=d=>d?new Date(d).toLocaleDateString("vi-VN",{month:"short",year:"numeric"}):"",j=d=>d?new Date(d).toLocaleDateString("vi-VN",{day:"numeric",month:"numeric",year:"numeric"}):"",_=(d,p,y)=>{const S=x(d)||"",w=y?"Hin ti":x(p)||"";return`${S}  ${w}`},b=d=>{var p;return typeof d=="string"?d:(p=d==null?void 0:d.skills)!=null&&p.name?d.skills.name:d!=null&&d.name?d.name:"K nng"},g=d=>typeof d=="string"?70:d!=null&&d.proficiency_level?{beginner:30,intermediate:60,advanced:85,expert:100}[d.proficiency_level.toLowerCase()]||70:d!=null&&d.level&&{beginner:30,intermediate:60,advanced:85,expert:100}[d.level.toLowerCase()]||70,m=d=>d?d.split(" ").map(p=>p[0]).join("").toUpperCase().substring(0,2):"CV";return t.jsxs("div",{className:"cv-template cv-template--timeline",children:[t.jsx("style",{children:`
        .cv-template--timeline {
          max-width: 210mm;
          min-height: 297mm;
          margin: 0 auto;
          background: #ffffff;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
          display: flex;
          overflow: hidden;
          font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
          color: #334155;
          line-height: 1.6;
        }
        .cv-template--timeline .template-sidebar {
          width: 30%;
          background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
          color: white;
          padding: 45px 30px;
          flex-shrink: 0;
          position: relative;
        }
        .cv-template--timeline .template-sidebar::after {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 1px;
          height: 100%;
          background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.1), transparent);
        }
        .cv-template--timeline .template-profile-photo {
          width: 110px;
          height: 110px;
          border-radius: 50%;
          background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
          margin: 0 auto 25px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 42px;
          font-weight: 700;
          color: #1e293b;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2), inset 0 0 0 4px rgba(59, 130, 246, 0.3);
          border: 3px solid rgba(59, 130, 246, 0.5);
        overflow: hidden;
      }
      .cv-template--timeline .template-profile-photo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        }
        .cv-template--timeline .template-sidebar h1 {
          font-family: 'Poppins', 'Inter', sans-serif;
          font-size: 24px;
          font-weight: 700;
          text-align: center;
          margin-bottom: 10px;
          line-height: 1.2;
          letter-spacing: -0.02em;
          color: #e5edff;
          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        .cv-template--timeline .template-sidebar-section {
          margin-top: 35px;
          padding-top: 25px;
          border-top: 1px solid transparent;
          background-image: linear-gradient(to right, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
          background-size: 100% 1px;
          background-repeat: no-repeat;
          background-position: top;
        }
        .cv-template--timeline .template-sidebar-section:first-of-type {
          margin-top: 25px;
          padding-top: 0;
          border-top: none;
          background-image: none;
        }
        .cv-template--timeline .template-sidebar-section h3 {
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 1.5px;
          margin-bottom: 18px;
          opacity: 0.95;
          color: #cbd5e1;
        }
        .cv-template--timeline .template-contact-item {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          font-size: 11px;
          line-height: 1.4;
          padding: 7px 13px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 16px;
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.2s ease;
        }
        .cv-template--timeline .template-contact-item:hover {
          background: rgba(255, 255, 255, 0.25);
          transform: translateY(-1px);
          box-shadow: 0 2px 6px rgba(96, 165, 250, 0.3);
        }
        .cv-template--timeline .template-contact-item svg,
        .cv-template--timeline .template-contact-item i {
          width: 20px;
          height: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 0;
          color: #ffffff;
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          border-radius: 50%;
          box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.1);
          flex-shrink: 0;
          padding: 3px;
        }
        .cv-template--timeline .template-contact-item svg {
          stroke: #ffffff;
        }
        .cv-template--timeline .template-contact-item a {
          color: white;
          text-decoration: none;
          font-weight: 500;
          transition: color 0.2s ease;
        }
        .cv-template--timeline .template-contact-item a:hover {
          color: #60a5fa;
        }
        .cv-template--timeline .template-contact-item span {
          color: white;
          font-weight: 500;
        }
        .cv-template--timeline .template-skill-item {
          margin-bottom: 12px;
        }
        .cv-template--timeline .template-skill-name {
          font-size: 12px;
          margin-bottom: 6px;
          font-weight: 500;
          color: #e2e8f0;
        }
        .cv-template--timeline .template-skill-level {
          height: 6px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 4px;
          overflow: hidden;
          box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        .cv-template--timeline .template-skill-level-fill {
          height: 100%;
          background: linear-gradient(90deg, #60a5fa 0%, #3b82f6 100%);
          border-radius: 4px;
          box-shadow: 0 1px 2px rgba(59, 130, 246, 0.3);
        }
        .cv-template--timeline .template-language-item {
          font-size: 12px;
          margin-bottom: 8px;
          padding-left: 10px;
          border-left: 3px solid rgba(96, 165, 250, 0.5);
          color: #e2e8f0;
        }
        .cv-template--timeline .template-main-content {
          flex: 1;
          padding: 45px 40px;
          overflow: hidden;
          background: #ffffff;
        }
        .cv-template--timeline .template-section {
          margin-bottom: 40px;
        }
        .cv-template--timeline .template-section-title {
          font-family: 'Poppins', 'Inter', sans-serif;
          font-size: 20px;
          font-weight: 700;
          color: #0f172a;
          margin: 0 auto 24px;
          padding-bottom: 10px;
          border-bottom: 3px solid transparent;
          background: linear-gradient(to right, #3b82f6, #1e40af);
          background-clip: text;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          position: relative;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          letter-spacing: -0.02em;
        }
        .cv-template--timeline .template-section-title::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 70px;
          height: 3px;
          background: linear-gradient(to right, #3b82f6, #1e40af);
          border-radius: 2px;
        }
        .cv-template--timeline .template-section-title i {
          font-size: 18px;
          color: #3b82f6;
          -webkit-text-fill-color: #3b82f6;
        }
        .cv-template--timeline .template-timeline-item {
          position: relative;
          padding-left: 35px;
          margin-bottom: 35px;
          border-left: 3px solid transparent;
          border-image: linear-gradient(to bottom, #3b82f6, #1e40af) 1;
        }
        .cv-template--timeline .template-timeline-item:last-child {
          margin-bottom: 0;
        }
        .cv-template--timeline .template-timeline-item::before {
          content: '';
          position: absolute;
          left: -10px;
          top: 6px;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
          border: 4px solid white;
          box-shadow: 0 0 0 3px #3b82f6, 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .cv-template--timeline .template-timeline-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 10px;
          gap: 20px;
        }
        .cv-template--timeline .template-timeline-title {
          font-size: 17px;
          font-weight: 600;
          color: #0f172a;
          line-height: 1.4;
          letter-spacing: -0.01em;
        }
        .cv-template--timeline .template-timeline-subtitle {
          font-size: 14px;
          color: #334155;
          font-weight: 500;
          margin-top: 4px;
        }
        .cv-template--timeline .template-timeline-date {
          font-size: 12px;
          color: #64748b;
          white-space: nowrap;
          background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
          padding: 5px 12px;
          border-radius: 8px;
          font-weight: 500;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }
        .cv-template--timeline .template-timeline-description {
          font-size: 13px;
          color: #475569;
          line-height: 1.7;
          margin-top: 12px;
        }
        .cv-template--timeline .template-bio {
          font-size: 14px;
          color: #475569;
          margin-bottom: 35px;
          line-height: 1.7;
          text-align: justify;
          white-space: pre-line;
          padding: 24px;
          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
          border-radius: 10px;
          border-left: 4px solid transparent;
          border-image: linear-gradient(to bottom, #3b82f6, #1e40af) 1;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .cv-template--timeline .template-card {
          padding: 16px;
          background: #f8fafc;
          border-radius: 10px;
          margin-bottom: 14px;
          border-left: 4px solid transparent;
          border-image: linear-gradient(to bottom, #3b82f6, #1e40af) 1;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
        }
        .cv-template--timeline .template-card:hover {
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
          transform: translateY(-1px);
        }
        .cv-template--timeline .template-card-title {
          font-size: 15px;
          font-weight: 600;
          color: #0f172a;
          margin-bottom: 6px;
          letter-spacing: -0.01em;
        }
        .cv-template--timeline .template-card-subtitle {
          font-size: 13px;
          color: #334155;
          margin-bottom: 6px;
          font-weight: 500;
        }
        .cv-template--timeline .template-card-date {
          font-size: 12px;
          color: #64748b;
          font-weight: 500;
        }
        @media print {
          .cv-template--timeline {
            box-shadow: none;
            max-width: 100%;
          }
          .cv-template--timeline .template-sidebar::after {
            display: none;
          }
          .cv-template--timeline .template-card:hover {
            transform: none;
          }
          .cv-template--timeline .template-section {
            page-break-inside: avoid;
          }
          .cv-template--timeline .template-timeline-item {
            page-break-inside: avoid;
          }
        }
      `}),t.jsxs("div",{className:"template-sidebar",children:[t.jsx("div",{className:"template-profile-photo",children:s.avatar_url?t.jsx("img",{src:s.avatar_url,alt:s.full_name||"Avatar"}):m(s.full_name)}),t.jsx("h1",{children:s.full_name||"Your Name"}),s.headline&&t.jsx("p",{style:{fontSize:"13px",opacity:.95,textAlign:"center",marginTop:"6px",marginBottom:"20px",lineHeight:"1.5",fontStyle:"italic",fontWeight:300},children:s.headline}),(s.email||s.phone||s.location||s.linkedin_url||s.website||s.date_of_birth)&&t.jsxs("div",{className:"template-sidebar-section",children:[t.jsx("h3",{children:"Contact"}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[s.email&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"12px",height:"12px"},children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),t.jsx("span",{style:{opacity:.9},children:"Email: "}),t.jsx("a",{href:`mailto:${s.email}`,children:s.email})]}),s.phone&&t.jsxs("div",{className:"template-contact-item",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"12px",height:"12px"},children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{style:{opacity:.9},children:"ST: "}),t.jsx("span",{children:s.phone})]}),s.location&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"12px",height:"12px"},children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{style:{opacity:.9},children:"a ch: "}),t.jsx("span",{children:s.location})]}),s.linkedin_url&&t.jsxs("div",{className:"template-contact-item",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),t.jsx("span",{style:{opacity:.9},children:"LinkedIn: "}),t.jsx("a",{href:s.linkedin_url,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),s.website&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"12px",height:"12px"},children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),t.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),t.jsx("span",{style:{opacity:.9},children:"Website: "}),t.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",children:"Website"})]}),s.date_of_birth&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"12px",height:"12px"},children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),t.jsx("span",{style:{opacity:.9},children:"Ngy sinh: "}),t.jsx("span",{children:j(s.date_of_birth)})]})]})]}),a.length>0&&t.jsxs("div",{className:"template-sidebar-section",children:[t.jsx("h3",{children:"Skills"}),a.map((d,p)=>t.jsxs("div",{className:"template-skill-item",children:[t.jsx("div",{className:"template-skill-name",children:b(d)}),t.jsx("div",{className:"template-skill-level",children:t.jsx("div",{className:"template-skill-level-fill",style:{width:`${g(d)}%`}})})]},d.id||d.skill_id||p))]}),h.length>0&&t.jsxs("div",{className:"template-sidebar-section",children:[t.jsx("h3",{children:"Languages"}),h.map((d,p)=>t.jsxs("div",{className:"template-language-item",children:[t.jsxs("div",{style:{fontWeight:700,color:"#e2e8f0"},children:[d.language||d.name||"Language"," ",d.proficiency&&`(${d.proficiency})`]}),(d.certificate||d.certificate_url)&&t.jsxs("div",{style:{marginTop:3,fontSize:"11px",color:"#cbd5e1"},children:[d.certificate&&t.jsxs("span",{children:["Chng ch: ",d.certificate]}),d.certificate_url&&t.jsx("a",{href:d.certificate_url,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:6,color:"#a5b4fc",textDecoration:"none",fontWeight:600},children:"Xem"})]})]},p))]})]}),t.jsxs("div",{className:"template-main-content",children:[(v||s.bio)&&t.jsx("div",{className:"template-bio",children:v||s.bio}),i.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-briefcase"}),"Kinh nghim lm vic"]}),i.map((d,p)=>t.jsxs("div",{className:"template-timeline-item",children:[t.jsxs("div",{className:"template-timeline-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"template-timeline-title",children:d.job_title||d.position||"Position"}),t.jsx("div",{className:"template-timeline-subtitle",children:d.company_name||"Company"})]}),t.jsx("div",{className:"template-timeline-date",children:_(d.start_date,d.end_date,d.is_current)})]}),d.description&&t.jsx("div",{className:"template-timeline-description",children:d.description})]},d.id||p))]}),l.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-graduation-cap"}),"Hc vn"]}),l.map((d,p)=>t.jsx("div",{className:"template-timeline-item",children:t.jsxs("div",{className:"template-timeline-header",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"template-timeline-title",children:[d.degree||"Degree",d.field_of_study?` - ${d.field_of_study}`:""]}),t.jsx("div",{className:"template-timeline-subtitle",children:d.institution_name||d.school_name||"Institution"})]}),t.jsx("div",{className:"template-timeline-date",children:_(d.start_date,d.end_date,!1)})]})},d.id||p))]}),c.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-project-diagram"}),"D n"]}),c.map((d,p)=>t.jsxs("div",{className:"template-timeline-item",children:[t.jsxs("div",{className:"template-timeline-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"template-timeline-title",children:d.name||d.title||"Project"}),d.role&&t.jsxs("div",{className:"template-timeline-subtitle",style:{color:"#475569"},children:["Vai tr: ",d.role]}),d.client&&t.jsxs("div",{className:"template-timeline-subtitle",style:{color:"#475569"},children:["Khch hng/n v: ",d.client]}),d.url&&t.jsx("div",{className:"template-timeline-subtitle",children:t.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none"},children:d.url})}),Array.isArray(d.links)&&d.links.length>0&&t.jsx("div",{className:"template-timeline-subtitle",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px"},children:d.links.map((y,S)=>t.jsx("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563eb",textDecoration:"none",fontWeight:600},children:y.label||y.url},S))})]}),(d.start_date||d.end_date||d.is_current)&&t.jsx("div",{className:"template-timeline-date",children:_(d.start_date,d.end_date,d.is_current)})]}),d.description&&t.jsx("div",{className:"template-timeline-description",style:{whiteSpace:"pre-line"},children:d.description})]},p))]}),r.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-certificate"}),"Chng ch"]}),r.map((d,p)=>t.jsxs("div",{className:"template-card",children:[t.jsx("div",{className:"template-card-title",children:d.name||"Certification"}),t.jsx("div",{className:"template-card-subtitle",children:d.issuing_organization||d.issuing_org||"Issuer"}),t.jsxs("div",{className:"template-card-date",children:[x(d.issue_date),d.expiration_date&&` - ${x(d.expiration_date)}`]})]},d.id||p))]}),o.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-trophy"}),"Gii thng"]}),o.map((d,p)=>t.jsxs("div",{className:"template-card",children:[t.jsx("div",{className:"template-card-title",children:d.title||"Award"}),t.jsx("div",{className:"template-card-subtitle",children:d.issuer||"Issuer"}),t.jsx("div",{className:"template-card-date",children:x(d.date)}),d.description&&t.jsx("div",{className:"template-timeline-description",style:{marginTop:"8px"},children:d.description})]},d.id||p))]}),f.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-user-friends"}),"Ngi tham kho"]}),f.map((d,p)=>t.jsxs("div",{className:"template-card",children:[t.jsx("div",{className:"template-card-title",children:d.name||"Reference"}),t.jsxs("div",{className:"template-card-subtitle",children:[d.position||d.title||""," ",d.company?`at ${d.company}`:""]}),d.email&&t.jsx("div",{className:"template-card-date",children:d.email}),d.phone&&t.jsx("div",{className:"template-card-date",children:d.phone})]},p))]})]})]})}function sm({data:e,title:n}){const s=(e==null?void 0:e.personal_info)||{},a=(e==null?void 0:e.skills)||[],i=(e==null?void 0:e.experiences)||[],l=(e==null?void 0:e.educations)||[],r=(e==null?void 0:e.certifications)||[],o=(e==null?void 0:e.awards)||[],c=(e==null?void 0:e.projects)||[],h=(e==null?void 0:e.languages)||[],v=(e==null?void 0:e.summary)||"",f=(e==null?void 0:e.references)||[],x=m=>m?new Date(m).toLocaleDateString("vi-VN",{month:"short",year:"numeric"}):"",j=m=>m?new Date(m).toLocaleDateString("vi-VN",{day:"numeric",month:"numeric",year:"numeric"}):"",_=(m,d,p)=>{const y=x(m)||"",S=p?"Hin ti":x(d)||"";return`${y}  ${S}`},b=m=>{var d;return typeof m=="string"?m:(d=m==null?void 0:m.skills)!=null&&d.name?m.skills.name:m!=null&&m.name?m.name:"K nng"},g=m=>m?m.split(" ").map(d=>d[0]).join("").toUpperCase().substring(0,2):"CV";return t.jsxs("div",{className:"cv-template cv-template--compact",children:[t.jsx("style",{children:`
        .cv-template--compact {
          max-width: 210mm;
          min-height: 297mm;
          margin: 0 auto;
          background: #ffffff;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
          display: flex;
          overflow: hidden;
          font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
          color: #334155;
          line-height: 1.5;
        }
        .cv-template--compact .template-sidebar {
          width: 28%;
          background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
          color: white;
          padding: 35px 25px;
          flex-shrink: 0;
          position: relative;
        }
        .cv-template--compact .template-sidebar::after {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 1px;
          height: 100%;
          background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.1), transparent);
        }
        .cv-template--compact .template-profile-photo {
          width: 90px;
          height: 90px;
          border-radius: 50%;
          background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
          margin: 0 auto 18px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 36px;
          font-weight: 700;
          color: #1e293b;
          box-shadow: 0 3px 12px rgba(0, 0, 0, 0.2), inset 0 0 0 3px rgba(59, 130, 246, 0.3);
          border: 3px solid rgba(59, 130, 246, 0.5);
        overflow: hidden;
      }
      .cv-template--compact .template-profile-photo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        }
        .cv-template--compact .template-sidebar h1 {
          font-family: 'Poppins', 'Inter', sans-serif;
          font-size: 20px;
          font-weight: 700;
          text-align: center;
          margin-bottom: 8px;
          line-height: 1.2;
          letter-spacing: -0.02em;
          color: #e5edff;
          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        .cv-template--compact .template-sidebar-section {
          margin-top: 25px;
          padding-top: 20px;
          border-top: 1px solid transparent;
          background-image: linear-gradient(to right, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
          background-size: 100% 1px;
          background-repeat: no-repeat;
          background-position: top;
        }
        .cv-template--compact .template-sidebar-section:first-of-type {
          margin-top: 20px;
          padding-top: 0;
          border-top: none;
          background-image: none;
        }
        .cv-template--compact .template-sidebar-section h3 {
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 1.2px;
          margin-bottom: 12px;
          opacity: 0.95;
          color: #cbd5e1;
        }
        .cv-template--compact .template-contact-item {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          font-size: 10px;
          line-height: 1.4;
          padding: 6px 11px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 14px;
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.2s ease;
        }
        .cv-template--compact .template-contact-item:hover {
          background: rgba(255, 255, 255, 0.25);
          transform: translateY(-1px);
          box-shadow: 0 2px 5px rgba(96, 165, 250, 0.3);
        }
        .cv-template--compact .template-contact-item svg,
        .cv-template--compact .template-contact-item i {
          width: 18px;
          height: 18px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 0;
          color: #ffffff;
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          border-radius: 50%;
          box-shadow: 0 2px 3px rgba(59, 130, 246, 0.4), 0 0 0 1.5px rgba(255, 255, 255, 0.1);
          flex-shrink: 0;
          padding: 3px;
        }
        .cv-template--compact .template-contact-item svg {
          stroke: #ffffff;
        }
        .cv-template--compact .template-contact-item a {
          color: white;
          text-decoration: none;
          font-weight: 500;
          transition: color 0.2s ease;
        }
        .cv-template--compact .template-contact-item a:hover {
          color: #60a5fa;
        }
        .cv-template--compact .template-contact-item span {
          color: white;
          font-weight: 500;
        }
        .cv-template--compact .template-skill-tag {
          display: inline-block;
          padding: 5px 10px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 6px;
          font-size: 11px;
          margin: 4px 4px 4px 0;
          border: 1px solid rgba(255, 255, 255, 0.25);
          font-weight: 500;
          transition: all 0.2s ease;
        }
        .cv-template--compact .template-skill-tag:hover {
          background: rgba(255, 255, 255, 0.25);
        }
        .cv-template--compact .template-language-item {
          font-size: 11px;
          margin-bottom: 6px;
          padding-left: 8px;
          border-left: 3px solid rgba(96, 165, 250, 0.5);
          color: #e2e8f0;
        }
        .cv-template--compact .template-main-content {
          flex: 1;
          padding: 35px 40px;
          overflow: hidden;
          background: #ffffff;
        }
        .cv-template--compact .template-section {
          margin-bottom: 30px;
        }
        .cv-template--compact .template-section-title {
          font-family: 'Poppins', 'Inter', sans-serif;
          font-size: 18px;
          font-weight: 700;
          color: #0f172a;
          margin: 0 auto 18px;
          padding-bottom: 8px;
          border-bottom: 3px solid transparent;
          background: linear-gradient(to right, #3b82f6, #1e40af);
          background-clip: text;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          position: relative;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          letter-spacing: -0.02em;
        }
        .cv-template--compact .template-section-title::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 60px;
          height: 3px;
          background: linear-gradient(to right, #3b82f6, #1e40af);
          border-radius: 2px;
        }
        .cv-template--compact .template-section-title i {
          font-size: 17px;
          color: #3b82f6;
          -webkit-text-fill-color: #3b82f6;
        }
        .cv-template--compact .template-bio {
          font-size: 13px;
          color: #475569;
          margin-bottom: 28px;
          line-height: 1.6;
          text-align: justify;
          white-space: pre-line;
          padding: 18px;
          background: linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%);
          border-radius: 8px;
          border-left: 3px solid transparent;
          border-image: linear-gradient(to bottom, #3b82f6, #1e40af) 1;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }
        .cv-template--compact .template-item {
          margin-bottom: 20px;
          padding-bottom: 16px;
          border-bottom: 1px solid #e2e8f0;
        }
        .cv-template--compact .template-item:last-child {
          border-bottom: none;
          padding-bottom: 0;
        }
        .cv-template--compact .template-item-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
          gap: 15px;
        }
        .cv-template--compact .template-item-title {
          font-size: 15px;
          font-weight: 600;
          color: #0f172a;
          line-height: 1.4;
          letter-spacing: -0.01em;
        }
        .cv-template--compact .template-item-subtitle {
          font-size: 13px;
          color: #334155;
          font-weight: 500;
          margin-top: 3px;
        }
        .cv-template--compact .template-item-date {
          font-size: 11px;
          color: #64748b;
          white-space: nowrap;
          background: #f1f5f9;
          padding: 3px 9px;
          border-radius: 6px;
          font-weight: 500;
        }
        .cv-template--compact .template-item-description {
          font-size: 12px;
          color: #475569;
          line-height: 1.6;
          margin-top: 8px;
        }
        .cv-template--compact .template-cert-item,
        .cv-template--compact .template-award-item {
          padding: 12px;
          background: #fafbfc;
          border-radius: 8px;
          margin-bottom: 12px;
          border-left: 3px solid transparent;
          border-image: linear-gradient(to bottom, #3b82f6, #1e40af) 1;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
          transition: all 0.2s ease;
        }
        .cv-template--compact .template-cert-item:hover,
        .cv-template--compact .template-award-item:hover {
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          transform: translateY(-1px);
        }
        .cv-template--compact .template-cert-name,
        .cv-template--compact .template-award-title {
          font-size: 14px;
          font-weight: 600;
          color: #0f172a;
          margin-bottom: 4px;
          letter-spacing: -0.01em;
        }
        .cv-template--compact .template-cert-issuer,
        .cv-template--compact .template-award-issuer {
          font-size: 12px;
          color: #334155;
          margin-bottom: 4px;
          font-weight: 500;
        }
        .cv-template--compact .template-cert-date,
        .cv-template--compact .template-award-date {
          font-size: 11px;
          color: #64748b;
          font-weight: 500;
        }
        @media print {
          .cv-template--compact {
            box-shadow: none;
            max-width: 100%;
          }
          .cv-template--compact .template-sidebar::after {
            display: none;
          }
          .cv-template--compact .template-cert-item:hover,
          .cv-template--compact .template-award-item:hover {
            transform: none;
          }
          .cv-template--compact .template-section {
            page-break-inside: avoid;
          }
          .cv-template--compact .template-item {
            page-break-inside: avoid;
          }
        }
      `}),t.jsxs("div",{className:"template-sidebar",children:[t.jsx("div",{className:"template-profile-photo",children:s.avatar_url?t.jsx("img",{src:s.avatar_url,alt:s.full_name||"Avatar"}):g(s.full_name)}),t.jsx("h1",{children:s.full_name||"Your Name"}),s.headline&&t.jsx("p",{style:{fontSize:"12px",opacity:.95,textAlign:"center",marginTop:"5px",marginBottom:"18px",lineHeight:"1.4",fontStyle:"italic",fontWeight:300},children:s.headline}),(s.email||s.phone||s.location||s.linkedin_url||s.website||s.date_of_birth)&&t.jsxs("div",{className:"template-sidebar-section",children:[t.jsx("h3",{children:"Contact"}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:[s.email&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"11px",height:"11px"},children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),t.jsx("span",{style:{opacity:.9},children:"Email: "}),t.jsx("a",{href:`mailto:${s.email}`,children:s.email})]}),s.phone&&t.jsxs("div",{className:"template-contact-item",children:[t.jsx("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"11px",height:"11px"},children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{style:{opacity:.9},children:"ST: "}),t.jsx("span",{children:s.phone})]}),s.location&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"11px",height:"11px"},children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{style:{opacity:.9},children:"a ch: "}),t.jsx("span",{children:s.location})]}),s.linkedin_url&&t.jsxs("div",{className:"template-contact-item",children:[t.jsx("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),t.jsx("span",{style:{opacity:.9},children:"LinkedIn: "}),t.jsx("a",{href:s.linkedin_url,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),s.website&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"11px",height:"11px"},children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),t.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),t.jsx("span",{style:{opacity:.9},children:"Website: "}),t.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",children:"Website"})]}),s.date_of_birth&&t.jsxs("div",{className:"template-contact-item",children:[t.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"11px",height:"11px"},children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),t.jsx("span",{style:{opacity:.9},children:"Ngy sinh: "}),t.jsx("span",{children:j(s.date_of_birth)})]})]})]}),a.length>0&&t.jsxs("div",{className:"template-sidebar-section",children:[t.jsx("h3",{children:"Skills"}),t.jsx("div",{children:a.map((m,d)=>t.jsx("span",{className:"template-skill-tag",children:b(m)},m.id||m.skill_id||d))})]}),h.length>0&&t.jsxs("div",{className:"template-sidebar-section",children:[t.jsx("h3",{children:"Languages"}),h.map((m,d)=>t.jsxs("div",{className:"template-language-item",children:[t.jsxs("div",{style:{fontWeight:700,color:"#e2e8f0"},children:[m.language||m.name||"Language"," ",m.proficiency&&`(${m.proficiency})`]}),(m.certificate||m.certificate_url)&&t.jsxs("div",{style:{marginTop:3,fontSize:"10px",color:"#cbd5e1"},children:[m.certificate&&t.jsxs("span",{children:["Chng ch: ",m.certificate]}),m.certificate_url&&t.jsx("a",{href:m.certificate_url,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:6,color:"#a5b4fc",textDecoration:"none",fontWeight:600},children:"Xem"})]})]},d))]})]}),t.jsxs("div",{className:"template-main-content",children:[(v||s.bio)&&t.jsx("div",{className:"template-bio",children:v||s.bio}),i.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-briefcase"}),"Kinh nghim lm vic"]}),i.map((m,d)=>t.jsxs("div",{className:"template-item",children:[t.jsxs("div",{className:"template-item-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"template-item-title",children:m.job_title||m.position||"Position"}),t.jsx("div",{className:"template-item-subtitle",children:m.company_name||"Company"})]}),t.jsx("div",{className:"template-item-date",children:_(m.start_date,m.end_date,m.is_current)})]}),m.description&&t.jsx("div",{className:"template-item-description",children:m.description})]},m.id||d))]}),l.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-graduation-cap"}),"Hc vn"]}),l.map((m,d)=>t.jsx("div",{className:"template-item",children:t.jsxs("div",{className:"template-item-header",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"template-item-title",children:[m.degree||"Degree",m.field_of_study?` - ${m.field_of_study}`:""]}),t.jsx("div",{className:"template-item-subtitle",children:m.institution_name||m.school_name||"Institution"})]}),t.jsx("div",{className:"template-item-date",children:_(m.start_date,m.end_date,!1)})]})},m.id||d))]}),c.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-project-diagram"}),"D n"]}),c.map((m,d)=>t.jsxs("div",{className:"template-item",children:[t.jsxs("div",{className:"template-item-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"template-item-title",children:m.name||m.title||"Project"}),m.role&&t.jsxs("div",{className:"template-item-subtitle",style:{color:"#475569"},children:["Vai tr: ",m.role]}),m.client&&t.jsxs("div",{className:"template-item-subtitle",style:{color:"#475569"},children:["Khch hng/n v: ",m.client]}),m.url&&t.jsx("div",{className:"template-item-subtitle",children:t.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none"},children:m.url})}),Array.isArray(m.links)&&m.links.length>0&&t.jsx("div",{className:"template-item-subtitle",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px"},children:m.links.map((p,y)=>t.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563eb",textDecoration:"none",fontWeight:600},children:p.label||p.url},y))})]}),(m.start_date||m.end_date||m.is_current)&&t.jsx("div",{className:"template-item-date",children:_(m.start_date,m.end_date,m.is_current)})]}),m.description&&t.jsx("div",{className:"template-item-description",style:{whiteSpace:"pre-line"},children:m.description})]},d))]}),r.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-certificate"}),"Chng ch"]}),r.map((m,d)=>t.jsxs("div",{className:"template-cert-item",children:[t.jsx("div",{className:"template-cert-name",children:m.name||"Certification"}),t.jsx("div",{className:"template-cert-issuer",children:m.issuing_organization||m.issuing_org||"Issuer"}),t.jsxs("div",{className:"template-cert-date",children:[x(m.issue_date),m.expiration_date&&` - ${x(m.expiration_date)}`]})]},m.id||d))]}),o.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-trophy"}),"Gii thng"]}),o.map((m,d)=>t.jsxs("div",{className:"template-award-item",children:[t.jsx("div",{className:"template-award-title",children:m.title||"Award"}),t.jsx("div",{className:"template-award-issuer",children:m.issuer||"Issuer"}),t.jsx("div",{className:"template-award-date",children:x(m.date)}),m.description&&t.jsx("div",{className:"template-item-description",style:{marginTop:"6px"},children:m.description})]},m.id||d))]}),f.length>0&&t.jsxs("div",{className:"template-section",children:[t.jsxs("h2",{className:"template-section-title",children:[t.jsx("i",{className:"fas fa-user-friends"}),"Ngi tham kho"]}),f.map((m,d)=>t.jsxs("div",{className:"template-item",children:[t.jsx("div",{className:"template-item-title",children:m.name||"Reference"}),t.jsxs("div",{className:"template-item-subtitle",children:[m.position||m.title||""," ",m.company?`at ${m.company}`:""]}),m.email&&t.jsx("div",{className:"template-item-date",children:m.email}),m.phone&&t.jsx("div",{className:"template-item-date",children:m.phone})]},d))]})]})]})}function D_({profileData:e,title:n,theme:s="professional",onClose:a,hideHeader:i=!1,additionalData:l={}},r){var k,C,T,L,O,se,$;const[o,c]=u.useState(!1);if(!e)return t.jsx("div",{className:"cv-preview cv-preview--empty",children:t.jsx("p",{className:"muted",children:"Khng c d liu  preview"})});const h=e.sections||{},v={...((k=h.personal_info)==null?void 0:k.data)||{},avatar_url:(((C=h.personal_info)==null?void 0:C.data)||{}).avatar_url||e.avatar_url},f=((T=h.skills)==null?void 0:T.items)||[],x=((L=h.experiences)==null?void 0:L.items)||[],j=((O=h.educations)==null?void 0:O.items)||[],_=((se=h.certifications)==null?void 0:se.items)||[],b=(($=h.awards)==null?void 0:$.items)||[],g=l.projects||[],m=l.languages||[],d=l.summary,p=typeof d=="string"?d:typeof d=="object"&&d!==null&&d.content||"",y=l.references||[],S={personal_info:v,skills:f,experiences:x,educations:j,certifications:_,awards:b,projects:g,languages:m,summary:p,references:y},w=()=>{try{switch(s||"professional"){case"timeline":if(nm)return t.jsx(nm,{data:S,title:n});break;case"compact":if(sm)return t.jsx(sm,{data:S,title:n});break;case"professional":default:if(Mo)return t.jsx(Mo,{data:S,title:n});break}return t.jsx(Mo,{data:S,title:n})}catch(z){return console.error("Error rendering template:",z),t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:t.jsx("p",{style:{color:"#ef4444"},children:"Li khi render template. Vui lng th li."})})}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`cv-preview ${o?"cv-preview--fullscreen":""}`,children:[!i&&t.jsxs("div",{className:"cv-preview__header",children:[t.jsx("h3",{className:"cv-preview__title",children:"Xem trc CV"}),t.jsxs("div",{className:"cv-preview__actions",children:[t.jsx("button",{type:"button",className:"btn btn--icon",onClick:()=>c(!o),title:o?"Thot fullscreen":"Fullscreen",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o?t.jsx(t.Fragment,{children:t.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):t.jsx(t.Fragment,{children:t.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})}),a&&t.jsx("button",{type:"button",className:"btn btn--icon",onClick:a,title:"ng",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"cv-preview__content",children:t.jsx("div",{className:"cv-preview__document",ref:r,children:w()})}),t.jsx("div",{className:"cv-preview__footer",children:t.jsx("p",{className:"cv-preview__footer-note muted small",children:"y l preview. CV thc t s c nh dng v styling theo template  chn."})})]}),o&&t.jsx("div",{className:"cv-preview__overlay",onClick:()=>c(!1)})]})}const Kr=u.forwardRef(D_);Kr.displayName="CVPreview";function P_({resume:e,onSetDefault:n,onDelete:s}){var m,d;const a=He(),[i,l]=u.useState(!1),r=u.useRef(null),[o,c]=u.useState(!1),[h,v]=u.useState(e);u.useEffect(()=>{const p=y=>{r.current&&!r.current.contains(y.target)&&l(!1)};return i&&document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[i]),u.useEffect(()=>{v(e)},[e]);const f=p=>p?new Date(p).toLocaleDateString("vi-VN",{day:"numeric",month:"short",year:"numeric"}):"",x=e.source_type==="uploaded"?"Ti ln":"To mi",j=()=>{const p={sections:{personal_info:{data:{}},skills:{items:[]},experiences:{items:[]},educations:{items:[]},certifications:{items:[]},awards:{items:[]}}},y=h||e;if(!y||!y.content)return p;const S=y.content;return S&&S.sections?{sections:{personal_info:S.sections.personal_info||p.sections.personal_info,skills:S.sections.skills||p.sections.skills,experiences:S.sections.experiences||p.sections.experiences,educations:S.sections.educations||p.sections.educations,certifications:S.sections.certifications||p.sections.certifications,awards:S.sections.awards||p.sections.awards}}:{sections:{personal_info:{data:S.personal_info||{}},skills:{items:Array.isArray(S.skills)?S.skills:[]},experiences:{items:Array.isArray(S.experiences)?S.experiences:[]},educations:{items:Array.isArray(S.educations)?S.educations:[]},certifications:{items:Array.isArray(S.certifications)?S.certifications:[]},awards:{items:Array.isArray(S.awards)?S.awards:[]}}}},_=()=>{const p=h||e;if(!p)return{};const y=p.content||{};return{projects:y.projects||[],languages:y.languages||[],summary:y.summary||"",references:y.references||[]}},b=h||e,g=(b==null?void 0:b.source_type)==="uploaded"&&!!(b!=null&&b.file_url);return t.jsxs("div",{className:"resume-card",children:[t.jsxs("div",{className:"resume-card__content",children:[t.jsxs("div",{className:"resume-card__header",children:[t.jsxs("div",{className:"resume-card__title-group",children:[t.jsx("h3",{className:"resume-card__title",children:e.title}),e.is_default&&t.jsx("span",{className:"resume-card__badge resume-card__badge--default",children:"Mc nh"}),e.is_public&&t.jsx("span",{className:"resume-card__badge resume-card__badge--public",children:"Cng khai"})]}),t.jsxs("div",{className:"resume-card__meta",children:[t.jsx(lg,{status:e.status}),t.jsx("span",{className:"resume-card__date muted small",children:f(e.updated_at)})]})]}),t.jsxs("div",{className:"resume-card__info",children:[t.jsx("span",{className:"resume-card__source",children:x}),e.file_name&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"resume-card__divider",children:""}),t.jsx("span",{className:"muted small",children:e.file_name})]})]})]}),t.jsxs("div",{className:"resume-card__actions",children:[t.jsx("button",{className:"btn btn--icon",onClick:()=>a(`/resumes/${e.id}`),title:"Xem / Chnh sa",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),!e.is_default&&t.jsx("button",{className:"btn btn--icon",onClick:()=>n(e.id),title:"t lm mc nh",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),t.jsxs("div",{className:"resume-card__menu",ref:r,style:{position:"relative"},children:[t.jsx("button",{className:"btn btn--icon",onClick:p=>{p.stopPropagation(),l(!i)},title:"Thm ty chn",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"1"}),t.jsx("circle",{cx:"12",cy:"5",r:"1"}),t.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}),i&&t.jsxs("div",{className:"resume-card__dropdown",onClick:p=>p.stopPropagation(),children:[t.jsx("button",{className:"resume-card__dropdown-item",onClick:()=>{l(!1),a(`/resumes/${e.id}`)},children:"Xem chi tit"}),t.jsx("button",{className:"resume-card__dropdown-item",onClick:async()=>{if(l(!1),!g&&!h.content)try{const{ResumeApi:p}=await eg(async()=>{const{ResumeApi:S}=await Promise.resolve().then(()=>t0);return{ResumeApi:S}},void 0),y=await p.getResumeById(e.id);v(y)}catch(p){console.error("Failed to load resume detail:",p),v(e)}c(!0)},children:"Preview"}),t.jsx("div",{className:"resume-card__dropdown-divider"}),t.jsx("button",{className:"resume-card__dropdown-item resume-card__dropdown-item--danger",onClick:()=>{l(!1),window.confirm("Bn chc chn mun xa CV ny?")&&s(e.id)},children:"Xa CV"})]})]})]}),t.jsx(Rn,{open:o,onClose:()=>c(!1),noWrapper:!0,children:t.jsxs("div",{className:"resume-preview-modal",children:[t.jsxs("div",{className:"resume-preview-modal__header",children:[t.jsx("h3",{style:{margin:0},children:"Preview CV"}),t.jsx("div",{className:"resume-preview-modal__actions",children:t.jsx("button",{className:"btn btn--icon",onClick:()=>c(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]}),t.jsx("div",{className:"resume-preview-modal__body",children:b&&(g&&b.file_url?t.jsx("iframe",{src:b.file_url,title:b.title||"CV",style:{width:"100%",height:"80vh",border:"none",borderRadius:"12px"}}):t.jsx(Kr,{profileData:j(),theme:((d=(m=b.content)==null?void 0:m.layout_settings)==null?void 0:d.theme)||"professional",title:b.title,onClose:()=>c(!1),hideHeader:!0,additionalData:_()}))})]})})]})}function am({title:e="Cha c CV no",description:n="Bt u bng cch to CV mi hoc ti CV ln.",actions:s}){return t.jsxs("div",{className:"empty-state",children:[t.jsx("h3",{className:"empty-state__title",children:e}),t.jsx("p",{className:"empty-state__description muted",children:n}),s&&t.jsx("div",{className:"empty-state__actions",children:s})]})}function M_({count:e=3}){return t.jsx("div",{className:"skeleton-grid",children:Array.from({length:e}).map((n,s)=>t.jsxs("div",{className:"skeleton-card",children:[t.jsxs("div",{className:"skeleton-card__header",children:[t.jsx("div",{className:"skeleton skeleton--title"}),t.jsx("div",{className:"skeleton skeleton--badge"})]}),t.jsxs("div",{className:"skeleton-card__body",children:[t.jsx("div",{className:"skeleton skeleton--line"}),t.jsx("div",{className:"skeleton skeleton--line skeleton--short"})]}),t.jsxs("div",{className:"skeleton-card__footer",children:[t.jsx("div",{className:"skeleton skeleton--button"}),t.jsx("div",{className:"skeleton skeleton--button"})]})]},s))})}function R_(){const e=He(),[n,s]=u.useState([]),[a,i]=u.useState(!0),[l,r]=u.useState(""),[o,c]=u.useState(!1),[h,v]=u.useState(!1),f=u.useRef({});u.useEffect(()=>{x();const m=d=>{Object.keys(f.current).forEach(p=>{f.current[p]&&f.current[p].contains(d.target)})};return document.addEventListener("click",m),()=>document.removeEventListener("click",m)},[]);const x=async()=>{var m,d,p,y,S,w;i(!0),r(""),c(!1);try{const k=await Ut.getResumes();s(Array.isArray(k)?k:[])}catch(k){(k==null?void 0:k.status)===404&&(((d=(m=k==null?void 0:k.message)==null?void 0:m.toLowerCase())==null?void 0:d.includes("profile"))||((w=(S=(y=(p=k==null?void 0:k.data)==null?void 0:p.message)==null?void 0:y.toLowerCase)==null?void 0:S.call(y))==null?void 0:w.includes("profile")))?(c(!0),s([])):r((k==null?void 0:k.message)||"Khng th ti danh sch CV.")}finally{i(!1)}},j=async m=>{try{await Ut.setDefaultResume(m),await x()}catch(d){alert((d==null?void 0:d.message)||"Khng th t CV lm mc nh.")}},_=async m=>{if(window.confirm("Bn chc chn mun xa CV ny?"))try{await Ut.deleteResume(m),await x()}catch(d){alert((d==null?void 0:d.message)||"Khng th xa CV.")}},b=()=>{x(),v(!1)},g={total:n.length,active:n.filter(m=>m.status==="active").length,default:n.filter(m=>m.is_default).length};return t.jsxs("section",{className:"section resumes-list-page",children:[t.jsxs("div",{className:"resumes-hero",children:[t.jsxs("div",{className:"resumes-hero__content",children:[t.jsxs("div",{className:"resumes-hero__text",children:[t.jsx("h1",{className:"resumes-hero__title",children:"Qun l CV ca bn"}),t.jsx("p",{className:"resumes-hero__subtitle",children:"To, chnh sa v qun l cc CV chuyn nghip. Xut PDF v chia s vi nh tuyn dng."})]}),t.jsxs("div",{className:"resumes-hero__actions",children:[t.jsxs("button",{className:"btn btn--upload",onClick:()=>v(!0),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Ti CV ln"]}),t.jsxs("button",{className:"btn btn--create primary",onClick:()=>e("/resumes/create"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"To CV mi"]})]})]}),t.jsxs("div",{className:"resumes-hero__stats",children:[t.jsxs("div",{className:"resumes-hero__stat",children:[t.jsx("div",{className:"resumes-hero__stat-value",children:g.total}),t.jsx("div",{className:"resumes-hero__stat-label",children:"Tng s CV"})]}),t.jsxs("div",{className:"resumes-hero__stat",children:[t.jsx("div",{className:"resumes-hero__stat-value",children:g.active}),t.jsx("div",{className:"resumes-hero__stat-label",children:"ang hot ng"})]}),t.jsxs("div",{className:"resumes-hero__stat",children:[t.jsx("div",{className:"resumes-hero__stat-value",children:g.default}),t.jsx("div",{className:"resumes-hero__stat-label",children:"CV mc nh"})]})]})]}),t.jsxs("div",{className:"card resumes-content",children:[l&&t.jsx("div",{className:"error-banner resumes-banner",children:l}),a?t.jsx(M_,{count:3}):o?t.jsx(am,{title:"Bn cha c h s",description:"Vui lng to h s  s dng v qun l CV ca bn.",actions:t.jsx("button",{className:"btn primary",onClick:()=>e("/profile"),children:"i n trang h s"})}):n.length===0?t.jsx(am,{title:"Cha c CV no",description:"Bt u bng cch to CV mi t profile ca bn hoc ti CV file ln.",actions:t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"btn",onClick:()=>v(!0),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Ti CV ln"]}),t.jsxs("button",{className:"btn primary",onClick:()=>e("/resumes/create"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"To CV mi"]})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"resumes-list__header",children:t.jsxs("h2",{className:"resumes-list__title",children:["Danh sch CV (",n.length,")"]})}),t.jsx("div",{className:"resumes-list",children:n.map(m=>t.jsx(P_,{resume:m,onSetDefault:j,onDelete:_},m.id))})]})]}),h&&t.jsx(L_,{open:h,onClose:()=>v(!1),onSuccess:b})]})}function rg({selectedTheme:e,onSelectTheme:n,loading:s,showPreview:a=!1}){const[i,l]=u.useState([]),[r,o]=u.useState(!0),[c,h]=u.useState(""),[v,f]=u.useState(null);u.useEffect(()=>{x()},[]);const x=async()=>{o(!0),h(""),l([{id:"professional",name:"Professional",description:"Layout 2 ct u nhau, header trn cng, ph hp cho corporate",layout:"header-top",category:"professional",colors:{primary:"#1e293b",secondary:"#334155"}},{id:"timeline",name:"Timeline",description:"Layout timeline dc vi sidebar nh, ph hp cho developer/engineer",layout:"sidebar",category:"modern",colors:{primary:"#1e293b",secondary:"#334155"}},{id:"compact",name:"Compact",description:"Layout sidebar nh vi spacing compact, ph hp cho entry-level",layout:"sidebar",category:"modern",colors:{primary:"#1e293b",secondary:"#334155"}}]),o(!1)};if(r||s)return t.jsx("div",{className:"template-gallery",children:t.jsxs("div",{className:"template-gallery__loading",children:[t.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",margin:"0 auto 12px"}}),"ang ti template..."]})});if(c)return t.jsx("div",{className:"template-gallery",children:t.jsx("div",{className:"error-banner",children:c})});const j=i.find(_=>_.id===e);return t.jsxs("div",{className:"template-gallery",children:[a&&j&&t.jsxs("div",{className:"template-gallery__selected-preview",children:[t.jsxs("div",{className:"template-gallery__selected-badge",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{d:"M13.5 4L6 11.5L2.5 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})," chn"]}),t.jsx("h4",{className:"template-gallery__preview-title",children:j.name}),j.description&&t.jsx("p",{className:"template-gallery__preview-description muted small",children:j.description})]}),t.jsx("div",{className:"template-gallery__grid",children:i.map(_=>{const b=e===_.id,g=_.colors||{},m=_.layout||"sidebar",d=()=>{const p=g.primary||"#1e293b";return g.secondary,_.id==="professional"||m==="header-top"&&_.id!=="timeline"&&_.id!=="compact"?t.jsx("div",{className:"template-card__preview",style:{background:p},children:t.jsxs("div",{className:"template-card__preview-content",style:{display:"flex",flexDirection:"column",height:"100%"},children:[t.jsxs("div",{style:{background:p,padding:"10px",borderRadius:"4px 4px 0 0",minHeight:"35px"},children:[t.jsx("div",{style:{width:"60%",height:"7px",background:"rgba(255,255,255,0.9)",borderRadius:"3px",margin:"0 auto 5px"}}),t.jsx("div",{style:{width:"40%",height:"5px",background:"rgba(255,255,255,0.7)",borderRadius:"3px",margin:"0 auto"}})]}),t.jsxs("div",{style:{flex:1,padding:"6px",background:"white",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{width:"90%",height:"3px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"4px"}}),t.jsx("div",{style:{width:"70%",height:"3px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"4px"}}),t.jsx("div",{style:{width:"80%",height:"3px",background:"#e2e8f0",borderRadius:"2px"}})]}),t.jsxs("div",{children:[t.jsx("div",{style:{width:"100%",height:"3px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"4px"}}),t.jsx("div",{style:{width:"85%",height:"3px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"4px"}}),t.jsx("div",{style:{width:"90%",height:"3px",background:"#e2e8f0",borderRadius:"2px"}})]})]})]})}):_.id==="timeline"?t.jsx("div",{className:"template-card__preview",style:{background:p},children:t.jsxs("div",{className:"template-card__preview-content",style:{display:"flex",height:"100%"},children:[t.jsxs("div",{className:"template-card__preview-sidebar",style:{width:"30%",padding:"6px",background:p},children:[t.jsx("div",{className:"template-card__preview-avatar",style:{width:"35px",height:"35px",background:"rgba(255,255,255,0.2)",borderRadius:"50%",margin:"0 auto 6px"}}),t.jsx("div",{className:"template-card__preview-name",style:{width:"80%",height:"5px",background:"rgba(255,255,255,0.5)",borderRadius:"3px",margin:"0 auto 3px"}}),t.jsx("div",{style:{width:"60%",height:"3px",background:"rgba(255,255,255,0.3)",borderRadius:"2px",margin:"0 auto"}})]}),t.jsxs("div",{className:"template-card__preview-main",style:{flex:1,padding:"6px",background:"white",position:"relative"},children:[t.jsx("div",{style:{position:"absolute",left:"8px",top:"0",bottom:"0",width:"2px",background:p}}),t.jsxs("div",{style:{paddingLeft:"20px"},children:[t.jsx("div",{style:{width:"100%",height:"4px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"6px"}}),t.jsx("div",{style:{width:"80%",height:"4px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"6px"}}),t.jsx("div",{style:{width:"90%",height:"4px",background:"#e2e8f0",borderRadius:"2px"}})]})]})]})}):_.id==="compact"?t.jsx("div",{className:"template-card__preview",style:{background:p},children:t.jsxs("div",{className:"template-card__preview-content",style:{display:"flex",height:"100%"},children:[t.jsxs("div",{className:"template-card__preview-sidebar",style:{width:"25%",padding:"6px",background:p},children:[t.jsx("div",{className:"template-card__preview-avatar",style:{width:"30px",height:"30px",background:"rgba(255,255,255,0.2)",borderRadius:"50%",margin:"0 auto 5px"}}),t.jsx("div",{className:"template-card__preview-name",style:{width:"70%",height:"4px",background:"rgba(255,255,255,0.5)",borderRadius:"2px",margin:"0 auto 3px"}}),t.jsx("div",{style:{width:"50%",height:"2px",background:"rgba(255,255,255,0.3)",borderRadius:"2px",margin:"0 auto"}})]}),t.jsxs("div",{className:"template-card__preview-main",style:{flex:1,padding:"6px",background:"white"},children:[t.jsx("div",{className:"template-card__preview-line",style:{width:"100%",height:"3px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"4px"}}),t.jsx("div",{className:"template-card__preview-line short",style:{width:"75%",height:"3px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"4px"}}),t.jsx("div",{className:"template-card__preview-line",style:{width:"90%",height:"3px",background:"#e2e8f0",borderRadius:"2px"}})]})]})}):t.jsx("div",{className:"template-card__preview",style:{background:p},children:t.jsxs("div",{className:"template-card__preview-content",style:{display:"flex",height:"100%"},children:[t.jsxs("div",{className:"template-card__preview-sidebar",style:{width:"35%",padding:"8px"},children:[t.jsx("div",{className:"template-card__preview-avatar",style:{width:"40px",height:"40px",background:"rgba(255,255,255,0.2)",borderRadius:"50%",margin:"0 auto 8px"}}),t.jsx("div",{className:"template-card__preview-name",style:{width:"80%",height:"6px",background:"rgba(255,255,255,0.5)",borderRadius:"3px",margin:"0 auto 4px"}}),t.jsx("div",{style:{width:"60%",height:"3px",background:"rgba(255,255,255,0.3)",borderRadius:"2px",margin:"0 auto"}})]}),t.jsxs("div",{className:"template-card__preview-main",style:{flex:1,padding:"8px",background:"white"},children:[t.jsx("div",{className:"template-card__preview-line",style:{width:"100%",height:"4px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"6px"}}),t.jsx("div",{className:"template-card__preview-line short",style:{width:"80%",height:"4px",background:"#e2e8f0",borderRadius:"2px",marginBottom:"6px"}}),t.jsx("div",{className:"template-card__preview-line",style:{width:"90%",height:"4px",background:"#e2e8f0",borderRadius:"2px"}})]})]})})};return t.jsxs("div",{className:`template-card-wrapper ${b?"template-card-wrapper--selected":""}`,onMouseEnter:()=>f(_.id),onMouseLeave:()=>f(null),children:[t.jsxs("button",{type:"button",className:`template-card ${b?"template-card--selected":""} ${v===_.id?"template-card--hovered":""}`,onClick:()=>n(_.id),children:[d(),t.jsxs("div",{className:"template-card__info",children:[t.jsx("div",{className:"template-card__name",children:_.name||_.id}),_.description&&t.jsx("div",{className:"template-card__description muted small",children:_.description})]}),b&&t.jsx("div",{className:"template-card__badge",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{d:"M13.5 4L6 11.5L2.5 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),v===_.id&&_.description&&t.jsx("div",{className:"template-card__tooltip",children:_.description})]},_.id)})})]})}function im({profileData:e,completion:n}){var b,g,m,d,p,y,S;const[s,a]=u.useState({skills:!1,experiences:!1,educations:!1,certifications:!1,awards:!1});if(!e)return t.jsx("div",{className:"profile-data-preview profile-data-preview--empty",children:t.jsx("p",{className:"muted",children:"Khng c d liu h s"})});const i=e.sections||{};e.content;const l=((b=i.personal_info)==null?void 0:b.data)||{},r=((g=i.skills)==null?void 0:g.items)||[],o=((m=i.experiences)==null?void 0:m.items)||[],c=((d=i.educations)==null?void 0:d.items)||[],h=e.certifications||e.certificates||((p=i.certifications)==null?void 0:p.items)||((y=i.certificates)==null?void 0:y.items)||[],v=e.awards||((S=i.awards)==null?void 0:S.items)||[],f=w=>{a(k=>({...k,[w]:!k[w]}))},x=w=>w?new Date(w).toLocaleDateString("vi-VN",{month:"short",year:"numeric"}):"",j=w=>w?new Date(w).toLocaleDateString("vi-VN",{day:"numeric",month:"numeric",year:"numeric"}):"",_=w=>{var k;return typeof w=="string"?w:(k=w==null?void 0:w.skills)!=null&&k.name?w.skills.name:w!=null&&w.name?w.name:w!=null&&w.skill_id?w.skill_id:"K nng"};return t.jsxs("div",{className:"profile-data-preview",children:[t.jsxs("div",{className:"profile-data-preview__header",children:[t.jsx("h3",{className:"profile-data-preview__title",children:"Thng tin s c s dng"}),n&&t.jsxs("div",{className:`profile-data-preview__badge ${n.isComplete?"profile-data-preview__badge--complete":""}`,children:[n.percentage,"% hon thnh"]})]}),t.jsxs("div",{className:"profile-data-preview__section",children:[t.jsxs("div",{className:"profile-data-preview__section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("h4",{className:"profile-data-preview__section-title",children:"Thng tin c nhn"})]}),t.jsxs("div",{className:"profile-data-preview__section-content",children:[t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"H v tn:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:l.full_name||t.jsx("span",{className:"muted",children:"Cha c"})})]}),l.headline&&t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"Headline:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:l.headline})]}),t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"Email:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:l.email||t.jsx("span",{className:"muted",children:"Cha c"})})]}),t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"S in thoi:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:l.phone||t.jsx("span",{className:"muted",children:"Cha c"})})]}),l.location&&t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"a ch:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:l.location})]}),l.date_of_birth&&t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"Ngy sinh:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:j(l.date_of_birth)})]}),l.linkedin_url&&t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"LinkedIn:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:t.jsx("a",{href:l.linkedin_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563eb"},children:l.linkedin_url})})]}),l.website&&t.jsxs("div",{className:"profile-data-preview__field",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"Website:"}),t.jsx("span",{className:"profile-data-preview__field-value",children:t.jsx("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563eb"},children:l.website})})]}),l.bio&&t.jsxs("div",{className:"profile-data-preview__field profile-data-preview__field--full",children:[t.jsx("span",{className:"profile-data-preview__field-label",children:"Gii thiu:"}),t.jsx("p",{className:"profile-data-preview__bio",children:l.bio})]})]})]}),t.jsxs("div",{className:"profile-data-preview__section",children:[t.jsxs("div",{className:"profile-data-preview__section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5M2 12l10 5 10-5"})]}),t.jsx("h4",{className:"profile-data-preview__section-title",children:"K nng"}),t.jsx("span",{className:"profile-data-preview__section-count",children:r.length})]}),r.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"profile-data-preview__section-content",children:t.jsxs("div",{className:"profile-data-preview__skills-preview",children:[r.slice(0,5).map((w,k)=>t.jsx("span",{className:"profile-data-preview__skill-tag",children:_(w)},w.id||w.skill_id||k)),r.length>5&&t.jsxs("span",{className:"profile-data-preview__skill-more",children:["+",r.length-5," k nng khc"]})]})}),r.length>5&&t.jsx("button",{type:"button",className:"profile-data-preview__expand-btn",onClick:()=>f("skills"),children:s.skills?"Thu gn":`Xem tt c ${r.length} k nng`}),s.skills&&t.jsx("div",{className:"profile-data-preview__expanded-content",children:r.map((w,k)=>t.jsxs("div",{className:"profile-data-preview__skill-item",children:[t.jsx("span",{children:_(w)}),(w.proficiency_level||w.proficiency||w.level)&&t.jsx("span",{className:"profile-data-preview__skill-level",children:w.proficiency_level||w.level||(w.proficiency?`im ${w.proficiency}`:"")})]},w.id||w.skill_id||k))})]}):t.jsx("div",{className:"profile-data-preview__section-content",children:t.jsx("p",{className:"muted small",children:"Cha c k nng no"})})]}),t.jsxs("div",{className:"profile-data-preview__section",children:[t.jsxs("div",{className:"profile-data-preview__section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("h4",{className:"profile-data-preview__section-title",children:"Kinh nghim lm vic"}),t.jsx("span",{className:"profile-data-preview__section-count",children:o.length})]}),o.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"profile-data-preview__section-content",children:o.slice(0,2).map((w,k)=>t.jsxs("div",{className:"profile-data-preview__experience-item",children:[t.jsx("div",{className:"profile-data-preview__experience-title",children:w.job_title||w.position||"Cha c chc danh"}),t.jsx("div",{className:"profile-data-preview__experience-company",children:w.company_name||"Cha c cng ty"}),t.jsxs("div",{className:"profile-data-preview__experience-date muted small",children:[w.start_date&&x(w.start_date),w.end_date?` - ${x(w.end_date)}`:w.is_current?" - Hin ti":""]})]},w.id||k))}),o.length>2&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"profile-data-preview__expand-btn",onClick:()=>f("experiences"),children:s.experiences?"Thu gn":`Xem tt c ${o.length} kinh nghim`}),s.experiences&&t.jsx("div",{className:"profile-data-preview__expanded-content",children:o.map((w,k)=>t.jsxs("div",{className:"profile-data-preview__experience-item",children:[t.jsx("div",{className:"profile-data-preview__experience-title",children:w.job_title||w.position||"Cha c chc danh"}),t.jsx("div",{className:"profile-data-preview__experience-company",children:w.company_name||"Cha c cng ty"}),t.jsxs("div",{className:"profile-data-preview__experience-date muted small",children:[w.start_date&&x(w.start_date),w.end_date?` - ${x(w.end_date)}`:w.is_current?" - Hin ti":""]}),w.description&&t.jsx("p",{className:"profile-data-preview__experience-desc muted small",children:w.description})]},w.id||k))})]})]}):t.jsx("div",{className:"profile-data-preview__section-content",children:t.jsx("p",{className:"muted small",children:"Cha c kinh nghim no"})})]}),t.jsxs("div",{className:"profile-data-preview__section",children:[t.jsxs("div",{className:"profile-data-preview__section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),t.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),t.jsx("h4",{className:"profile-data-preview__section-title",children:"Hc vn"}),t.jsx("span",{className:"profile-data-preview__section-count",children:c.length})]}),c.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"profile-data-preview__section-content",children:c.slice(0,2).map((w,k)=>t.jsxs("div",{className:"profile-data-preview__education-item",children:[t.jsx("div",{className:"profile-data-preview__education-title",children:w.institution_name||w.school_name||"Cha c trng"}),t.jsx("div",{className:"profile-data-preview__education-degree",children:w.degree||w.field_of_study||"Cha c bng cp"}),t.jsxs("div",{className:"profile-data-preview__education-date muted small",children:[w.start_date&&x(w.start_date),w.end_date?` - ${x(w.end_date)}`:" - Hin ti"]})]},w.id||k))}),c.length>2&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"profile-data-preview__expand-btn",onClick:()=>f("educations"),children:s.educations?"Thu gn":`Xem tt c ${c.length} hc vn`}),s.educations&&t.jsx("div",{className:"profile-data-preview__expanded-content",children:c.map((w,k)=>t.jsxs("div",{className:"profile-data-preview__education-item",children:[t.jsx("div",{className:"profile-data-preview__education-title",children:w.institution_name||w.school_name||"Cha c trng"}),t.jsx("div",{className:"profile-data-preview__education-degree",children:w.degree||w.field_of_study||"Cha c bng cp"}),t.jsxs("div",{className:"profile-data-preview__education-date muted small",children:[w.start_date&&x(w.start_date),w.end_date?` - ${x(w.end_date)}`:" - Hin ti"]})]},w.id||k))})]})]}):t.jsx("div",{className:"profile-data-preview__section-content",children:t.jsx("p",{className:"muted small",children:"Cha c hc vn no"})})]}),t.jsxs("div",{className:"profile-data-preview__section",children:[t.jsxs("div",{className:"profile-data-preview__section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5M2 12l10 5 10-5"})]}),t.jsx("h4",{className:"profile-data-preview__section-title",children:"Chng ch"}),t.jsx("span",{className:"profile-data-preview__section-count",children:h.length})]}),h.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"profile-data-preview__section-content",children:h.slice(0,2).map((w,k)=>t.jsxs("div",{className:"profile-data-preview__experience-item",children:[t.jsx("div",{className:"profile-data-preview__experience-title",children:w.name||w.title||"Cha c tn chng ch"}),t.jsx("div",{className:"profile-data-preview__experience-company",children:w.issuing_org||w.issuer||"Cha c t chc cp"}),w.issue_date&&t.jsxs("div",{className:"profile-data-preview__experience-date muted small",children:[x(w.issue_date),w.expiry_date&&` - ${x(w.expiry_date)}`]})]},w.id||k))}),h.length>2&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"profile-data-preview__expand-btn",onClick:()=>f("certifications"),children:s.certifications?"Thu gn":`Xem tt c ${h.length} chng ch`}),s.certifications&&t.jsx("div",{className:"profile-data-preview__expanded-content",children:h.map((w,k)=>t.jsxs("div",{className:"profile-data-preview__experience-item",children:[t.jsx("div",{className:"profile-data-preview__experience-title",children:w.name||w.title||"Cha c tn chng ch"}),t.jsx("div",{className:"profile-data-preview__experience-company",children:w.issuing_org||w.issuer||"Cha c t chc cp"}),w.issue_date&&t.jsxs("div",{className:"profile-data-preview__experience-date muted small",children:[x(w.issue_date),w.expiry_date&&` - ${x(w.expiry_date)}`]}),w.credential_id&&t.jsxs("div",{className:"profile-data-preview__experience-date muted small",children:["ID: ",w.credential_id]})]},w.id||k))})]})]}):t.jsx("div",{className:"profile-data-preview__section-content",children:t.jsx("p",{className:"muted small",children:"Cha c chng ch no"})})]}),t.jsxs("div",{className:"profile-data-preview__section",children:[t.jsxs("div",{className:"profile-data-preview__section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),t.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),t.jsx("path",{d:"M4 22h16"}),t.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),t.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),t.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),t.jsx("h4",{className:"profile-data-preview__section-title",children:"Gii thng"}),t.jsx("span",{className:"profile-data-preview__section-count",children:v.length})]}),v.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"profile-data-preview__section-content",children:v.slice(0,2).map((w,k)=>t.jsxs("div",{className:"profile-data-preview__experience-item",children:[t.jsx("div",{className:"profile-data-preview__experience-title",children:w.title||w.name||"Cha c tn gii thng"}),t.jsx("div",{className:"profile-data-preview__experience-company",children:w.issuer||w.issuing_org||"Cha c n v trao tng"}),w.date&&t.jsx("div",{className:"profile-data-preview__experience-date muted small",children:x(w.date)}),w.description&&t.jsx("p",{className:"profile-data-preview__experience-desc muted small",children:w.description})]},w.id||k))}),v.length>2&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"profile-data-preview__expand-btn",onClick:()=>f("awards"),children:s.awards?"Thu gn":`Xem tt c ${v.length} gii thng`}),s.awards&&t.jsx("div",{className:"profile-data-preview__expanded-content",children:v.map((w,k)=>t.jsxs("div",{className:"profile-data-preview__experience-item",children:[t.jsx("div",{className:"profile-data-preview__experience-title",children:w.title||w.name||"Cha c tn gii thng"}),t.jsx("div",{className:"profile-data-preview__experience-company",children:w.issuer||w.issuing_org||"Cha c n v trao tng"}),w.date&&t.jsx("div",{className:"profile-data-preview__experience-date muted small",children:x(w.date)}),w.description&&t.jsx("p",{className:"profile-data-preview__experience-desc muted small",children:w.description})]},w.id||k))})]})]}):t.jsx("div",{className:"profile-data-preview__section-content",children:t.jsx("p",{className:"muted small",children:"Cha c gii thng no"})})]})]})}function A_({currentStep:e,totalSteps:n,stepNames:s,onStepClick:a,completedSteps:i=[]}){const l=Array.from({length:n},(c,h)=>h+1),r=c=>c<e||i.includes(c)?"completed":c===e?"active":"pending",o=c=>c<=e||i.includes(c);return t.jsxs("div",{className:"resume-step-indicator",children:[t.jsx("div",{className:"resume-step-indicator__progress",children:t.jsx("div",{className:"resume-step-indicator__progress-bar",style:{width:`${(e-1)/(n-1)*100}%`}})}),t.jsx("div",{className:"resume-step-indicator__steps",children:l.map(c=>{const h=r(c),v=s[c]||`Bc ${c}`,f=o(c);return t.jsxs("div",{className:`resume-step-indicator__step resume-step-indicator__step--${h} ${f?"resume-step-indicator__step--clickable":""}`,onClick:()=>f&&a&&a(c),title:v,children:[t.jsx("div",{className:"resume-step-indicator__step-number",children:h==="completed"?t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M16.667 5L7.5 14.167 3.333 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):c}),t.jsx("div",{className:"resume-step-indicator__step-label",children:v})]},c)})})]})}function og({projects:e=[],onChange:n}){const[s,a]=u.useState(!1),[i,l]=u.useState(null),[r,o]=u.useState({name:"",role:"",client:"",tech_stack:[],description:"",start_date:"",end_date:"",is_current:!1,highlights:[],links:[]}),[c,h]=u.useState(""),[v,f]=u.useState(""),[x,j]=u.useState({url:"",label:""}),_=(C=null)=>{if(C!==null){const T=e[C];o({name:T.name||"",role:T.role||"",client:T.client||"",tech_stack:Array.isArray(T.tech_stack)?T.tech_stack:[],description:T.description||"",start_date:T.start_date?T.start_date.slice(0,10):"",end_date:T.end_date?T.end_date.slice(0,10):"",is_current:!!T.is_current,highlights:Array.isArray(T.highlights)?T.highlights:[],links:Array.isArray(T.links)?T.links:[]}),l(C)}else o({name:"",role:"",client:"",tech_stack:[],description:"",start_date:"",end_date:"",is_current:!1,highlights:[],links:[]}),l(null);h(""),f(""),j({url:"",label:""}),a(!0)},b=()=>{a(!1),l(null)},g=C=>{C.preventDefault();const T=[...e],L={name:r.name.trim(),role:r.role.trim(),client:r.client.trim(),tech_stack:r.tech_stack,description:r.description.trim(),start_date:r.start_date||void 0,end_date:r.is_current?void 0:r.end_date||void 0,is_current:r.is_current,highlights:r.highlights,links:r.links};i!==null?T[i]=L:T.push(L),n(T),b()},m=C=>{if(!window.confirm("Bn chc chn mun xa d n ny?"))return;const T=e.filter((L,O)=>O!==C);n(T)},d=()=>{c.trim()&&(o(C=>({...C,tech_stack:[...C.tech_stack,c.trim()]})),h(""))},p=C=>{o(T=>({...T,tech_stack:T.tech_stack.filter((L,O)=>O!==C)}))},y=()=>{v.trim()&&(o(C=>({...C,highlights:[...C.highlights,v.trim()]})),f(""))},S=C=>{o(T=>({...T,highlights:T.highlights.filter((L,O)=>O!==C)}))},w=()=>{x.url.trim()&&(o(C=>({...C,links:[...C.links,{url:x.url.trim(),label:x.label.trim()||x.url.trim()}]})),j({url:"",label:""}))},k=C=>{o(T=>({...T,links:T.links.filter((L,O)=>O!==C)}))};return t.jsxs("div",{className:"projects-section",children:[t.jsxs("div",{className:"projects-section__header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:"D n"}),t.jsx("p",{className:"muted small",children:"Thm cc d n ni bt ca bn."})]}),t.jsx("button",{type:"button",className:"btn ghost",onClick:()=>_(),children:"Thm d n"})]}),e.length===0?t.jsx("div",{className:"empty-copy",children:"Cha c d n no. Hy thm d n u tin."}):t.jsx("div",{className:"projects-section__list",children:e.map((C,T)=>t.jsxs("div",{className:"project-item",children:[t.jsxs("div",{children:[t.jsx("div",{className:"project-item__name",children:C.name||"D n khng tn"}),C.role&&t.jsx("div",{className:"project-item__role",children:C.role}),C.client&&t.jsx("div",{className:"project-item__client muted small",children:C.client}),C.tech_stack&&C.tech_stack.length>0&&t.jsx("div",{className:"project-item__tech",children:C.tech_stack.map((L,O)=>t.jsx("span",{className:"tech-chip",children:L},O))}),C.description&&t.jsx("p",{className:"project-item__description muted",children:C.description})]}),t.jsxs("div",{className:"project-item__actions",children:[t.jsx("button",{type:"button",className:"btn ghost",onClick:()=>_(T),children:"Chnh sa"}),t.jsx("button",{type:"button",className:"btn danger",onClick:()=>m(T),children:"Xa"})]})]},T))}),t.jsx(Rn,{open:s,onClose:b,children:t.jsxs("form",{onSubmit:g,className:"project-form",children:[t.jsx("h3",{children:i!==null?"Chnh sa d n":"Thm d n mi"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tn d n *"}),t.jsx("input",{type:"text",value:r.name,onChange:C=>o(T=>({...T,name:C.target.value})),required:!0,placeholder:"E-commerce Platform"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Vai tr"}),t.jsx("input",{type:"text",value:r.role,onChange:C=>o(T=>({...T,role:C.target.value})),placeholder:"Full-stack Developer"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Khch hng / Cng ty"}),t.jsx("input",{type:"text",value:r.client,onChange:C=>o(T=>({...T,client:C.target.value})),placeholder:"ABC Company"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ngy bt u"}),t.jsx("input",{type:"date",value:r.start_date,onChange:C=>o(T=>({...T,start_date:C.target.value}))})]}),t.jsxs("label",{className:"field checkbox-field",children:[t.jsx("input",{type:"checkbox",checked:r.is_current,onChange:C=>o(T=>({...T,is_current:C.target.checked}))}),t.jsx("span",{children:"ang thc hin"})]}),!r.is_current&&t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ngy kt thc"}),t.jsx("input",{type:"date",value:r.end_date,onChange:C=>o(T=>({...T,end_date:C.target.value}))})]}),t.jsxs("label",{className:"field field-span",children:[t.jsx("span",{children:"M t"}),t.jsx("textarea",{rows:4,value:r.description,onChange:C=>o(T=>({...T,description:C.target.value})),placeholder:"M t v d n..."})]})]}),t.jsx("div",{className:"field-group",children:t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Cng ngh s dng"}),t.jsxs("div",{className:"input-with-button",children:[t.jsx("input",{type:"text",value:c,onChange:C=>h(C.target.value),onKeyPress:C=>C.key==="Enter"&&(C.preventDefault(),d()),placeholder:"React, Node.js..."}),t.jsx("button",{type:"button",className:"btn ghost",onClick:d,children:"Thm"})]}),r.tech_stack.length>0&&t.jsx("div",{className:"chips-list",children:r.tech_stack.map((C,T)=>t.jsxs("span",{className:"chip",children:[C,t.jsx("button",{type:"button",className:"chip-remove",onClick:()=>p(T),children:""})]},T))})]})}),t.jsx("div",{className:"field-group",children:t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"im ni bt"}),t.jsxs("div",{className:"input-with-button",children:[t.jsx("input",{type:"text",value:v,onChange:C=>f(C.target.value),onKeyPress:C=>C.key==="Enter"&&(C.preventDefault(),y()),placeholder:"Tng hiu sut 50%..."}),t.jsx("button",{type:"button",className:"btn ghost",onClick:y,children:"Thm"})]}),r.highlights.length>0&&t.jsx("ul",{className:"highlights-list",children:r.highlights.map((C,T)=>t.jsxs("li",{children:[C,t.jsx("button",{type:"button",className:"btn-link",onClick:()=>S(T),children:"Xa"})]},T))})]})}),t.jsx("div",{className:"field-group",children:t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Lin kt"}),t.jsxs("div",{className:"link-inputs",children:[t.jsx("input",{type:"url",value:x.url,onChange:C=>j(T=>({...T,url:C.target.value})),placeholder:"https://..."}),t.jsx("input",{type:"text",value:x.label,onChange:C=>j(T=>({...T,label:C.target.value})),placeholder:"Nhn (ty chn)"}),t.jsx("button",{type:"button",className:"btn ghost",onClick:w,children:"Thm"})]}),r.links.length>0&&t.jsx("ul",{className:"links-list",children:r.links.map((C,T)=>t.jsxs("li",{children:[t.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",children:C.label}),t.jsx("button",{type:"button",className:"btn-link",onClick:()=>k(T),children:"Xa"})]},T))})]})}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"btn",onClick:b,children:"Hy"}),t.jsx("button",{type:"submit",className:"btn primary",children:i!==null?"Cp nht":"Thm"})]})]})})]})}function cg({languages:e=[],onChange:n}){const[s,a]=u.useState(!1),[i,l]=u.useState(null),[r,o]=u.useState({name:"",proficiency_level:"intermediate",certificate:"",certificate_url:""}),c=(j=null)=>{if(j!==null){const _=e[j];o({name:_.name||"",proficiency_level:_.proficiency_level||"intermediate",certificate:_.certificate||"",certificate_url:_.certificate_url||""}),l(j)}else o({name:"",proficiency_level:"intermediate",certificate:"",certificate_url:""}),l(null);a(!0)},h=()=>{a(!1),l(null),o({name:"",proficiency_level:"intermediate",certificate:"",certificate_url:""})},v=j=>{j.preventDefault();const _=[...e];i!==null?_[i]={...r}:_.push({...r}),n(_),h()},f=j=>{if(window.confirm("Bn chc chn mun xa ngn ng ny?")){const _=e.filter((b,g)=>g!==j);n(_)}},x=j=>({basic:"C bn",intermediate:"Trung bnh",advanced:"Nng cao",native:"Bn ng"})[j]||j;return t.jsxs("div",{className:"resume-section",children:[t.jsxs("div",{className:"resume-section__header",children:[t.jsx("h3",{className:"resume-section__title",children:"Ngn ng"}),t.jsxs("button",{type:"button",className:"btn btn--sm btn--primary",onClick:()=>c(),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Thm ngn ng"]})]}),e.length===0?t.jsx("div",{className:"resume-section__empty",children:t.jsx("p",{className:"muted",children:'Cha c ngn ng no. Nhn "Thm ngn ng"  bt u.'})}):t.jsx("div",{className:"resume-section__list",children:e.map((j,_)=>t.jsxs("div",{className:"resume-section__item",children:[t.jsxs("div",{className:"resume-section__item-content",children:[t.jsxs("div",{className:"resume-section__item-header",children:[t.jsx("h4",{children:j.name}),t.jsx("span",{className:"resume-section__badge",children:x(j.proficiency_level)})]}),j.certificate&&t.jsxs("p",{className:"resume-section__item-meta muted small",children:[j.certificate,j.certificate_url&&t.jsx("a",{href:j.certificate_url,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"8px"},children:"(Xem chng ch)"})]})]}),t.jsxs("div",{className:"resume-section__item-actions",children:[t.jsx("button",{type:"button",className:"btn btn--icon btn--sm",onClick:()=>c(_),title:"Chnh sa",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{type:"button",className:"btn btn--icon btn--sm btn--danger",onClick:()=>f(_),title:"Xa",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},_))}),t.jsx(Rn,{open:s,onClose:h,children:t.jsxs("form",{onSubmit:v,className:"resume-form",children:[t.jsx("h3",{children:i!==null?"Chnh sa ngn ng":"Thm ngn ng"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Tn ngn ng *"}),t.jsx("input",{type:"text",className:"form-input",value:r.name,onChange:j=>o({...r,name:j.target.value}),placeholder:"V d: Ting Anh, Ting Nht...",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Mc  thnh tho *"}),t.jsxs("select",{className:"form-input",value:r.proficiency_level,onChange:j=>o({...r,proficiency_level:j.target.value}),required:!0,children:[t.jsx("option",{value:"basic",children:"C bn"}),t.jsx("option",{value:"intermediate",children:"Trung bnh"}),t.jsx("option",{value:"advanced",children:"Nng cao"}),t.jsx("option",{value:"native",children:"Bn ng"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Chng ch (ty chn)"}),t.jsx("input",{type:"text",className:"form-input",value:r.certificate,onChange:j=>o({...r,certificate:j.target.value}),placeholder:"V d: TOEIC 850, IELTS 7.5..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Link chng ch (ty chn)"}),t.jsx("input",{type:"url",className:"form-input",value:r.certificate_url,onChange:j=>o({...r,certificate_url:j.target.value}),placeholder:"https://..."})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:h,children:"Hy"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:i!==null?"Cp nht":"Thm"})]})]})})]})}function dg({summary:e="",onChange:n}){return t.jsxs("div",{className:"resume-section",children:[t.jsx("div",{className:"resume-section__header",children:t.jsx("h3",{className:"resume-section__title",children:"Tm tt / Mc tiu ngh nghip"})}),t.jsxs("div",{className:"form-group",children:[t.jsx("textarea",{className:"form-input",rows:6,value:e,onChange:s=>n(s.target.value),placeholder:"Vit mt on tm tt ngn gn v bn thn v mc tiu ngh nghip ca bn...",style:{resize:"vertical",minHeight:"120px",fontFamily:"inherit"}}),t.jsxs("p",{className:"form-hint muted small",style:{marginTop:"8px"},children:[e.length," k t"]})]})]})}function ug({references:e=[],onChange:n}){const[s,a]=u.useState(!1),[i,l]=u.useState(null),[r,o]=u.useState({name:"",position:"",company:"",email:"",phone:"",relationship:""}),c=(x=null)=>{if(x!==null){const j=e[x];o({name:j.name||"",position:j.position||"",company:j.company||"",email:j.email||"",phone:j.phone||"",relationship:j.relationship||""}),l(x)}else o({name:"",position:"",company:"",email:"",phone:"",relationship:""}),l(null);a(!0)},h=()=>{a(!1),l(null),o({name:"",position:"",company:"",email:"",phone:"",relationship:""})},v=x=>{x.preventDefault();const j=[...e];i!==null?j[i]={...r}:j.push({...r}),n(j),h()},f=x=>{if(window.confirm("Bn chc chn mun xa ngi tham kho ny?")){const j=e.filter((_,b)=>b!==x);n(j)}};return t.jsxs("div",{className:"resume-section",children:[t.jsxs("div",{className:"resume-section__header",children:[t.jsx("h3",{className:"resume-section__title",children:"Ngi tham kho"}),t.jsxs("button",{type:"button",className:"btn btn--sm btn--primary",onClick:()=>c(),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Thm ngi tham kho"]})]}),e.length===0?t.jsx("div",{className:"resume-section__empty",children:t.jsx("p",{className:"muted",children:'Cha c ngi tham kho no. Nhn "Thm ngi tham kho"  bt u.'})}):t.jsx("div",{className:"resume-section__list",children:e.map((x,j)=>t.jsxs("div",{className:"resume-section__item",children:[t.jsxs("div",{className:"resume-section__item-content",children:[t.jsxs("div",{className:"resume-section__item-header",children:[t.jsx("h4",{children:x.name}),x.position&&t.jsxs("p",{className:"resume-section__item-meta muted",children:[x.position,x.company&&` ti ${x.company}`]})]}),t.jsxs("div",{className:"resume-section__item-details",style:{marginTop:"8px"},children:[x.email&&t.jsxs("p",{className:"small muted",children:[t.jsx("strong",{children:"Email:"})," ",x.email]}),x.phone&&t.jsxs("p",{className:"small muted",children:[t.jsx("strong",{children:"ST:"})," ",x.phone]}),x.relationship&&t.jsxs("p",{className:"small muted",children:[t.jsx("strong",{children:"Mi quan h:"})," ",x.relationship]})]})]}),t.jsxs("div",{className:"resume-section__item-actions",children:[t.jsx("button",{type:"button",className:"btn btn--icon btn--sm",onClick:()=>c(j),title:"Chnh sa",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{type:"button",className:"btn btn--icon btn--sm btn--danger",onClick:()=>f(j),title:"Xa",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},j))}),t.jsx(Rn,{open:s,onClose:h,children:t.jsxs("form",{onSubmit:v,className:"resume-form",children:[t.jsx("h3",{children:i!==null?"Chnh sa ngi tham kho":"Thm ngi tham kho"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"H tn *"}),t.jsx("input",{type:"text",className:"form-input",value:r.name,onChange:x=>o({...r,name:x.target.value}),placeholder:"H v tn",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Chc v"}),t.jsx("input",{type:"text",className:"form-input",value:r.position,onChange:x=>o({...r,position:x.target.value}),placeholder:"V d: Gim c, Trng phng..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Cng ty"}),t.jsx("input",{type:"text",className:"form-input",value:r.company,onChange:x=>o({...r,company:x.target.value}),placeholder:"Tn cng ty"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Email"}),t.jsx("input",{type:"email",className:"form-input",value:r.email,onChange:x=>o({...r,email:x.target.value}),placeholder:"email@example.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"S in thoi"}),t.jsx("input",{type:"tel",className:"form-input",value:r.phone,onChange:x=>o({...r,phone:x.target.value}),placeholder:"0123456789"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Mi quan h"}),t.jsx("input",{type:"text",className:"form-input",value:r.relationship,onChange:x=>o({...r,relationship:x.target.value}),placeholder:"V d: Cu sp, Ging vin, ng nghip..."})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:h,children:"Hy"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:i!==null?"Cp nht":"Thm"})]})]})})]})}const lt={METHOD:1,TITLE:2,TEMPLATE:3,ADDITIONAL_INFO:4,PREVIEW:5,SETTINGS:6},z_={[lt.METHOD]:"T h s",[lt.TITLE]:"t tn CV",[lt.TEMPLATE]:"Chn template",[lt.ADDITIONAL_INFO]:"Thng tin b sung",[lt.PREVIEW]:"Xem trc",[lt.SETTINGS]:"Ci t"};function I_(e=lt.METHOD){const[n,s]=u.useState(e),[a,i]=u.useState({method:"profile",title:"",theme:"default",isDefault:!1,isPublic:!1,projects:[],languages:[],summary:"",references:[]}),[l,r]=u.useState({}),[o,c]=u.useState(!1),[h,v]=u.useState(!0);u.useEffect(()=>{const T=localStorage.getItem("resume-create-draft");if(T)try{const L=JSON.parse(T);L.formData&&i(O=>({...O,...L.formData,method:"profile"})),L.step&&L.step>=lt.METHOD&&L.step<=lt.SETTINGS&&s(L.step),c(!0)}catch(L){console.error("Failed to load draft:",L)}v(!1)},[]),u.useEffect(()=>{if(!h){const T={step:n,formData:a};localStorage.setItem("resume-create-draft",JSON.stringify(T)),c(!0)}},[n,a,h]);const f=u.useCallback(T=>{i(L=>({...L,...T}))},[]),x=u.useCallback((T,L)=>{r(O=>({...O,[T]:L}))},[]),j=u.useCallback(T=>{r(T?L=>{const O={...L};return delete O[T],O}:{})},[]),_=u.useCallback(T=>{var L;switch(T){case lt.METHOD:return a.method!=="";case lt.TITLE:return(L=a.title)!=null&&L.trim()?a.title.trim().length<3?(x("title","Tn CV phi c t nht 3 k t"),!1):(j("title"),!0):(x("title","Tn CV l bt buc"),!1);case lt.TEMPLATE:return a.theme!=="";case lt.PREVIEW:return!0;case lt.ADDITIONAL_INFO:return!0;case lt.SETTINGS:return!0;default:return!0}},[a,x,j]),b=u.useCallback(()=>_(n)?(n<lt.SETTINGS&&s(T=>T+1),!0):!1,[n,_]),g=u.useCallback(()=>{n>lt.METHOD&&s(T=>T-1)},[n]),m=u.useCallback(T=>{T<=n+1&&s(T)},[n]),d=u.useCallback(()=>{localStorage.removeItem("resume-create-draft"),c(!1)},[]),p=u.useCallback(()=>(n-1)/(lt.SETTINGS-1)*100,[n]),y=n===lt.METHOD,S=n===lt.SETTINGS,w=u.useMemo(()=>{var T;switch(n){case lt.METHOD:return a.method!=="";case lt.TITLE:return((T=a.title)==null?void 0:T.trim())&&a.title.trim().length>=3;case lt.TEMPLATE:return a.theme!=="";case lt.PREVIEW:return!0;case lt.ADDITIONAL_INFO:return!0;case lt.SETTINGS:return!0;default:return!0}},[n,a.method,a.title,a.theme]),k=!y,C=lt.SETTINGS;return{currentStep:n,formData:a,validation:l,draftSaved:o,STEPS:lt,STEP_NAMES:z_,totalSteps:C,updateFormData:f,setValidationError:x,clearValidation:j,nextStep:b,prevStep:g,previousStep:g,goToStep:m,validateStep:_,clearDraft:d,getProgress:p,isFirstStep:y,isLastStep:S,canGoNext:w,canGoPrev:k}}function $_(){const e=He(),n=I_(),{currentStep:s,formData:a,updateFormData:i,nextStep:l,prevStep:r,previousStep:o,canGoNext:c,STEPS:h,STEP_NAMES:v,totalSteps:f}=n,[x,j]=u.useState(!1),[_,b]=u.useState(""),[g,m]=u.useState(!1),[d,p]=u.useState(null),[y,S]=u.useState(!1),[w,k]=u.useState(null),[C,T]=u.useState(""),L=u.useCallback(async()=>{var H,R,X,A,ie;S(!0);try{let te=null;try{te=await Ut.getProfileData()}catch(G){try{const q=await bt.get(),ee=(q==null?void 0:q.data)||q;ee&&(te={sections:{personal_info:{data:{full_name:ee.full_name,email:(H=ee.users)==null?void 0:H.email,phone:ee.phone_number,bio:ee.bio,location:ee.location_text,headline:ee.headline,linkedin_url:ee.linkedin_url,website:ee.personal_website,date_of_birth:ee.date_of_birth,location_id:ee.location_id,desired_job_title:ee.desired_job_title,years_of_experience:ee.years_of_experience,avatar_url:ee.avatar_url}},skills:{items:ee.skills||[]},experiences:{items:ee.experiences||[]},educations:{items:ee.educations||[]},certifications:{items:ee.certifications||[]},awards:{items:ee.awards||[]}},certifications:ee.certifications||[],awards:ee.awards||[]})}catch{throw G}}if(!te)throw new Error("Khng nhn c d liu t API");p(te),!((A=(X=(R=te.sections)==null?void 0:R.personal_info)==null?void 0:X.data)!=null&&A.avatar_url)&&te.avatar_url&&(te.sections.personal_info.data.avatar_url=te.avatar_url);const pe=ng(te);k(pe)}catch(te){console.error("Khng th ti profile data:",te);const pe=(te==null?void 0:te.message)||((ie=te==null?void 0:te.data)==null?void 0:ie.message)||"Khng th ti thng tin h s";k({percentage:0,isComplete:!1,missingItems:[pe],error:!0})}finally{S(!1)}},[]);u.useEffect(()=>{a.method==="profile"?L():(p(null),k(null))},[a.method,L]);const O=H=>H.trim()?H.trim().length<3?(T("Tn CV phi c t nht 3 k t"),!1):(T(""),!0):(T("Tn CV l bt buc"),!1),se=H=>{const R=H.target.value;i({title:R}),C&&O(R)},$=()=>{i({method:"profile"}),L()},z=()=>{if(!(s===h.TITLE&&!O(a.title))){if(s===h.METHOD&&a.method==="profile"&&w&&!w.isComplete){b("Vui lng hon thnh 100% h s trc khi tip tc. Chuyn v trang h s  cp nht."),e("/profile");return}b(""),l()}},re=async()=>{var H,R,X,A,ie,te,pe;if(O(a.title)){if(a.method==="profile"&&w&&!w.isComplete){b("Vui lng hon thnh 100% h s trc khi to CV. Chuyn v trang h s  cp nht."),e("/profile");return}j(!0),b("");try{const G=(d==null?void 0:d.sections)||{},ee={personal_info:{...((H=G.personal_info)==null?void 0:H.data)||{},avatar_url:(((R=G.personal_info)==null?void 0:R.data)||{}).avatar_url||(d==null?void 0:d.avatar_url)},skills:((X=G.skills)==null?void 0:X.items)||[],experiences:((A=G.experiences)==null?void 0:A.items)||[],educations:((ie=G.educations)==null?void 0:ie.items)||[],certifications:((te=G.certifications)==null?void 0:te.items)||[],awards:((pe=G.awards)==null?void 0:pe.items)||[],projects:a.projects||[],languages:a.languages||[],summary:a.summary||"",references:a.references||[],layout_settings:{theme:a.theme||"professional",sections_order:["personal_info","skills","experiences","educations","certifications","awards","projects","languages","references"]}};let be;be=await Ut.createResume({title:a.title.trim(),content:ee,is_default:a.isDefault,is_public:a.isPublic,status:"draft"}),localStorage.removeItem("resume-create-draft"),e(`/resumes/${be.id}`)}catch(G){b((G==null?void 0:G.message)||"Khng th to CV.")}finally{j(!1)}}},Y=()=>{var H,R,X,A,ie,te;switch(s){case h.METHOD:return t.jsxs("div",{className:"resume-wizard-step",children:[t.jsx("h2",{className:"resume-wizard-step__title",children:"To CV t h s"}),t.jsx("p",{className:"resume-wizard-step__description muted",children:"CV s c to da trn thng tin h s hin c ca bn"}),t.jsx("div",{className:"resume-wizard-methods",children:t.jsxs("button",{type:"button",className:"resume-wizard-method resume-wizard-method--selected",onClick:$,children:[t.jsx("div",{className:"resume-wizard-method__icon",children:t.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("h3",{className:"resume-wizard-method__title",children:"To t h s"}),t.jsx("p",{className:"resume-wizard-method__description muted small",children:"S dng thng tin t h s ca bn"}),a.method==="profile"&&y&&t.jsxs("div",{className:"resume-wizard-method__loading",children:[t.jsx("div",{className:"spinner",style:{width:"16px",height:"16px"}}),"ang ti..."]}),a.method==="profile"&&w&&t.jsx("div",{className:`resume-wizard-method__status ${w.isComplete?"resume-wizard-method__status--complete":"resume-wizard-method__status--incomplete"}`,children:w.isComplete?" Hon thnh":`${w.percentage}% hon thnh`})]})}),a.method==="profile"&&w&&!w.isComplete&&t.jsxs("div",{className:"resume-wizard-step__warning",children:[t.jsx(im,{profileData:d,completion:w}),t.jsxs("div",{className:"resume-wizard-step__warning-actions",children:[t.jsx("a",{href:"/profile",className:"btn primary",children:"Cp nht h s"}),t.jsx("button",{type:"button",className:"btn",onClick:()=>{b("Vui lng hon thnh 100% h s trc khi tip tc. Chuyn v trang h s  cp nht."),e("/profile")},children:"Quay li h s"})]})]}),a.method==="profile"&&w&&w.isComplete&&d&&t.jsx("div",{className:"resume-wizard-step__preview",children:t.jsx(im,{profileData:d,completion:w})})]});case h.TITLE:return t.jsxs("div",{className:"resume-wizard-step",children:[t.jsx("h2",{className:"resume-wizard-step__title",children:"t tn cho CV"}),t.jsx("p",{className:"resume-wizard-step__description muted",children:"t tn  d qun l v phn bit cc CV ca bn"}),t.jsx("div",{className:"resume-wizard-step__content",children:t.jsxs("div",{className:"resume-create-field",children:[t.jsxs("label",{className:"resume-create-field__label",children:["Tn CV ",t.jsx("span",{className:"required",children:"*"})]}),t.jsx("input",{type:"text",value:a.title,onChange:se,onBlur:()=>O(a.title),placeholder:a.method==="profile"&&((X=(R=(H=d==null?void 0:d.sections)==null?void 0:H.personal_info)==null?void 0:R.data)!=null&&X.full_name)?`CV ${d.sections.personal_info.data.full_name} - 2025`:"VD: CV Frontend Developer - 2025",className:`resume-create-field__input ${C?"resume-create-field__input--error":""}`,required:!0}),C&&t.jsx("span",{className:"resume-create-field__error",children:C}),a.method==="profile"&&((te=(ie=(A=d==null?void 0:d.sections)==null?void 0:A.personal_info)==null?void 0:ie.data)==null?void 0:te.full_name)&&t.jsxs("p",{className:"resume-create-field__hint muted small",children:["Gi : CV ",d.sections.personal_info.data.full_name," - ",new Date().getFullYear()]})]})})]});case h.TEMPLATE:return t.jsxs("div",{className:"resume-wizard-step",children:[t.jsx("h2",{className:"resume-wizard-step__title",children:"Chn template"}),t.jsx("p",{className:"resume-wizard-step__description muted",children:"Chn mt template ph hp vi phong cch ca bn"}),t.jsx("div",{className:"resume-wizard-step__content",children:t.jsx(rg,{selectedTheme:a.theme,onSelectTheme:pe=>i({theme:pe}),loading:g,showPreview:!0})})]});case h.PREVIEW:return t.jsxs("div",{className:"resume-wizard-step",children:[t.jsx("h2",{className:"resume-wizard-step__title",children:"Xem trc CV"}),t.jsx("p",{className:"resume-wizard-step__description muted",children:"Xem trc CV ca bn trc khi to"}),t.jsx("div",{className:"resume-wizard-step__content",children:a.method==="profile"&&d?t.jsx(Kr,{profileData:d,theme:a.theme||"professional",title:a.title,hideHeader:!0,additionalData:{projects:a.projects||[],languages:a.languages||[],summary:a.summary||"",references:a.references||[]}}):t.jsx("div",{className:"cv-preview cv-preview--empty",children:t.jsx("p",{className:"muted",children:"CV s c to vi template  chn. Bn c th chnh sa sau khi to."})})})]});case h.ADDITIONAL_INFO:return t.jsxs("div",{className:"resume-wizard-step",children:[t.jsx("h2",{className:"resume-wizard-step__title",children:"Thng tin b sung"}),t.jsx("p",{className:"resume-wizard-step__description muted",children:"Thm cc thng tin b sung cho CV ca bn (ty chn)"}),t.jsx("div",{className:"resume-wizard-step__content",children:t.jsxs("div",{className:"additional-info-grid",children:[t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"D n"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Thm cc d n ni bt ca bn"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(og,{projects:a.projects||[],onChange:pe=>i({projects:pe})})})]}),t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"Tm tt / Mc tiu"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Vit v bn thn v mc tiu ngh nghip"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(dg,{summary:a.summary||"",onChange:pe=>i({summary:pe})})})]}),t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"Ngn ng"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Thm cc ngn ng bn thnh tho"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(cg,{languages:a.languages||[],onChange:pe=>i({languages:pe})})})]}),t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"Ngi tham kho"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Thm thng tin ngi tham kho"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(ug,{references:a.references||[],onChange:pe=>i({references:pe})})})]})]})})]});case h.SETTINGS:return t.jsxs("div",{className:"resume-wizard-step",children:[t.jsx("h2",{className:"resume-wizard-step__title",children:"Ci t"}),t.jsx("p",{className:"resume-wizard-step__description muted",children:"Ty chn cu hnh cho CV"}),t.jsx("div",{className:"resume-wizard-step__content",children:t.jsxs("div",{className:"resume-create-checkboxes",children:[t.jsxs("label",{className:"resume-create-checkbox",children:[t.jsx("input",{type:"checkbox",checked:a.isDefault,onChange:pe=>i({isDefault:pe.target.checked})}),t.jsxs("div",{className:"resume-create-checkbox__content",children:[t.jsx("div",{className:"resume-create-checkbox__title",children:"t lm CV mc nh"}),t.jsx("div",{className:"resume-create-checkbox__description muted small",children:"CV ny s c s dng mc nh khi ng tuyn"})]})]}),t.jsxs("label",{className:"resume-create-checkbox",children:[t.jsx("input",{type:"checkbox",checked:a.isPublic,onChange:pe=>i({isPublic:pe.target.checked})}),t.jsxs("div",{className:"resume-create-checkbox__content",children:[t.jsx("div",{className:"resume-create-checkbox__title",children:"Cng khai CV"}),t.jsx("div",{className:"resume-create-checkbox__description muted small",children:"Cho php nh tuyn dng xem CV cng khai"})]})]})]})})]});default:return null}};return t.jsxs("section",{className:"section resume-create-page resume-wizard",children:[t.jsx("div",{className:"resume-create-hero",children:t.jsxs("div",{className:"resume-create-hero__content",children:[t.jsx("h1",{className:"resume-create-hero__title",children:"To CV mi"}),t.jsx("p",{className:"resume-create-hero__subtitle",children:"To CV chuyn nghip ch trong vi bc n gin"})]})}),t.jsxs("div",{className:"card resume-create-card",children:[t.jsx(A_,{currentStep:s,totalSteps:f,stepNames:v,onStepClick:H=>{H<=s&&n.goToStep(H)},completedSteps:Array.from({length:s-1},(H,R)=>R+1)}),_&&t.jsx("div",{className:"error-banner resume-create-banner",children:_}),t.jsx("div",{className:"resume-wizard-content",children:Y()}),t.jsxs("div",{className:"resume-wizard-navigation",children:[t.jsx("button",{type:"button",className:"btn",onClick:()=>s===h.METHOD?e("/resumes"):r(),children:s===h.METHOD?"Hy":"Quay li"}),t.jsx("div",{className:"resume-wizard-navigation__right",children:s<h.SETTINGS?t.jsxs("button",{type:"button",className:"btn primary",onClick:z,disabled:!c,children:["Tip theo",t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}):s===h.SETTINGS?t.jsx("button",{type:"button",className:"btn primary",onClick:re,disabled:x||!!C||a.method==="profile"&&w&&!w.isComplete,children:x?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:t.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"32",strokeDashoffset:"32",children:[t.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 32;16 16;0 32;0 32",repeatCount:"indefinite"}),t.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-16;-32;-32",repeatCount:"indefinite"})]})}),"ang to..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 13l4 4L19 7"})}),"To CV"]})}):null})]})]})]})}function F_(){const{id:e}=Gn(),n=He(),[s,a]=u.useState(null),[i,l]=u.useState(!0),[r,o]=u.useState(!1),[c,h]=u.useState(""),[v,f]=u.useState("content"),[x,j]=u.useState(!1),[_,b]=u.useState(""),[g,m]=u.useState(!1),d=u.useRef(null),[p,y]=u.useState(""),[S,w]=u.useState("default"),[k,C]=u.useState([]),[T,L]=u.useState([]),[O,se]=u.useState([]),[$,z]=u.useState(""),[re,Y]=u.useState([]),[H,R]=u.useState(!1),[X,A]=u.useState("draft");u.useEffect(()=>{e&&ie()},[e]);const ie=async()=>{var oe,E,J,Q,ue,Te,we,Pe;l(!0),h("");try{const ae=await Ut.getResumeById(e);a(ae),y(ae.title||""),w(((E=(oe=ae.content)==null?void 0:oe.layout_settings)==null?void 0:E.theme)||"default"),C(((Q=(J=ae.content)==null?void 0:J.layout_settings)==null?void 0:Q.sections_order)||[]),L(((ue=ae.content)==null?void 0:ue.projects)||[]),se(((Te=ae.content)==null?void 0:Te.languages)||[]),z(((we=ae.content)==null?void 0:we.summary)||""),Y(((Pe=ae.content)==null?void 0:Pe.references)||[]),R(ae.is_public||!1),A(ae.status||"draft")}catch(ae){h((ae==null?void 0:ae.message)||"Khng th ti CV.")}finally{l(!1)}},te=async()=>{var oe;o(!0),h(""),b("");try{if((s==null?void 0:s.source_type)==="uploaded")await Ut.updateResume(e,{title:p.trim(),is_public:H,status:X});else{const E={...s.content||{},layout_settings:{...((oe=s.content)==null?void 0:oe.layout_settings)||{},theme:S,sections_order:k},projects:T,languages:O,summary:$,references:re};await Ut.updateResume(e,{title:p.trim(),content:E,layout_settings:{theme:S,sections_order:k},is_public:H,status:X})}await ie(),b(" lu thnh cng!"),setTimeout(()=>b(""),3e3)}catch(E){h((E==null?void 0:E.message)||"Khng th lu CV.")}finally{o(!1)}},pe=async()=>{try{await Ut.setDefaultResume(e),await ie(),b(" t CV lm mc nh."),setTimeout(()=>b(""),3e3)}catch(oe){alert((oe==null?void 0:oe.message)||"Khng th t CV lm mc nh.")}},G=async()=>{if(window.confirm("Bn chc chn mun xa CV ny? Hnh ng ny khng th hon tc."))try{await Ut.deleteResume(e),n("/resumes")}catch(oe){alert((oe==null?void 0:oe.message)||"Khng th xa CV.")}},q=async()=>{s||await ie(),j(!0)},ee=()=>{const oe={sections:{personal_info:{data:{}},skills:{items:[]},experiences:{items:[]},educations:{items:[]},certifications:{items:[]},awards:{items:[]}}};if(!s||!s.content)return oe;const E=s.content;return E&&E.sections?{sections:{personal_info:E.sections.personal_info||oe.sections.personal_info,skills:E.sections.skills||oe.sections.skills,experiences:E.sections.experiences||oe.sections.experiences,educations:E.sections.educations||oe.sections.educations,certifications:E.sections.certifications||oe.sections.certifications,awards:E.sections.awards||oe.sections.awards}}:{sections:{personal_info:{data:E.personal_info||{}},skills:{items:Array.isArray(E.skills)?E.skills:[]},experiences:{items:Array.isArray(E.experiences)?E.experiences:[]},educations:{items:Array.isArray(E.educations)?E.educations:[]},certifications:{items:Array.isArray(E.certifications)?E.certifications:[]},awards:{items:Array.isArray(E.awards)?E.awards:[]}}}},be=()=>{if(!s)return{};const oe=s.content||{};return{projects:oe.projects||[],languages:oe.languages||[],summary:oe.summary||"",references:oe.references||[]}},Me=async(oe,E)=>{var we;if(!oe)return console.error(" getCompleteHTML: element is null"),null;console.log(" getCompleteHTML: element found",{className:oe.className,tagName:oe.tagName,innerHTMLLength:((we=oe.innerHTML)==null?void 0:we.length)||0});const J=oe.cloneNode(!0),Q=J.querySelectorAll("img");await Promise.all(Array.from(Q).map(async Pe=>{if(Pe.src&&!Pe.src.startsWith("data:"))try{const ae=await fetch(Pe.src,{mode:"cors",credentials:"include"});if(!ae.ok)throw new Error(`Failed to fetch image: ${ae.status}`);const Ee=await ae.blob(),Ie=await new Promise((it,Ke)=>{const Ye=new FileReader;Ye.onloadend=()=>it(Ye.result),Ye.onerror=Ke,Ye.readAsDataURL(Ee)});Pe.src=Ie}catch(ae){console.warn("Failed to convert image to base64:",ae,Pe.src)}}));let ue="";const Te=J.querySelectorAll("style");Te.forEach(Pe=>{ue+=Pe.textContent+`
`});try{const Pe=Array.from(document.styleSheets||[]);for(const ae of Pe)try{const Ee=ae.cssRules||ae.rules;if(!Ee)continue;for(const Ie of Array.from(Ee))Ie&&Ie.cssText&&(ue+=Ie.cssText+`
`)}catch{continue}}catch{}return Te.forEach(Pe=>Pe.remove()),`<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${E||"CV"}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 0;
      background: white;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    ${ue}
  </style>
</head>
<body>
  ${J.innerHTML}
</body>
</html>`},Je=async(oe="pdf")=>{var E,J;if(!g){m(!0);try{let Q=null;if(x||(console.log(" M preview  extract HTML..."),j(!0),await new Promise(ae=>setTimeout(ae,1e3))),await new Promise(ae=>setTimeout(ae,500)),d.current){console.log(" ang tm template element trong preview...");let ae=d.current.querySelector(".cv-template");if(ae||(console.log(" Khng tm thy .cv-template, th cc variant..."),ae=d.current.querySelector(".cv-template--professional")||d.current.querySelector(".cv-template--timeline")||d.current.querySelector(".cv-template--compact")),!ae){console.log(" Khng tm thy template variants, th tm trong preview content...");const Ee=d.current.querySelector(".cv-preview__content");Ee&&(ae=Ee.querySelector(".cv-template")||Ee.querySelector(".cv-template--professional")||Ee.querySelector(".cv-template--timeline")||Ee.querySelector(".cv-template--compact"))}ae||(console.warn(" Khng tm thy .cv-template, s dng ton b preview content"),ae=d.current.querySelector(".cv-preview__content")||d.current.querySelector(".cv-preview")||d.current),ae?(console.log(" Tm thy template element:",{className:ae.className,tagName:ae.tagName}),Q=await Me(ae,p),Q?console.log(" HTML extracted successfully, length:",Q.length):console.error(" HTML extraction failed")):console.error(" Khng tm thy template element trong preview")}else console.error(" previewRef.current is null");Q||(console.warn(" Khng ly c HTML t preview, backend s generate t template"),alert("Khng th ly HTML t preview. PDF s c to t template backend."));const Te={professional:"professional",timeline:"timeline",compact:"compact",default:"professional"}[S]||"professional",we=window.innerWidth||1200;console.log(" Gi request export vi:",{hasHtml:!!Q,htmlLength:(Q==null?void 0:Q.length)||0,template:Te,format:oe,viewportWidth:we});const Pe=await Ut.exportResume(e,{template:Te,format:oe,html:Q,viewportWidth:we});if(oe==="html"){const ae=new Blob([Pe.content||Q||""],{type:"text/html"}),Ee=URL.createObjectURL(ae),Ie=document.createElement("a");Ie.href=Ee,Ie.download=`${p||"resume"}.html`,Ie.click(),URL.revokeObjectURL(Ee),b(" xut file HTML thnh cng!"),setTimeout(()=>b(""),3e3)}else if(Pe.url||(E=Pe.data)!=null&&E.url){const ae=Pe.url||((J=Pe.data)==null?void 0:J.url);try{const Ee=await fetch(ae,{mode:"cors",credentials:"omit"});if(!Ee.ok)throw new Error(`HTTP ${Ee.status}: ${Ee.statusText}`);const Ie=await Ee.blob(),it=URL.createObjectURL(Ie),Ke=document.createElement("a");Ke.href=it,Ke.download=`${p||"resume"}.pdf`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),setTimeout(()=>URL.revokeObjectURL(it),100),b(" xut file PDF thnh cng!"),setTimeout(()=>b(""),3e3)}catch(Ee){console.error("Download error:",Ee),window.open(ae,"_blank"),b(" m PDF trong tab mi!"),setTimeout(()=>b(""),3e3)}}else alert(" to file PDF. Vui lng kim tra email hoc ti xung t link.")}catch(Q){console.error("Export error:",Q),alert((Q==null?void 0:Q.message)||"Khng th export CV. Vui lng th li."),h((Q==null?void 0:Q.message)||"Khng th export CV.")}finally{m(!1)}}},Re=async()=>{try{const{url:oe,filename:E}=await Ut.downloadResumeFile(e),J=document.createElement("a");J.href=oe,J.download=E||`${p||"resume"}.pdf`,J.target="_blank",document.body.appendChild(J),J.click(),document.body.removeChild(J)}catch(oe){console.error("Download error:",oe),alert((oe==null?void 0:oe.message)||"Khng th ti file CV.")}};if(i)return t.jsx("section",{className:"section",children:t.jsx("div",{className:"card",children:t.jsxs("div",{className:"muted",style:{textAlign:"center",padding:"40px"},children:[t.jsx("div",{className:"spinner",style:{margin:"0 auto 16px",width:"32px",height:"32px"}}),"ang ti CV..."]})})});if(c&&!s)return t.jsx("section",{className:"section",children:t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"error-banner",children:c}),t.jsx("button",{className:"btn",onClick:()=>n("/resumes"),children:"Quay li danh sch"})]})});const Be=(s==null?void 0:s.source_type)==="uploaded"&&!!(s!=null&&s.file_url);return t.jsxs("section",{className:"section resume-detail-page",children:[t.jsx("div",{className:"resume-detail-header",children:t.jsxs("div",{className:"resume-detail-header__content",children:[t.jsxs("div",{className:"resume-detail-header__left",children:[t.jsxs(We,{to:"/resumes",className:"resume-detail-header__back",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Quay li"]}),t.jsxs("div",{className:"resume-detail-header__title-group",children:[t.jsx("h1",{className:"resume-detail-header__title",children:(s==null?void 0:s.title)||"CV"}),t.jsxs("div",{className:"resume-detail-header__badges",children:[(s==null?void 0:s.is_default)&&t.jsx("span",{className:"resume-detail-header__badge resume-detail-header__badge--default",children:"Mc nh"}),(s==null?void 0:s.is_public)&&t.jsx("span",{className:"resume-detail-header__badge resume-detail-header__badge--public",children:"Cng khai"}),t.jsx(lg,{status:s==null?void 0:s.status})]})]})]}),t.jsxs("div",{className:"resume-detail-header__actions",children:[t.jsx("button",{className:"btn btn--icon",onClick:q,title:"Preview CV",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),!Be&&t.jsx("button",{className:`btn btn--icon ${g?"btn--loading":""}`,onClick:()=>Je("pdf"),disabled:g,title:g?"ang xut PDF...":"Xut PDF",children:g?t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{animation:"spin 1s linear infinite"},children:t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeDasharray:"60",strokeDashoffset:"30"})}):t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),(s==null?void 0:s.file_url)&&t.jsx("button",{className:"btn btn--icon",onClick:Re,title:"Download file",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),!(s!=null&&s.is_default)&&t.jsx("button",{className:"btn btn--icon",onClick:pe,title:"t lm mc nh",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),t.jsx("button",{className:"btn btn--icon btn--danger",onClick:G,title:"Xa CV",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})}),_&&t.jsx("div",{className:"save-indicator",children:_}),t.jsxs("div",{className:"card resume-detail-card",children:[c&&t.jsx("div",{className:"error-banner resume-detail-banner",children:c}),t.jsxs("div",{className:"resume-detail-tabs",children:[t.jsxs("button",{type:"button",className:`resume-detail-tab ${v==="content"?"active":""}`,onClick:()=>f("content"),children:[t.jsx("span",{className:"resume-detail-tab__label",children:"Ni dung"}),v==="content"&&t.jsx("div",{className:"resume-detail-tab__indicator"})]}),t.jsxs("button",{type:"button",className:`resume-detail-tab ${v==="settings"?"active":""}`,onClick:()=>f("settings"),children:[t.jsx("span",{className:"resume-detail-tab__label",children:"Ci t"}),v==="settings"&&t.jsx("div",{className:"resume-detail-tab__indicator"})]})]}),v==="content"&&t.jsxs("div",{className:"resume-detail-content",children:[t.jsxs("div",{className:"resume-detail-section",children:[t.jsx("div",{className:"resume-detail-section__header",children:t.jsxs("div",{children:[t.jsx("h3",{className:"resume-detail-section__title",children:"Thng tin c bn"}),t.jsx("p",{className:"resume-detail-section__description muted small",children:"Tn CV v cc thng tin c bn"})]})}),t.jsx("div",{className:"resume-detail-section__body",children:t.jsxs("div",{className:"resume-create-field",children:[t.jsxs("label",{className:"resume-create-field__label",children:["Tn CV ",t.jsx("span",{className:"required",children:"*"})]}),t.jsx("input",{type:"text",value:p,onChange:oe=>y(oe.target.value),className:"resume-create-field__input",required:!0})]})})]}),Be?t.jsx("div",{className:"resume-detail-section",children:t.jsx("div",{className:"resume-detail-section__header",children:t.jsxs("div",{children:[t.jsx("h3",{className:"resume-detail-section__title",children:"CV dng file PDF"}),t.jsx("p",{className:"resume-detail-section__description muted small",children:"CV ny c ti ln t file. Bn ch c th i tn v ci t hin th. Nu mun chnh sa ni dung, hy to CV mi t h s."})]})})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"resume-detail-section",children:[t.jsx("div",{className:"resume-detail-section__header",children:t.jsxs("div",{children:[t.jsx("h3",{className:"resume-detail-section__title",children:"Template"}),t.jsx("p",{className:"resume-detail-section__description muted small",children:"Chn template cho CV ca bn"})]})}),t.jsx("div",{className:"resume-detail-section__body",children:t.jsx(rg,{selectedTheme:S,onSelectTheme:w})})]}),t.jsxs("div",{className:"additional-info-grid",children:[t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"D n"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Thm cc d n ni bt vo CV"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(og,{projects:T,onChange:L})})]}),t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"Tm tt / Mc tiu"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Vit v bn thn v mc tiu ngh nghip"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(dg,{summary:$,onChange:z})})]}),t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"Ngn ng"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Thm cc ngn ng bn thnh tho"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(cg,{languages:O,onChange:se})})]}),t.jsxs("div",{className:"additional-info-card",children:[t.jsxs("div",{className:"additional-info-card__header",children:[t.jsx("div",{className:"additional-info-card__icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),t.jsxs("div",{className:"additional-info-card__title-group",children:[t.jsx("h3",{className:"additional-info-card__title",children:"Ngi tham kho"}),t.jsx("p",{className:"additional-info-card__subtitle muted small",children:"Thm thng tin ngi tham kho"})]})]}),t.jsx("div",{className:"additional-info-card__body",children:t.jsx(ug,{references:re,onChange:Y})})]})]})]}),t.jsxs("div",{className:"resume-detail-form__actions",children:[t.jsx("button",{type:"button",className:"btn",onClick:()=>n("/resumes"),children:"Hy"}),t.jsx("button",{type:"button",className:"btn primary",onClick:te,disabled:r,children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"spinner",style:{width:"16px",height:"16px"}}),"ang lu..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Lu thay i"]})})]})]}),v==="settings"&&t.jsxs("div",{className:"resume-detail-content",children:[t.jsxs("div",{className:"resume-detail-section",children:[t.jsx("div",{className:"resume-detail-section__header",children:t.jsxs("div",{children:[t.jsx("h3",{className:"resume-detail-section__title",children:"Ci t CV"}),t.jsx("p",{className:"resume-detail-section__description muted small",children:"Qun l trng thi v quyn ring t"})]})}),t.jsx("div",{className:"resume-detail-section__body",children:t.jsxs("div",{className:"resume-detail-settings",children:[t.jsxs("label",{className:"resume-detail-checkbox",children:[t.jsx("input",{type:"checkbox",checked:H,onChange:oe=>R(oe.target.checked)}),t.jsxs("div",{className:"resume-detail-checkbox__content",children:[t.jsx("div",{className:"resume-detail-checkbox__title",children:"Cng khai CV"}),t.jsx("div",{className:"resume-detail-checkbox__description muted small",children:"Cho php nh tuyn dng xem CV cng khai"})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Trng thi"}),t.jsxs("select",{value:X,onChange:oe=>A(oe.target.value),children:[t.jsx("option",{value:"draft",children:"Nhp"}),t.jsx("option",{value:"active",children:"Hot ng"}),t.jsx("option",{value:"archived",children:"Lu tr"})]})]})]})})]}),t.jsxs("div",{className:"resume-detail-form__actions",children:[t.jsx("button",{type:"button",className:"btn",onClick:()=>n("/resumes"),children:"Hy"}),t.jsx("button",{type:"button",className:"btn primary",onClick:te,disabled:r,children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"spinner",style:{width:"16px",height:"16px"}}),"ang lu..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Lu thay i"]})})]})]})]}),t.jsx(Rn,{open:x,onClose:()=>j(!1),noWrapper:!0,children:t.jsxs("div",{className:"resume-preview-modal",children:[t.jsxs("div",{className:"resume-preview-modal__header",children:[t.jsx("h3",{style:{margin:0},children:"Preview CV"}),t.jsxs("div",{className:"resume-preview-modal__actions",children:[!Be&&t.jsx("button",{className:`btn btn--icon ${g?"btn--loading":""}`,onClick:()=>Je("pdf"),disabled:g,title:g?"ang xut PDF...":"Xut PDF",children:g?t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeDasharray:"60",strokeDashoffset:"30"})}):t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("button",{className:"btn btn--icon",onClick:()=>j(!1),children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"resume-preview-modal__body",children:s?Be&&s.file_url?t.jsx("iframe",{src:s.file_url,title:s.title||"CV",style:{width:"100%",height:"80vh",border:"none",borderRadius:"12px"}}):(()=>{var Q,ue;const oe=ee(),E=be(),J=S||((ue=(Q=s.content)==null?void 0:Q.layout_settings)==null?void 0:ue.theme)||"professional";return!oe||!oe.sections?t.jsx("div",{className:"resume-preview-loading",children:t.jsx("p",{className:"muted",children:"Khng c d liu  preview"})}):t.jsx(Kr,{ref:d,profileData:oe,theme:J,title:p||s.title,onClose:()=>j(!1),hideHeader:!0,additionalData:E})})():t.jsxs("div",{className:"resume-preview-loading",children:[t.jsx("div",{className:"spinner",style:{width:"48px",height:"48px",margin:"0 auto 16px"}}),t.jsx("p",{className:"muted",children:"ang ti d liu..."})]})})]})})]})}const Cl=20,Ro=[{value:"saved_at",label:"Lu gn y",sort_by:"saved_at",order:"desc"},{value:"saved_oldest",label:"Lu lu nht",sort_by:"saved_at",order:"asc"},{value:"salaryHigh",label:"Lng cao nht",sort_by:"salary",order:"desc"},{value:"salaryLow",label:"Lng thp nht",sort_by:"salary",order:"asc"},{value:"newest",label:"Mi ng nht",sort_by:"created_at",order:"desc"}],V_=[{value:"full_time",label:"Ton thi gian"},{value:"part_time",label:"Bn thi gian"},{value:"contract",label:"Hp ng"}];function B_(){const e=He(),n=Mn(),[s,a]=u.useState([]),[i,l]=u.useState(""),[r,o]=u.useState(""),[c,h]=u.useState("saved_at"),[v,f]=u.useState(""),[x,j]=u.useState(""),[_,b]=u.useState(1),[g,m]=u.useState({page:1,limit:Cl,total:0,total_pages:1}),[d,p]=u.useState(!1),[y,S]=u.useState(""),w=u.useRef(null);u.useEffect(()=>{n!=="seeker"&&e("/login?role=seeker&redirect=/saved-jobs",{replace:!0})},[n,e]),u.useEffect(()=>(w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{o(i),b(1)},500),()=>{w.current&&clearTimeout(w.current)}),[i]);const k=u.useCallback(async()=>{var T;if(n==="seeker"){p(!0),S("");try{const L=Ro.find(H=>H.value===c)||Ro[0],O=parseInt(String(_),10)||1,se=parseInt(String(Cl),10)||20,$={page:O,limit:se,search:r.trim()||void 0,location_id:v||void 0,job_type:x||void 0,sort_by:L.sort_by,order:L.order};Object.keys($).forEach(H=>{($[H]===void 0||$[H]===null||$[H]==="")&&delete $[H]});const z=await ki.list($),Y=(Array.isArray(z==null?void 0:z.data)?z.data:[]).map(H=>{const R=H.job||H;return Ud(R)});a(Y),m((z==null?void 0:z.pagination)||{page:1,limit:Cl,total:0,total_pages:1}),S("")}catch(L){console.error("Error fetching saved jobs:",L);const O=(L==null?void 0:L.message)||((T=L==null?void 0:L.data)==null?void 0:T.message)||"Khng th ti vic lm  lu. Vui lng th li.";S(O),a([]),m({page:1,limit:Cl,total:0,total_pages:1})}finally{p(!1)}}},[_,r,c,v,x,n]);u.useEffect(()=>{n==="seeker"&&k()},[k,n]),u.useEffect(()=>{_!==1&&b(1)},[r,c,v,x]);const C=async T=>{try{await ki.unsave(T),a(L=>L.filter(O=>O.id!==T)),m(L=>({...L,total:Math.max(0,L.total-1)}))}catch(L){alert((L==null?void 0:L.message)||"Khng th b lu vic lm. Vui lng th li.")}};return n!=="seeker"?null:t.jsx("div",{className:"jobs-page",children:t.jsxs("div",{className:"jobs-container",children:[t.jsxs("header",{className:"jobs-page__header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:"Vic lm  lu"}),t.jsx("p",{className:"subtitle",children:"Qun l cc vic lm bn  lu"})]}),t.jsxs("div",{className:"jobs-page__controls",children:[t.jsx("input",{type:"text",placeholder:"Tm theo v tr hoc cng ty",value:i,onChange:T=>l(T.target.value)}),t.jsx("select",{value:c,onChange:T=>h(T.target.value),children:Ro.map(T=>t.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),t.jsxs("div",{className:"jobs-page__layout",children:[t.jsx("aside",{className:"jobs-page__sidebar",children:t.jsxs("div",{className:"section-card",children:[t.jsx("h3",{children:"B lc"}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Loi cng vic"}),t.jsxs("select",{value:x,onChange:T=>{j(T.target.value),b(1)},children:[t.jsx("option",{value:"",children:"Tt c"}),V_.map(T=>t.jsx("option",{value:T.value,children:T.label},T.value))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"a im"}),t.jsx("input",{type:"text",placeholder:"Nhp a im...",value:v,onChange:T=>{f(T.target.value),b(1)}}),t.jsx("small",{className:"muted",children:"Tnh nng tm kim a im s c cp nht sau"})]})]})}),t.jsx("main",{className:"jobs-page__content",children:s.length===0&&!d&&!y?t.jsxs("div",{className:"state-card empty",children:[t.jsx("h3",{children:"Cha c vic lm no c lu"}),t.jsx("p",{children:"Hy lu cc vic lm bn quan tm  xem li sau."}),t.jsx("button",{className:"btn primary",onClick:()=>e("/jobs"),children:"Khm ph vic lm"})]}):t.jsx(Zf,{jobs:s,totalPages:g.total_pages||1,currentPage:_,onPageChange:b,isLoading:d,error:y,onRetry:k,showPagination:g.total_pages>1,JobCardComponent:({job:T,...L})=>t.jsxs("div",{style:{position:"relative"},children:[t.jsx(Hr,{job:T,...L}),t.jsx("button",{className:"btn ghost small",style:{position:"absolute",top:8,right:8,zIndex:10},onClick:()=>C(T.id),title:"B lu",children:""})]})})})]})]})})}const lm={pending:"ang ch",reviewed:" xem",accepted:"Chp nhn",rejected:"T chi",withdrawn:" rt"},O_={pending:"status-pill",reviewed:"status-pill info",accepted:"status-pill success",rejected:"status-pill danger",withdrawn:"status-pill"},Ao=[{value:"applied_at_desc",label:"Mi nht",sort_by:"applied_at",order:"desc"},{value:"applied_at_asc",label:"C nht",sort_by:"applied_at",order:"asc"},{value:"status",label:"Trng thi",sort_by:"status",order:"asc"}];function U_(e){if(!e)return"--";const n=new Date(e);return Number.isNaN(n.getTime())?"--":n.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}function H_(){const e=He(),[n,s]=u.useState([]),[a,i]=u.useState(!0),[l,r]=u.useState(""),[o,c]=u.useState(""),[h,v]=u.useState("applied_at_desc"),[f,x]=u.useState(1),[j,_]=u.useState({page:1,limit:20,total:0,total_pages:1}),b=u.useCallback(async()=>{var m,d;i(!0),r("");try{const p=Ao.find(k=>k.value===h)||Ao[0],y=await ot.listMine({page:f,limit:20,status:o||void 0,sort_by:p.sort_by,order:p.order}),S=Array.isArray(y==null?void 0:y.data)?y.data:((m=y==null?void 0:y.data)==null?void 0:m.data)||y||[],w=(y==null?void 0:y.pagination)||((d=y==null?void 0:y.data)==null?void 0:d.pagination)||{page:1,limit:20,total:S.length,total_pages:1};s(S),_(w)}catch(p){r((p==null?void 0:p.message)||"Khng th ti danh sch n ng tuyn."),s([]),_({page:1,limit:20,total:0,total_pages:1})}finally{i(!1)}},[f,h,o]);u.useEffect(()=>{b()},[b]);const g=m=>{e(`/applications/${m}`)};return t.jsxs("div",{className:"applications-page",children:[t.jsxs("div",{className:"applications-header simple",children:[t.jsxs("div",{children:[t.jsx("h1",{children:"n ng tuyn"}),t.jsx("p",{className:"muted",children:"Theo di trng thi cc n bn  np"})]}),t.jsxs("div",{className:"applications-controls",children:[t.jsxs("select",{value:o,onChange:m=>{c(m.target.value),x(1)},children:[t.jsx("option",{value:"",children:"Tt c trng thi"}),Object.entries(lm).map(([m,d])=>t.jsx("option",{value:m,children:d},m))]}),t.jsx("select",{value:h,onChange:m=>{v(m.target.value),x(1)},children:Ao.map(m=>t.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),a&&t.jsx("div",{className:"state-card",children:"ang ti..."}),l&&t.jsxs("div",{className:"state-card error",children:[t.jsx("p",{children:l}),t.jsx("button",{className:"btn",onClick:b,children:"Th li"})]}),!a&&!l&&n.length===0&&t.jsxs("div",{className:"state-card empty",children:[t.jsx("h3",{children:"Cha c n ng tuyn"}),t.jsx("p",{children:"Hy ng tuyn mt cng vic  bt u theo di."}),t.jsx("button",{className:"btn primary",onClick:()=>e("/jobs"),children:"Tm vic ngay"})]}),!a&&!l&&n.length>0&&t.jsx("div",{className:"applications-grid",children:n.map(m=>{var d,p,y,S,w,k,C;return t.jsxs("div",{className:"application-card",children:[t.jsxs("div",{className:"application-card__top",children:[t.jsxs("div",{children:[t.jsx("div",{className:"application-job",children:((d=m.jobs)==null?void 0:d.title)||((p=m.job)==null?void 0:p.title)||"Tin tuyn dng"}),t.jsx("div",{className:"muted small",children:((S=(y=m.jobs)==null?void 0:y.companies)==null?void 0:S.name)||((k=(w=m.jobs)==null?void 0:w.company)==null?void 0:k.name)||m.company_name||"Nh tuyn dng"})]}),t.jsx("span",{className:O_[m.status]||"status-pill",children:lm[m.status]||m.status||"N/A"})]}),t.jsxs("div",{className:"application-card__meta",children:[t.jsxs("div",{children:[t.jsx("span",{className:"muted small",children:"Ngy np"}),t.jsx("div",{children:U_(m.applied_at)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted small",children:"Stage hin ti"}),t.jsx("div",{children:((C=m.current_stage)==null?void 0:C.stage_name)||"--"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted small",children:"CV"}),t.jsx("div",{children:m.resume_id?" nh km":"Cha c"})]})]}),t.jsx("div",{className:"application-card__actions",children:t.jsx("button",{className:"btn ghost",onClick:()=>g(m.id),children:"Xem chi tit"})})]},m.id)})}),!a&&!l&&j.total_pages>1&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{className:"btn",disabled:f===1,onClick:()=>x(m=>Math.max(1,m-1)),children:"Trc"}),t.jsxs("span",{className:"muted",children:["Trang ",f," / ",j.total_pages]}),t.jsx("button",{className:"btn",disabled:f>=j.total_pages,onClick:()=>x(m=>Math.min(j.total_pages,m+1)),children:"Sau"})]})]})}const K_={pending:"ang ch",reviewed:" xem",accepted:"Chp nhn",rejected:"T chi",withdrawn:" rt"};function zo(e){if(!e)return"--";const n=new Date(e);return Number.isNaN(n.getTime())?"--":n.toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function W_(){var w,k;const{id:e}=Gn(),n=He(),[s,a]=u.useState(null),[i,l]=u.useState([]),[r,o]=u.useState([]),[c,h]=u.useState(!0),[v,f]=u.useState(""),[x,j]=u.useState(!1),[_,b]=u.useState(!1),[g,m]=u.useState(""),d=async()=>{if(e){h(!0),f("");try{const C=await ot.getDetail(e),T=(C==null?void 0:C.data)||C;a(T);const L=await ot.getStages(e);l((L==null?void 0:L.data)||L||[]);const O=await ot.getDocuments(e);o((O==null?void 0:O.data)||O||[])}catch(C){f((C==null?void 0:C.message)||"Khng th ti thng tin n ng tuyn.")}finally{h(!1)}}};u.useEffect(()=>{d()},[e]);const p=async()=>{if(window.confirm("Bn chc chn mun rt n ny?")){b(!0);try{await ot.withdraw(e),alert(" rt n thnh cng."),n("/applications")}catch(C){alert((C==null?void 0:C.message)||"Khng th rt n. Vui lng th li.")}finally{b(!1)}}},y=async C=>{var L;const T=(L=C.target.files)==null?void 0:L[0];if(T){j(!0);try{await ot.uploadDocument(e,T,g||void 0),await d()}catch(O){alert((O==null?void 0:O.message)||"Ti ti liu tht bi.")}finally{j(!1),C.target.value=""}}};if(c)return t.jsx("div",{className:"state-card",children:"ang ti..."});if(v||!s)return t.jsxs("div",{className:"state-card error",children:[t.jsx("p",{children:v||"Khng tm thy n ng tuyn."}),t.jsx("button",{className:"btn",onClick:()=>n("/applications"),children:"Quay li"})]});const S=s.jobs||s.job||{};return t.jsxs("div",{className:"my-application-detail",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("div",{children:[t.jsx("button",{className:"btn ghost small",onClick:()=>n(-1),children:" Quay li"}),t.jsx("h1",{children:S.title||"Tin tuyn dng"}),t.jsx("p",{className:"muted",children:((w=S.companies)==null?void 0:w.name)||((k=S.company)==null?void 0:k.name)||"Nh tuyn dng"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsx("span",{className:"status-pill large",children:K_[s.status]||s.status}),s.status!=="withdrawn"&&t.jsx("button",{className:"btn danger",onClick:p,disabled:_,children:_?"ang rt...":"Rt n"})]})]}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-card",children:[t.jsx("h3",{children:"Thng tin n"}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"muted",children:"Ngy np"}),t.jsx("span",{children:zo(s.applied_at)})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"muted",children:"V tr"}),t.jsx("span",{children:S.title||"--"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"muted",children:"Stage hin ti"}),t.jsx("span",{children:(()=>{var C;if((C=s.current_stage)!=null&&C.stage_name)return s.current_stage.stage_name;if(i&&i.length>0){const T=i.find($=>$.status==="in_progress");if(T)return T.stage_name;const L=i.find($=>$.status==="pending");if(L)return L.stage_name;const O=i.find($=>$.status==="scheduled");if(O)return O.stage_name;const se=[...i].sort(($,z)=>($.stage_order||0)-(z.stage_order||0));if(se.length>0)return se[0].stage_name}return"--"})()})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"muted",children:"CV"}),t.jsx("span",{children:s.resume_id?" nh km":"Cha c"})]})]}),t.jsxs("div",{className:"detail-card",children:[t.jsx("h3",{children:"Quy trnh tuyn dng"}),t.jsxs("div",{className:"stages-list",children:[i.length===0&&t.jsx("p",{className:"muted",children:"Cha c stage no."}),i.map(C=>t.jsxs("div",{className:"stage-item",children:[t.jsxs("div",{children:[t.jsx("div",{className:"stage-title",children:C.stage_name}),t.jsx("div",{className:"muted small",children:C.status||"pending"})]}),t.jsx("div",{className:"muted small",children:C.completed_at?zo(C.completed_at):""})]},C.id))]})]}),t.jsxs("div",{className:"detail-card",children:[t.jsx("h3",{children:"Ti liu b sung"}),t.jsxs("div",{className:"upload-row",children:[t.jsx("input",{type:"text",placeholder:"Loi ti liu (VD: Portfolio)",value:g,onChange:C=>m(C.target.value)}),t.jsxs("label",{className:"btn primary",children:[x?"ang ti...":"Ti ln",t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:y,hidden:!0,disabled:x})]})]}),t.jsxs("div",{className:"documents-list",children:[r.length===0&&t.jsx("p",{className:"muted",children:"Cha c ti liu."}),r.map(C=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{children:[t.jsx("div",{className:"doc-name",children:C.document_type||"Ti liu"}),t.jsx("div",{className:"muted small",children:zo(C.created_at)})]}),C.file_url&&t.jsx("a",{className:"btn ghost small",href:C.file_url,target:"_blank",rel:"noreferrer",children:"Xem"})]},C.id))]})]})]})]})}const rm=[{value:"full_time",label:"Ton thi gian"},{value:"part_time",label:"Bn thi gian"},{value:"contract",label:"Hp ng"}],q_={draft:"Nhp",approved:" duyt",closed:" ng"};function J_(e){if(!e)return"";try{return new Date(e).toISOString().slice(0,16)}catch{return""}}function om(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"--"}}function Q_(){var R,X,A,ie,te,pe;const{id:e}=Gn(),n=He(),[s,a]=u.useState(null),[i,l]=u.useState(null),[r,o]=u.useState(null),[c,h]=u.useState(!0),[v,f]=u.useState(null),[x,j]=u.useState(!1),[_,b]=u.useState(!1),[g,m]=u.useState("info"),[d,p]=u.useState(!1),[y,S]=u.useState(!1),[w,k]=u.useState(null),[C,T]=u.useState({title:"",description:"",company_id:"",location_id:"",salary_min:"",salary_max:"",currency:"VND",job_type:"full_time",experience_level:"",expires_at:""});u.useEffect(()=>{e&&(async()=>{var q,ee,be;h(!0),f(null);try{const Me=await gt.getMyCompany();o(Me);const Je=await Tt.getManage(e),Re=(Je==null?void 0:Je.data)||Je;a(Re),T({title:Re.title||"",description:Re.description||"",company_id:Re.company_id||(Me==null?void 0:Me.id)||"",location_id:Re.location_id||"",salary_min:((q=Re.salary_range)==null?void 0:q.min)||"",salary_max:((ee=Re.salary_range)==null?void 0:ee.max)||"",currency:((be=Re.salary_range)==null?void 0:be.currency)||"VND",job_type:Re.job_type||"full_time",experience_level:Re.experience_level||"",expires_at:J_(Re.expires_at)});try{const Be=await Tt.getStats(e);l((Be==null?void 0:Be.data)||Be)}catch(Be){console.warn("Failed to fetch stats:",Be)}}catch(Me){console.error("Failed to fetch job:",Me),f((Me==null?void 0:Me.message)||"Khng th ti thng tin vic lm. Vui lng th li."),(Me==null?void 0:Me.status)===401?n("/login?role=recruiter&redirect="+encodeURIComponent(window.location.pathname)):(Me==null?void 0:Me.status)===404&&f("Khng tm thy vic lm ny.")}finally{h(!1)}})()},[e,n]);const L=G=>{const{name:q,value:ee}=G.target;T(be=>({...be,[q]:ee}))},O=async()=>{if(!C.title||C.title.length<10){alert("Tiu  phi c t nht 10 k t.");return}if(!C.description||C.description.length<50){alert("M t phi c t nht 50 k t.");return}if(!C.company_id){alert("Vui lng chn cng ty.");return}b(!0);try{const G={title:C.title.trim(),description:C.description.trim(),company_id:C.company_id,location_id:C.location_id||null,salary_range:{min:C.salary_min?parseInt(C.salary_min,10):void 0,max:C.salary_max?parseInt(C.salary_max,10):void 0,currency:C.currency||"VND"},job_type:C.job_type,experience_level:C.experience_level?parseInt(C.experience_level,10):null,expires_at:C.expires_at?new Date(C.expires_at).toISOString():void 0};await Tt.update(e,G),alert(" cp nht tin tuyn dng thnh cng."),j(!1);const q=await Tt.getManage(e),ee=(q==null?void 0:q.data)||q;a(ee)}catch(G){alert((G==null?void 0:G.message)||"Khng th cp nht tin tuyn dng. Vui lng th li.")}finally{b(!1)}},se=async()=>{try{await Tt.delete(e),n("/recruiter/jobs")}catch(G){alert((G==null?void 0:G.message)||"Khng th xa tin tuyn dng. Vui lng th li.")}},$=async G=>{try{await Tt.updateStatus(e,G);const q=await Tt.getManage(e),ee=(q==null?void 0:q.data)||q;a(ee),S(!1),k(null)}catch(q){alert((q==null?void 0:q.message)||"Khng th thay i trng thi. Vui lng th li."),S(!1),k(null)}},z=G=>{k(G),S(!0)},re=()=>{w&&$(w)};if(c)return t.jsx("div",{className:"section",children:t.jsx("div",{className:"card",style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"ang ti..."})})});if(v)return t.jsx("div",{className:"section",children:t.jsxs("div",{className:"card",style:{padding:"20px",background:"#fee",border:"1px solid #fcc"},children:[t.jsx("p",{style:{color:"#c00",margin:0},children:v}),t.jsx("button",{className:"btn",onClick:()=>n("/recruiter/jobs"),style:{marginTop:"12px"},children:"Quay li danh sch"})]})});if(!s)return t.jsx("div",{className:"section",children:t.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center"},children:[t.jsx("p",{children:"Khng tm thy vic lm ny."}),t.jsx("button",{className:"btn",onClick:()=>n("/recruiter/jobs"),style:{marginTop:"12px"},children:"Quay li danh sch"})]})});const Y=s.status||"draft",H=q_[Y]||Y;return t.jsxs("div",{className:"section job-manage-page",children:[t.jsxs("div",{className:"job-manage-header",children:[t.jsxs("div",{className:"job-manage-header-left",children:[t.jsx(me,{variant:"ghost",onClick:()=>n("/recruiter/jobs"),size:"small",icon:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),children:"Quay li"}),t.jsx("h1",{className:"job-manage-title",children:s.title||"Cha c tiu "}),t.jsxs("div",{className:"job-manage-meta",children:[t.jsx($t,{variant:Y==="approved"?"success":Y==="closed"?"danger":"default",icon:Y==="approved"?"":Y==="closed"?"":"",children:H}),t.jsxs("span",{className:"job-manage-date",children:["To: ",om(s.created_at)]})]})]}),t.jsxs("div",{className:"job-manage-actions",children:[!x&&t.jsxs(t.Fragment,{children:[t.jsx(me,{variant:"default",onClick:()=>j(!0),icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),children:"Chnh sa"}),Y==="approved"&&t.jsx(me,{variant:"outline",onClick:()=>z("closed"),icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),children:"ng tin"}),Y==="closed"&&t.jsx(me,{variant:"outline",onClick:()=>z("approved"),icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),children:"M li tin"}),t.jsx(me,{variant:"ghost",onClick:()=>p(!0),icon:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),children:"Xa"})]}),x&&t.jsxs(t.Fragment,{children:[t.jsx(me,{variant:"ghost",onClick:()=>{j(!1),T({...C})},children:"Hy"}),t.jsx(me,{variant:"primary",onClick:O,disabled:_,loading:_,children:"Lu thay i"})]})]})]}),t.jsxs("div",{className:"job-manage-tabs",children:[t.jsxs("button",{className:g==="info"?"tab active":"tab",onClick:()=>m("info"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Thng tin c bn"]}),t.jsxs("button",{className:g==="stats"?"tab active":"tab",onClick:()=>m("stats"),children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),"Thng k"]})]}),g==="info"&&t.jsx(Ge,{padding:"large",children:x?t.jsxs("form",{style:{display:"grid",gap:"16px"},children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tiu  *"}),t.jsx("input",{type:"text",name:"title",value:C.title,onChange:L,placeholder:"VD: Frontend Engineer",required:!0,minLength:10,maxLength:255}),t.jsx("small",{className:"muted",children:"Ti thiu 10 k t, ti a 255 k t"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"M t *"}),t.jsx("textarea",{name:"description",value:C.description,onChange:L,placeholder:"M t chi tit v v tr cng vic...",rows:8,required:!0,minLength:50}),t.jsx("small",{className:"muted",children:"Ti thiu 50 k t"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Cng ty *"}),t.jsx("input",{type:"text",value:(r==null?void 0:r.name)||"Cha c cng ty",disabled:!0}),t.jsx("small",{className:"muted",children:"Cng ty ca bn"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Loi vic *"}),t.jsx("select",{name:"job_type",value:C.job_type,onChange:L,required:!0,children:rm.map(G=>t.jsx("option",{value:G.value,children:G.label},G.value))})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Lng ti thiu"}),t.jsx("input",{type:"number",name:"salary_min",value:C.salary_min,onChange:L,min:"0"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Lng ti a"}),t.jsx("input",{type:"number",name:"salary_max",value:C.salary_max,onChange:L,min:"0"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Tin t"}),t.jsxs("select",{name:"currency",value:C.currency,onChange:L,children:[t.jsx("option",{value:"VND",children:"VND"}),t.jsx("option",{value:"USD",children:"USD"}),t.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Kinh nghim (nm)"}),t.jsx("input",{type:"number",name:"experience_level",value:C.experience_level,onChange:L,min:"0",max:"30"})]}),t.jsxs("label",{className:"field",children:[t.jsx("span",{children:"Ht hn"}),t.jsx("input",{type:"datetime-local",name:"expires_at",value:C.expires_at,onChange:L})]})]}):t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Tiu "}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"18px",fontWeight:"600"},children:s.title})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"M t"}),t.jsx("p",{style:{margin:"4px 0 0 0",whiteSpace:"pre-wrap"},children:s.description})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Cng ty"}),t.jsx("p",{style:{margin:"4px 0 0 0"},children:((R=s.companies)==null?void 0:R.name)||(r==null?void 0:r.name)||"--"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Loi vic"}),t.jsx("p",{style:{margin:"4px 0 0 0"},children:((X=rm.find(G=>G.value===s.job_type))==null?void 0:X.label)||s.job_type})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"a im"}),t.jsx("p",{style:{margin:"4px 0 0 0"},children:((A=s.locations)==null?void 0:A.name)||((ie=s.location)==null?void 0:ie.name)||"--"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Kinh nghim"}),t.jsx("p",{style:{margin:"4px 0 0 0"},children:s.experience_level?`${s.experience_level} nm`:"--"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Mc lng"}),t.jsx("p",{style:{margin:"4px 0 0 0"},children:(te=s.salary_range)!=null&&te.min&&((pe=s.salary_range)!=null&&pe.max)?`${s.salary_range.min.toLocaleString()} - ${s.salary_range.max.toLocaleString()} ${s.salary_range.currency||"VND"}`:"Tha thun"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"muted",children:"Ht hn"}),t.jsx("p",{style:{margin:"4px 0 0 0"},children:om(s.expires_at)})]})]})]})}),g==="stats"&&t.jsx(Ge,{padding:"large",children:i?t.jsxs("div",{className:"job-stats-container",children:[t.jsxs("div",{className:"job-stats-grid",children:[t.jsxs(Ge,{variant:"elevated",padding:"medium",className:"stat-card-enhanced",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsx("div",{className:"stat-value",children:i.total_views||i.views_count||0}),t.jsx("div",{className:"stat-label",children:"Tng lt xem"})]}),t.jsxs(Ge,{variant:"elevated",padding:"medium",className:"stat-card-enhanced",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsx("div",{className:"stat-value",children:i.total_applications||i.applications_count||0}),t.jsx("div",{className:"stat-label",children:"Tng ng tuyn"})]}),t.jsxs(Ge,{variant:"elevated",padding:"medium",className:"stat-card-enhanced",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsx("div",{className:"stat-value",children:i.total_views>0?`${((i.total_applications||0)/i.total_views*100).toFixed(1)}%`:"0%"}),t.jsx("div",{className:"stat-label",children:"T l chuyn i"})]})]}),i.applications_by_status&&t.jsxs("div",{className:"job-stats-breakdown",children:[t.jsx("h3",{className:"stats-breakdown-title",children:"ng tuyn theo trng thi"}),t.jsx("div",{className:"stats-breakdown-list",children:Object.entries(i.applications_by_status).map(([G,q])=>t.jsxs("div",{className:"stats-breakdown-item",children:[t.jsx("span",{className:"stats-breakdown-status",children:G}),t.jsx($t,{variant:"primary",size:"small",children:q})]},G))})]})]}):t.jsx("div",{className:"empty-stats",children:t.jsx("p",{children:"Cha c thng k."})})}),t.jsx(Nr,{isOpen:d,onClose:()=>p(!1),onConfirm:se,title:"Xc nhn xa",message:"Bn c chc chn mun xa tin tuyn dng ny? Hnh ng ny khng th hon tc.",confirmText:"Xa",cancelText:"Hy",variant:"danger"}),t.jsx(Nr,{isOpen:y,onClose:()=>{S(!1),k(null)},onConfirm:re,title:"Xc nhn thay i trng thi",message:w==="closed"?"Bn c chc chn mun ng tin tuyn dng ny? Tin s khng cn hin th cho ng vin.":"Bn c chc chn mun m li tin tuyn dng ny?",confirmText:w==="closed"?"ng tin":"M li tin",cancelText:"Hy",variant:"primary"})]})}const Io=20,X_=[{value:"",label:"Tt c"},{value:"pending",label:"ang ch"},{value:"reviewed",label:" xem"},{value:"accepted",label:"Chp nhn"},{value:"rejected",label:"T chi"},{value:"withdrawn",label:" rt"}],cm={pending:"ang ch",reviewed:" xem",accepted:"Chp nhn",rejected:"T chi",withdrawn:" rt"},dm={pending:"default",reviewed:"info",accepted:"success",rejected:"danger",withdrawn:"default"},G_=[{value:"applied_at",label:"Mi nht"},{value:"name",label:"Theo tn"},{value:"rating",label:"Theo rating"}];function um(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"--"}}function hm(e){if(!e)return"?";const n=e.trim().split(" ");return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():e[0].toUpperCase()}function mm(e){if(!e||e<=0)return"--";const n=Math.min(5,Math.max(1,Math.floor(e))),s="".repeat(n),a="".repeat(5-n);return s+a}function Y_(){var Me,Je,Re,Be,oe;const e=He(),{jobId:n}=Gn(),[s,a]=u.useState([]),[i,l]=u.useState(null),[r,o]=u.useState(null),[c,h]=u.useState(!0),[v,f]=u.useState(null),[x,j]=u.useState(1),[_,b]=u.useState(""),[g,m]=u.useState(""),[d,p]=u.useState(""),[y,S]=u.useState("applied_at"),[w,k]=u.useState("desc"),[C,T]=u.useState("table"),[L,O]=u.useState([]),[se,$]=u.useState(!1),[z,re]=u.useState(null),[Y,H]=u.useState({page:1,limit:Io,total:0,total_pages:1}),R=u.useCallback(async()=>{if(n)try{const E=await Tt.getManage(n),J=(E==null?void 0:E.data)||E;o(J)}catch(E){console.error("Failed to fetch job:",E)}},[n]),X=u.useCallback(async()=>{if(n)try{const E=await ot.getStats(n),J=(E==null?void 0:E.data)||E;l(J)}catch(E){console.error("Failed to fetch stats:",E)}},[n]),A=u.useCallback(async()=>{var E;if(n){h(!0),f(null);try{const J={page:x,limit:Io,status:_&&_.trim()!==""?_:void 0,stage:g&&g.trim()!==""?g:void 0,sort_by:y,order:w},Q=await ot.listByJob(n,J),ue=(Q==null?void 0:Q.data)||Q||[],Te=(Q==null?void 0:Q.pagination)||{page:x,limit:Io,total:ue.length,total_pages:1};a(ue),H(Te)}catch(J){console.error("Failed to fetch applications:",J),console.error("Error details:",(J==null?void 0:J.data)||(J==null?void 0:J.response)||J);const Q=((E=J==null?void 0:J.data)==null?void 0:E.message)||(J==null?void 0:J.message)||"Khng th ti danh sch ng vin. Vui lng th li.";f(Q),(J==null?void 0:J.status)===401&&e("/login?role=recruiter&redirect="+encodeURIComponent(window.location.pathname))}finally{h(!1)}}},[n,x,_,g,d,y,w,e]);u.useEffect(()=>{R(),X()},[R,X]),u.useEffect(()=>{A()},[A]);const ie=E=>{b(E),j(1)},te=E=>{O(J=>J.includes(E)?J.filter(Q=>Q!==E):[...J,E])},pe=()=>{L.length===s.length?O([]):O(s.map(E=>E.id))},G=E=>{re(E),$(!0)},q=async()=>{if(!(!z||L.length===0))try{const E={accept:"accept",reject:"reject",review:"review"};await ot.bulkUpdate({application_ids:L,action:E[z]}),alert(` ${z==="accept"?"chp nhn":z==="reject"?"t chi":"nh du  xem"} ${L.length} ng vin thnh cng.`),A(),X(),O([]),$(!1),re(null)}catch(E){alert((E==null?void 0:E.message)||"Khng th thc hin thao tc. Vui lng th li.")}},ee=E=>{e(`/recruiter/applications/${E}`)},be=i||{total:0,by_status:{pending:0,reviewed:0,accepted:0,rejected:0,withdrawn:0}};return t.jsxs("div",{className:"section applications-list-page",children:[t.jsxs("div",{className:"applications-header",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"breadcrumb",children:[t.jsx(We,{to:"/recruiter/jobs",children:"Tin tuyn dng"}),t.jsx("span",{children:" / "}),r&&t.jsx(We,{to:`/recruiter/jobs/${n}/manage`,children:r.title||"Job"}),t.jsx("span",{children:" / "}),t.jsx("span",{children:"ng vin"})]}),t.jsx("h1",{className:"applications-title",children:"Qun l ng vin"}),r&&t.jsxs("p",{className:"applications-subtitle",children:["Tin tuyn dng: ",r.title]})]}),t.jsx(me,{variant:"outline",onClick:()=>e(`/recruiter/jobs/${n}/manage`),children:"Quay li"})]}),i&&t.jsx(Ge,{padding:"medium",className:"stats-card",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-value",children:be.total||0}),t.jsx("div",{className:"stat-label",children:"Tng s"})]}),t.jsxs("div",{className:"stat-item stat-pending",children:[t.jsx("div",{className:"stat-value",children:((Me=be.by_status)==null?void 0:Me.pending)||0}),t.jsx("div",{className:"stat-label",children:"ang ch"})]}),t.jsxs("div",{className:"stat-item stat-reviewed",children:[t.jsx("div",{className:"stat-value",children:((Je=be.by_status)==null?void 0:Je.reviewed)||0}),t.jsx("div",{className:"stat-label",children:" xem"})]}),t.jsxs("div",{className:"stat-item stat-accepted",children:[t.jsx("div",{className:"stat-value",children:((Re=be.by_status)==null?void 0:Re.accepted)||0}),t.jsx("div",{className:"stat-label",children:"Chp nhn"})]}),t.jsxs("div",{className:"stat-item stat-rejected",children:[t.jsx("div",{className:"stat-value",children:((Be=be.by_status)==null?void 0:Be.rejected)||0}),t.jsx("div",{className:"stat-label",children:"T chi"})]}),t.jsxs("div",{className:"stat-item stat-withdrawn",children:[t.jsx("div",{className:"stat-value",children:((oe=be.by_status)==null?void 0:oe.withdrawn)||0}),t.jsx("div",{className:"stat-label",children:" rt"})]})]})}),t.jsxs(Ge,{padding:"medium",className:"filters-card",children:[t.jsxs("div",{className:"filters-row",children:[t.jsx("div",{className:"search-wrapper",children:t.jsx(Kn,{placeholder:"Tm kim theo tn ng vin...",value:d,onChange:E=>{p(E.target.value),j(1)}})}),t.jsx("div",{className:"filter-chips",children:X_.map(E=>t.jsx("button",{className:`filter-chip ${_===E.value?"active":""}`,onClick:()=>ie(E.value),children:E.label},E.value))}),t.jsxs("div",{className:"filter-controls",children:[t.jsx(qi,{value:y,onChange:E=>{S(E.target.value),j(1)},style:{minWidth:"150px"},children:G_.map(E=>t.jsx("option",{value:E.value,children:E.label},E.value))}),t.jsx("button",{className:`sort-order-btn ${w==="desc"?"desc":"asc"}`,onClick:()=>k(w==="desc"?"asc":"desc"),title:w==="desc"?"Gim dn":"Tng dn",children:w==="desc"?"":""})]}),t.jsxs("div",{className:"view-toggle",children:[t.jsx("button",{className:`view-toggle-btn ${C==="table"?"active":""}`,onClick:()=>T("table"),title:"Xem dng bng",children:"Bng"}),t.jsx("button",{className:`view-toggle-btn ${C==="card"?"active":""}`,onClick:()=>T("card"),title:"Xem dng th",children:"Th"})]})]}),L.length>0&&t.jsxs("div",{className:"bulk-actions",children:[t.jsxs("span",{className:"bulk-actions-label",children:[" chn ",L.length," ng vin"]}),t.jsxs("div",{className:"bulk-actions-buttons",children:[t.jsx(me,{variant:"outline",size:"small",onClick:()=>G("review"),children:"nh du  xem"}),t.jsx(me,{variant:"outline",size:"small",onClick:()=>G("accept"),children:"Chp nhn"}),t.jsx(me,{variant:"outline",size:"small",onClick:()=>G("reject"),children:"T chi"}),t.jsx(me,{variant:"ghost",size:"small",onClick:()=>O([]),children:"B chn"})]})]})]}),c&&t.jsx(Ge,{padding:"large",children:t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx("p",{children:"ang ti..."})})}),v&&t.jsxs(Ge,{padding:"medium",style:{background:"#fee",border:"1px solid #fcc"},children:[t.jsx("p",{style:{color:"#c00",margin:0},children:v}),t.jsx(me,{variant:"outline",onClick:A,style:{marginTop:"12px"},children:"Th li"})]}),!c&&!v&&s.length===0&&t.jsx(Ge,{padding:"large",className:"empty-state-card",children:t.jsxs("div",{className:"empty-state",children:[t.jsx("h3",{className:"empty-state-title",children:"Cha c ng vin no"}),t.jsx("p",{className:"empty-state-description",children:"Cha c ng vin no ng tuyn cho tin tuyn dng ny"})]})}),!c&&!v&&s.length>0&&t.jsxs(t.Fragment,{children:[C==="table"?t.jsx("div",{className:"applications-table-wrapper",children:t.jsxs("table",{className:"applications-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"40px"},children:t.jsx("input",{type:"checkbox",checked:L.length===s.length&&s.length>0,onChange:pe})}),t.jsx("th",{children:"ng vin"}),t.jsx("th",{children:"Trng thi"}),t.jsx("th",{children:"Stage"}),t.jsx("th",{children:"Rating"}),t.jsx("th",{children:"Ngy ng tuyn"}),t.jsx("th",{style:{textAlign:"center"},children:"Thao tc"})]})}),t.jsx("tbody",{children:s.map(E=>{var we,Pe,ae;const J=E.profiles||E.candidate||((we=E.candidate)==null?void 0:we.profile)||{},Q=J.full_name||J.display_name||J.name||"Cha c tn",ue=E.status||"pending",Te=L.includes(E.id);return t.jsxs("tr",{className:Te?"selected":"",children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:Te,onChange:()=>te(E.id)})}),t.jsx("td",{children:t.jsxs("div",{className:"candidate-info",children:[t.jsx("div",{className:"candidate-avatar",children:J.avatar_url?t.jsx("img",{src:J.avatar_url,alt:Q}):t.jsx("span",{children:hm(Q)})}),t.jsxs("div",{children:[t.jsx("strong",{children:Q}),J.headline&&t.jsx("div",{className:"candidate-headline",children:J.headline})]})]})}),t.jsx("td",{children:t.jsx($t,{variant:dm[ue]||"default",size:"small",children:cm[ue]||ue})}),t.jsx("td",{children:((Pe=E.current_stage)==null?void 0:Pe.stage_name)||"--"}),t.jsx("td",{children:(ae=E.current_stage)!=null&&ae.rating?t.jsx("span",{className:"rating-display",children:mm(E.current_stage.rating)}):"--"}),t.jsx("td",{children:um(E.applied_at)}),t.jsx("td",{children:t.jsx("div",{className:"application-actions",children:t.jsx(me,{variant:"ghost",size:"small",onClick:()=>ee(E.id),children:"Xem chi tit"})})})]},E.id)})})]})}):t.jsx("div",{className:"applications-card-grid",children:s.map(E=>{var we,Pe,ae;const J=E.profiles||E.candidate||((we=E.candidate)==null?void 0:we.profile)||{},Q=J.full_name||J.display_name||J.name||"Cha c tn",ue=E.status||"pending",Te=L.includes(E.id);return t.jsxs(Ge,{variant:"elevated",padding:"medium",className:`application-card ${Te?"selected":""}`,hover:!0,children:[t.jsxs("div",{className:"application-card-header",children:[t.jsx("input",{type:"checkbox",checked:Te,onChange:()=>te(E.id),onClick:Ee=>Ee.stopPropagation()}),t.jsx($t,{variant:dm[ue]||"default",size:"small",children:cm[ue]||ue})]}),t.jsxs("div",{className:"application-card-body",children:[t.jsxs("div",{className:"candidate-info",children:[t.jsx("div",{className:"candidate-avatar",children:J.avatar_url?t.jsx("img",{src:J.avatar_url,alt:Q}):t.jsx("span",{children:hm(Q)})}),t.jsxs("div",{children:[t.jsx("h3",{className:"candidate-name",children:Q}),J.headline&&t.jsx("p",{className:"candidate-headline",children:J.headline})]})]}),t.jsxs("div",{className:"application-card-meta",children:[t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-label",children:"Stage:"}),t.jsx("span",{children:((Pe=E.current_stage)==null?void 0:Pe.stage_name)||"--"})]}),((ae=E.current_stage)==null?void 0:ae.rating)&&t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-label",children:"Rating:"}),t.jsx("span",{className:"rating-display",children:mm(E.current_stage.rating)})]}),t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-label",children:"Ngy ng tuyn:"}),t.jsx("span",{children:um(E.applied_at)})]})]})]}),t.jsx("div",{className:"application-card-actions",children:t.jsx(me,{variant:"default",size:"small",onClick:()=>ee(E.id),children:"Xem chi tit"})})]},E.id)})}),Y.total_pages>1&&t.jsxs("div",{className:"pagination",children:[t.jsx(me,{variant:"outline",disabled:x===1,onClick:()=>j(E=>Math.max(1,E-1)),children:"Trc"}),t.jsxs("div",{className:"pagination-info",children:["Trang ",x," / ",Y.total_pages]}),t.jsx(me,{variant:"outline",disabled:x>=Y.total_pages,onClick:()=>j(E=>Math.min(Y.total_pages,E+1)),children:"Sau"})]})]}),t.jsx(Nr,{isOpen:se,onClose:()=>{$(!1),re(null)},onConfirm:q,title:"Xc nhn thao tc",message:`Bn c chc chn mun ${z==="accept"?"chp nhn":z==="reject"?"t chi":"nh du  xem"} ${L.length} ng vin  chn?`,confirmText:"Xc nhn",cancelText:"Hy",variant:z==="reject"?"danger":"default"})]})}const Z_=[{value:"pending",label:"ang ch"},{value:"reviewed",label:" xem"},{value:"accepted",label:"Chp nhn"},{value:"rejected",label:"T chi"}],eN={pending:"ang ch",reviewed:" xem",accepted:"Chp nhn",rejected:"T chi",withdrawn:" rt"},tN={pending:"default",reviewed:"info",accepted:"success",rejected:"danger",withdrawn:"default"},nN=["pending","scheduled","in_progress","passed","failed","skipped","completed"];function ys(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"--"}}function pm(e){if(!e)return"?";const n=e.trim().split(" ");return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():e[0].toUpperCase()}function sN(e){if(!e||e<=0)return"--";const n=Math.min(5,Math.max(1,Math.floor(e))),s="".repeat(n),a="".repeat(5-n);return s+a}async function fm(e,n){try{const s=localStorage.getItem("auth_token"),a={};s&&(a.Authorization=`Bearer ${s}`);const i=await fetch(e,{method:"GET",headers:a});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const l=await i.blob(),r=window.URL.createObjectURL(l),o=document.createElement("a");o.href=r,o.download=n||"cv.pdf",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Download error:",s),window.open(e,"_blank"),s}}function aN(){var Ke,Ye;const e=He(),{id:n}=Gn(),[s,a]=u.useState(null),[i,l]=u.useState([]),[r,o]=u.useState([]),[c,h]=u.useState(!0),[v,f]=u.useState(null),[x,j]=u.useState("info"),[_,b]=u.useState(""),[g,m]=u.useState(""),[d,p]=u.useState(!1),[y,S]=u.useState(!1),[w,k]=u.useState(null),[C,T]=u.useState({stage_name:"",stage_order:i.length+1,scheduled_at:"",interviewer_notes:""}),[L,O]=u.useState(!1),[se,$]=u.useState({stage_id:"",status:"",feedback:"",rating:"",interviewer_notes:"",completed_at:""}),[z,re]=u.useState(""),[Y,H]=u.useState(!1),[R,X]=u.useState(!1),[A,ie]=u.useState(null),[te,pe]=u.useState(!1),[G,q]=u.useState(!1),[ee,be]=u.useState(null),[Me,Je]=u.useState(!1),Re=u.useCallback(async()=>{if(n){h(!0),f(null);try{const F=ot.getDetailRecruiter?await ot.getDetailRecruiter(n):await ot.getDetail(n),he=(F==null?void 0:F.data)||F;console.log("Application data received:",he),console.log("Profile data:",he==null?void 0:he.profiles),a(he),b(he.status||"pending");const ye=he==null?void 0:he.notes,ke=Array.isArray(ye)?ye:ye?[ye]:[];o(ke);try{const Qe=ot.getStagesRecruiter?await ot.getStagesRecruiter(n):await ot.getStages(n),le=(Qe==null?void 0:Qe.data)||Qe||[];l(le),T(De=>({...De,stage_order:le.length+1}))}catch(Qe){console.error("Failed to fetch stages:",Qe)}}catch(F){console.error("Failed to fetch application:",F),f((F==null?void 0:F.message)||"Khng th ti thng tin ng vin. Vui lng th li."),(F==null?void 0:F.status)===401&&e("/login?role=recruiter&redirect="+encodeURIComponent(window.location.pathname))}finally{h(!1)}}},[n,e]);u.useEffect(()=>{Re()},[Re]);const Be=async()=>{if(_){p(!0);try{await ot.updateStatus(n,{status:_,reason:g||void 0}),alert(" cp nht trng thi thnh cng."),Re(),m("")}catch(F){alert((F==null?void 0:F.message)||"Khng th cp nht trng thi. Vui lng th li.")}finally{p(!1)}}},oe=async()=>{if(!C.stage_name){alert("Vui lng nhp tn stage.");return}try{await ot.createStage(n,C),alert(" to stage thnh cng."),S(!1),T({stage_name:"",stage_order:i.length+2,scheduled_at:"",interviewer_notes:""}),Re()}catch(F){alert((F==null?void 0:F.message)||"Khng th to stage. Vui lng th li.")}},E=async(F,he)=>{try{await ot.updateStage(n,{stage_id:F,...he}),alert(" cp nht stage thnh cng."),Re()}catch(ye){alert((ye==null?void 0:ye.message)||"Khng th cp nht stage. Vui lng th li.")}},J=F=>{k(F),$({stage_id:F.id,status:F.status||"",feedback:F.feedback||"",rating:F.rating||"",interviewer_notes:F.interviewer_notes||"",completed_at:F.completed_at?F.completed_at.slice(0,16):""}),O(!0)},Q=async()=>{if(!se.stage_id||!se.status){alert("Vui lng chn trng thi.");return}const F={status:se.status,feedback:se.feedback||void 0,interviewer_notes:se.interviewer_notes||void 0,completed_at:se.completed_at||void 0},he=se.rating===""?null:Number(se.rating);!Number.isNaN(he)&&he!==null&&(F.rating=he),await E(se.stage_id,F),O(!1),k(null)},ue=async()=>{if(!z.trim()){alert("Vui lng nhp ni dung ghi ch.");return}H(!0);try{await ot.addNote(n,z),re(""),Re()}catch(F){alert((F==null?void 0:F.message)||"Khng th thm ghi ch. Vui lng th li.")}finally{H(!1)}},Te=async()=>{var F;try{const he=ot.getCVRecruiter?await ot.getCVRecruiter(n):await ot.getCV(n),ye=(he==null?void 0:he.data)||he,ke=(ye==null?void 0:ye.resume)||ye,Qe=(ke==null?void 0:ke.file_url)||(ye==null?void 0:ye.file_url);if(!Qe){alert("CV khng c sn  ti xung.");return}const le=ke!=null&&ke.title?`${ke.title}.pdf`:`CV_${((F=s==null?void 0:s.profiles)==null?void 0:F.full_name)||"candidate"}_${new Date().getTime()}.pdf`,De=document.querySelector("[data-download-cv]");De&&(De.disabled=!0,De.textContent="ang ti..."),await fm(Qe,le),De&&(De.disabled=!1,De.textContent="Ti CV")}catch(he){console.error("Download CV error:",he),alert((he==null?void 0:he.message)||"Khng th ti CV. Vui lng th li.")}},we=async()=>{var he,ye;const F=((he=s==null?void 0:s.profiles)==null?void 0:he.id)||(s==null?void 0:s.profile_id);if(!F){alert("Khng tm thy thng tin profile.");return}X(!0),pe(!0);try{const ke=await Ly.getPublicProfile(F),Qe=((ye=ke==null?void 0:ke.data)==null?void 0:ye.data)||(ke==null?void 0:ke.data)||ke;ie(Qe||{})}catch(ke){console.error("Failed to fetch profile:",ke),alert((ke==null?void 0:ke.message)||"Khng th ti thng tin profile. Vui lng th li."),X(!1)}finally{pe(!1)}},Pe=async()=>{q(!0),Je(!0),be(null);try{const F=ot.getCVRecruiter?await ot.getCVRecruiter(n):await ot.getCV(n),he=(F==null?void 0:F.data)||F;console.log("CV data received:",he),be(he)}catch(F){console.error("Failed to fetch CV:",F),alert((F==null?void 0:F.message)||"Khng th ti CV. Vui lng th li."),q(!1)}finally{Je(!1)}};if(c)return t.jsx("div",{className:"section application-detail-page",children:t.jsx(Ge,{padding:"large",children:t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx("p",{children:"ang ti..."})})})});if(v)return t.jsx("div",{className:"section application-detail-page",children:t.jsxs(Ge,{padding:"medium",style:{background:"#fee",border:"1px solid #fcc"},children:[t.jsx("p",{style:{color:"#c00",margin:0},children:v}),t.jsx(me,{variant:"outline",onClick:Re,style:{marginTop:"12px"},children:"Th li"})]})});if(!s)return t.jsx("div",{className:"section application-detail-page",children:t.jsx(Ge,{padding:"large",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("p",{children:"Khng tm thy thng tin ng vin."}),t.jsx(me,{variant:"outline",onClick:()=>e(-1),style:{marginTop:"12px"},children:"Quay li"})]})})});const ae=s.profiles||((Ke=s.candidate)==null?void 0:Ke.profile)||s.candidate||{},Ee=ae.full_name||ae.display_name||ae.name||"Cha c tn",Ie=s.jobs||{},it=s.status||"pending";return console.log("Parsed profile:",ae),console.log("Profile years_of_experience:",ae.years_of_experience),console.log("Profile location_text:",ae.location_text),console.log("Profile desired_job_title:",ae.desired_job_title),t.jsxs("div",{className:"section application-detail-page",children:[t.jsxs("div",{className:"application-header",children:[t.jsx("div",{className:"breadcrumb",children:t.jsx("button",{onClick:()=>e(-1),style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer"},children:" Quay li"})}),t.jsxs("div",{className:"candidate-header-info",children:[t.jsx("div",{className:"candidate-avatar-large",children:ae.avatar_url?t.jsx("img",{src:ae.avatar_url,alt:Ee}):t.jsx("span",{children:pm(Ee)})}),t.jsxs("div",{children:[t.jsx("h1",{className:"candidate-name-large",children:Ee}),ae.headline&&t.jsx("p",{className:"candidate-headline-large",children:ae.headline}),t.jsx($t,{variant:tN[it]||"default",size:"medium",style:{marginTop:"8px"},children:eN[it]||it})]})]})]}),t.jsxs("div",{className:"application-content",children:[t.jsxs("div",{className:"application-left",children:[t.jsxs(Ge,{padding:"medium",className:"profile-card",children:[t.jsx("h2",{className:"section-title",children:"Thng tin ng vin"}),t.jsxs("div",{className:"profile-info",children:[ae.years_of_experience!==null&&ae.years_of_experience!==void 0&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Kinh nghim:"}),Number(ae.years_of_experience)===0?t.jsx("span",{children:"Cha c kinh nghim"}):t.jsxs("span",{children:[ae.years_of_experience," nm"]})]}),ae.location_text&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"a im:"}),t.jsx("span",{children:ae.location_text})]}),ae.desired_job_title&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"V tr mong mun:"}),t.jsx("span",{children:ae.desired_job_title})]}),(ae.years_of_experience===null||ae.years_of_experience===void 0)&&!ae.location_text&&!ae.desired_job_title&&t.jsx("div",{className:"info-item",children:t.jsx("span",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Cha c thng tin b sung"})})]}),ae.skills&&ae.skills.length>0&&t.jsxs("div",{className:"skills-section",children:[t.jsx("h3",{className:"subsection-title",children:"K nng"}),t.jsx("div",{className:"skills-list",children:ae.skills.slice(0,10).map((F,he)=>{var ye;return t.jsx($t,{variant:"default",size:"small",children:((ye=F.skills)==null?void 0:ye.name)||F.name||F},he)})})]}),t.jsx("div",{style:{marginTop:"16px"},children:t.jsx(me,{variant:"outline",size:"small",onClick:we,children:"Xem profile y "})})]}),t.jsxs(Ge,{padding:"medium",className:"cv-card",children:[t.jsx("h2",{className:"section-title",children:"CV / Resume"}),t.jsxs("div",{className:"cv-info",children:[t.jsx("p",{style:{color:"#64748b",margin:"0 0 12px 0"},children:s.resume_id?"CV  c nh km":"Cha c CV"}),s.resume_id&&t.jsxs("div",{className:"cv-actions",children:[t.jsx(me,{variant:"default",size:"small",onClick:Te,"data-download-cv":!0,children:"Ti CV"}),t.jsx(me,{variant:"outline",size:"small",onClick:Pe,children:"Xem CV"})]})]})]}),t.jsxs(Ge,{padding:"medium",className:"application-info-card",children:[t.jsx("h2",{className:"section-title",children:"Thng tin n ng tuyn"}),t.jsxs("div",{className:"info-list",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Ngy ng tuyn:"}),t.jsx("span",{children:ys(s.applied_at)})]}),Ie.title&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"V tr:"}),t.jsx("span",{children:Ie.title})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Stage hin ti:"}),t.jsx("span",{children:(()=>{var F;if((F=s.current_stage)!=null&&F.stage_name)return s.current_stage.stage_name;if(i&&i.length>0){const he=i.find(le=>le.status==="in_progress");if(he)return he.stage_name;const ye=i.find(le=>le.status==="pending");if(ye)return ye.stage_name;const ke=i.find(le=>le.status==="scheduled");if(ke)return ke.stage_name;const Qe=[...i].sort((le,De)=>(le.stage_order||0)-(De.stage_order||0));if(Qe.length>0)return Qe[0].stage_name}return"--"})()})]})]})]})]}),t.jsxs("div",{className:"application-right",children:[t.jsxs(Ge,{padding:"medium",className:"status-card",children:[t.jsx("h2",{className:"section-title",children:"Qun l trng thi"}),t.jsxs("div",{className:"status-form",children:[t.jsx(qi,{value:_,onChange:F=>b(F.target.value),options:Z_,style:{marginBottom:"12px"}}),_==="rejected"&&t.jsx(ci,{placeholder:"L do t chi (ty chn)",value:g,onChange:F=>m(F.target.value),rows:3,style:{marginBottom:"12px"}}),t.jsx(me,{variant:"primary",onClick:Be,disabled:d||_===it,style:{width:"100%"},children:d?"ang cp nht...":"Cp nht trng thi"})]})]}),t.jsxs(Ge,{padding:"medium",className:"stages-card",children:[t.jsxs("div",{className:"stages-header",children:[t.jsx("h2",{className:"section-title",children:"Quy trnh tuyn dng"}),t.jsx(me,{variant:"outline",size:"small",onClick:()=>{k(null),T({stage_name:"",stage_order:i.length+1,scheduled_at:"",interviewer_notes:""}),S(!0)},children:"Thm stage"})]}),t.jsx("div",{className:"stages-timeline",children:i.length===0?t.jsx("p",{style:{color:"#64748b",textAlign:"center",padding:"20px"},children:"Cha c stage no"}):i.map((F,he)=>t.jsxs("div",{className:"stage-item",children:[t.jsx("div",{className:"stage-indicator"}),t.jsxs("div",{className:"stage-content",children:[t.jsxs("div",{className:"stage-header",children:[t.jsx("h3",{className:"stage-name",children:F.stage_name}),F.status&&t.jsx($t,{variant:"default",size:"small",children:F.status}),t.jsx(me,{variant:"outline",size:"small",onClick:()=>J(F),children:"Cp nht"})]}),F.scheduled_at&&t.jsxs("p",{className:"stage-date",children:["Ngy: ",ys(F.scheduled_at)]}),F.rating&&t.jsxs("p",{className:"stage-rating",children:["Rating: ",sN(F.rating)]}),F.feedback&&t.jsx("p",{className:"stage-feedback",children:F.feedback}),F.interviewer_notes&&t.jsxs("p",{className:"stage-notes",children:["Ghi ch: ",F.interviewer_notes]})]})]},F.id||he))})]}),t.jsxs(Ge,{padding:"medium",className:"notes-card",children:[t.jsx("h2",{className:"section-title",children:"Ghi ch"}),t.jsx("div",{className:"notes-list",children:r.length===0?t.jsx("p",{style:{color:"#64748b",textAlign:"center",padding:"20px"},children:"Cha c ghi ch no"}):r.map((F,he)=>t.jsxs("div",{className:"note-item",children:[t.jsx("p",{className:"note-content",children:F.note||F.content}),t.jsx("p",{className:"note-date",children:ys(F.created_at||F.date)})]},F.id||he))}),t.jsxs("div",{className:"note-form",children:[t.jsx(ci,{placeholder:"Thm ghi ch mi...",value:z,onChange:F=>re(F.target.value),rows:3,style:{marginBottom:"12px"}}),t.jsx(me,{variant:"outline",onClick:ue,disabled:Y||!z.trim(),style:{width:"100%"},children:Y?"ang thm...":"Thm ghi ch"})]})]})]})]}),t.jsxs(Ca,{isOpen:y,onClose:()=>S(!1),children:[t.jsx("h3",{style:{marginTop:0},children:"Thm stage mi"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsx(Kn,{placeholder:"Tn stage",value:C.stage_name,onChange:F=>T({...C,stage_name:F.target.value})}),t.jsx(Kn,{type:"number",placeholder:"Th t",value:C.stage_order,onChange:F=>T({...C,stage_order:parseInt(F.target.value)||1})}),t.jsx(Kn,{type:"datetime-local",placeholder:"Ngy gi d kin",value:C.scheduled_at,onChange:F=>T({...C,scheduled_at:F.target.value})}),t.jsx(ci,{placeholder:"Ghi ch ca ngi phng vn",value:C.interviewer_notes,onChange:F=>T({...C,interviewer_notes:F.target.value}),rows:3}),t.jsxs("div",{className:"modal-actions",children:[t.jsx(me,{variant:"outline",onClick:()=>S(!1),children:"Hy"}),t.jsx(me,{variant:"primary",onClick:oe,children:"To stage"})]})]})]}),t.jsxs(Ca,{isOpen:L,onClose:()=>O(!1),children:[t.jsx("h3",{style:{marginTop:0},children:"Cp nht stage"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs(qi,{value:se.status,onChange:F=>$({...se,status:F.target.value}),children:[t.jsx("option",{value:"",children:"Chn trng thi"}),nN.map(F=>t.jsx("option",{value:F,children:F},F))]}),t.jsx(Kn,{type:"number",min:1,max:5,placeholder:"Rating (1-5)",value:se.rating,onChange:F=>$({...se,rating:F.target.value})}),t.jsx(ci,{placeholder:"Feedback",value:se.feedback,onChange:F=>$({...se,feedback:F.target.value}),rows:3}),t.jsx(ci,{placeholder:"Ghi ch phng vn",value:se.interviewer_notes,onChange:F=>$({...se,interviewer_notes:F.target.value}),rows:3}),t.jsx(Kn,{type:"datetime-local",placeholder:"Thi gian hon thnh",value:se.completed_at,onChange:F=>$({...se,completed_at:F.target.value})})]}),t.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"flex-end",gap:8},children:[t.jsx(me,{variant:"outline",onClick:()=>O(!1),children:"Hy"}),t.jsx(me,{onClick:Q,children:"Lu thay i"})]})]}),t.jsx(Ca,{isOpen:R,onClose:()=>{X(!1),ie(null)},style:{maxWidth:"800px",maxHeight:"90vh",overflow:"auto"},children:t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("h2",{style:{marginTop:0,marginBottom:"24px"},children:"Profile y "}),te?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx("p",{children:"ang ti..."})}):A?t.jsxs("div",{className:"full-profile-content",children:[t.jsxs("div",{className:"profile-modal-header",children:[t.jsx("div",{className:"candidate-avatar-large",children:A.avatar_url?t.jsx("img",{src:A.avatar_url,alt:A.full_name}):t.jsx("span",{children:pm(A.full_name)})}),t.jsxs("div",{children:[t.jsx("h3",{style:{margin:0,fontSize:"24px"},children:A.full_name||"Cha c tn"}),A.headline&&t.jsx("p",{style:{margin:"8px 0 0 0",color:"#64748b"},children:A.headline}),A.bio&&t.jsx("p",{style:{margin:"12px 0 0 0",color:"#475569"},children:A.bio})]})]}),t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Thng tin c bn"}),t.jsxs("div",{className:"profile-info-grid",children:[A.years_of_experience!==null&&A.years_of_experience!==void 0&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Kinh nghim:"}),Number(A.years_of_experience)===0?t.jsx("span",{children:"Cha c kinh nghim"}):t.jsxs("span",{children:[A.years_of_experience," nm"]})]}),A.location_text&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"a im:"}),t.jsx("span",{children:A.location_text})]}),A.desired_job_title&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"V tr mong mun:"}),t.jsx("span",{children:A.desired_job_title})]}),A.desired_salary_min!==null&&A.desired_salary_min!==void 0&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Mc lng mong mun:"}),t.jsxs("span",{children:[Number(A.desired_salary_min).toLocaleString("vi-VN")," ",A.desired_currency||"VND"]})]}),Array.isArray(A.desired_job_type)&&A.desired_job_type.length>0&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Loi cng vic:"}),t.jsx("span",{children:A.desired_job_type.join(", ")})]}),A.personal_website&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Website:"}),t.jsx("a",{href:A.personal_website,target:"_blank",rel:"noopener noreferrer",children:A.personal_website})]}),A.linkedin_url&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"LinkedIn:"}),t.jsx("a",{href:A.linkedin_url,target:"_blank",rel:"noopener noreferrer",children:A.linkedin_url})]}),A.github_url&&t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"GitHub:"}),t.jsx("a",{href:A.github_url,target:"_blank",rel:"noopener noreferrer",children:A.github_url})]}),(A.years_of_experience===null||A.years_of_experience===void 0)&&!A.location_text&&!A.desired_job_title&&(A.desired_salary_min===null||A.desired_salary_min===void 0)&&(!Array.isArray(A.desired_job_type)||A.desired_job_type.length===0)&&!A.personal_website&&!A.linkedin_url&&!A.github_url&&t.jsx("div",{className:"info-item",children:t.jsx("span",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Cha c thng tin c bn"})})]})]}),Array.isArray(A.skills)&&A.skills.length>0&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"K nng"}),t.jsx("div",{className:"skills-list",children:A.skills.map((F,he)=>{var ye;return t.jsxs($t,{variant:"default",size:"small",children:[((ye=F.skills)==null?void 0:ye.name)||F.name||F,F.proficiency&&` (${F.proficiency}/5)`]},he)})})]}),(!Array.isArray(A.skills)||A.skills.length===0)&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"K nng"}),t.jsx("p",{style:{color:"#94a3b8"},children:"Cha cp nht k nng"})]}),Array.isArray(A.experiences)&&A.experiences.length>0&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Kinh nghim lm vic"}),t.jsx("div",{className:"experiences-list",children:A.experiences.map((F,he)=>t.jsxs("div",{className:"experience-item",children:[t.jsxs("h5",{style:{margin:"0 0 8px 0"},children:[F.position," ti ",F.company_name]}),t.jsxs("p",{style:{margin:"0 0 8px 0",color:"#64748b",fontSize:"14px"},children:[ys(F.start_date)," - ",F.is_current?"Hin ti":ys(F.end_date)]}),F.description&&t.jsx("p",{style:{margin:"8px 0 0 0",color:"#475569"},children:F.description})]},he))})]}),(!Array.isArray(A.experiences)||A.experiences.length===0)&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Kinh nghim lm vic"}),t.jsx("p",{style:{color:"#94a3b8"},children:"Cha c kinh nghim c thm"})]}),Array.isArray(A.educations)&&A.educations.length>0&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Hc vn"}),t.jsx("div",{className:"educations-list",children:A.educations.map((F,he)=>t.jsxs("div",{className:"education-item",children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:F.school_name}),F.degree&&t.jsxs("p",{style:{margin:"0 0 4px 0",color:"#64748b",fontSize:"14px"},children:[F.degree," ",F.field_of_study&&`- ${F.field_of_study}`]}),t.jsxs("p",{style:{margin:"0",color:"#64748b",fontSize:"14px"},children:[ys(F.start_date)," - ",F.end_date?ys(F.end_date):"Hin ti"]})]},he))})]}),(!Array.isArray(A.educations)||A.educations.length===0)&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Hc vn"}),t.jsx("p",{style:{color:"#94a3b8"},children:"Cha c thng tin hc vn"})]}),Array.isArray(A.certifications)&&A.certifications.length>0&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Chng ch"}),t.jsx("div",{className:"certifications-list",children:A.certifications.map((F,he)=>t.jsxs("div",{className:"certification-item",children:[t.jsx("h5",{style:{margin:"0 0 8px 0"},children:F.name}),t.jsxs("p",{style:{margin:"0 0 4px 0",color:"#64748b",fontSize:"14px"},children:[F.issuing_org," - ",ys(F.issue_date)]}),F.description&&t.jsx("p",{style:{margin:"8px 0 0 0",color:"#475569"},children:F.description})]},he))})]}),(!Array.isArray(A.certifications)||A.certifications.length===0)&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h4",{className:"profile-section-title",children:"Chng ch"}),t.jsx("p",{style:{color:"#94a3b8"},children:"Cha c chng ch"})]})]}):t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx("p",{children:"Khng tm thy thng tin profile."})}),t.jsx("div",{className:"modal-actions",style:{marginTop:"24px"},children:t.jsx(me,{variant:"outline",onClick:()=>{X(!1),ie(null)},children:"ng"})})]})}),t.jsx(Ca,{isOpen:G,onClose:()=>{q(!1),be(null)},style:{maxWidth:"900px",maxHeight:"90vh"},children:t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsxs("h2",{style:{margin:0},children:["CV / Resume",((Ye=ee==null?void 0:ee.resume)==null?void 0:Ye.title)&&t.jsxs("span",{style:{fontSize:"14px",fontWeight:"normal",color:"#64748b",marginLeft:"8px"},children:["- ",ee.resume.title]})]}),(()=>{var ye;const F=(ee==null?void 0:ee.resume)||ee,he=(F==null?void 0:F.file_url)||(ee==null?void 0:ee.file_url);if(he){const ke=F!=null&&F.title?`${F.title}.pdf`:`CV_${((ye=s==null?void 0:s.profiles)==null?void 0:ye.full_name)||"candidate"}_${new Date().getTime()}.pdf`;return t.jsx(me,{variant:"primary",size:"small",onClick:async()=>{try{await fm(he,ke)}catch(Qe){console.error("Download error:",Qe),alert("Khng th ti CV. Vui lng th li.")}},children:"Ti xung"})}return null})()]}),Me?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx("p",{children:"ang ti CV..."})}):ee?t.jsx("div",{className:"cv-preview-content",children:(()=>{var ye;const F=(ee==null?void 0:ee.resume)||ee,he=(F==null?void 0:F.file_url)||(ee==null?void 0:ee.file_url);if(he){const ke=(ye=he.split(".").pop())==null?void 0:ye.toLowerCase(),Qe=["jpg","jpeg","png","gif","webp"].includes(ke||""),le=ke==="pdf"||he.includes("pdf");return Qe?t.jsx("div",{style:{textAlign:"center"},children:t.jsx("img",{src:he,alt:"CV Preview",style:{maxWidth:"100%",maxHeight:"70vh",border:"1px solid #e2e8f0",borderRadius:"8px",objectFit:"contain"},onError:De=>{console.error("Image load error:",De),De.target.style.display="none",De.target.parentElement.innerHTML='<p style="color: #ef4444; padding: 20px;">Khng th ti hnh nh CV. Vui lng th ti xung.</p>'}})}):le?t.jsx("iframe",{src:he,style:{width:"100%",height:"70vh",border:"1px solid #e2e8f0",borderRadius:"8px"},title:"CV Preview",onError:De=>{console.error("Iframe load error:",De)}}):t.jsx("iframe",{src:he,style:{width:"100%",height:"70vh",border:"1px solid #e2e8f0",borderRadius:"8px"},title:"CV Preview",onError:De=>{console.error("Iframe load error:",De)}})}else return ee.content||F!=null&&F.content?t.jsx("div",{style:{padding:"20px",background:"#f8fafc",borderRadius:"8px",maxHeight:"70vh",overflow:"auto"},children:t.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",margin:0},children:ee.content||(F==null?void 0:F.content)})}):t.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[t.jsx("p",{style:{color:"#64748b"},children:"CV khng c sn  xem."}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",marginTop:"8px"},children:"ng vin cha nh km CV hoc CV khng kh dng."})]})})()}):t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx("p",{children:"Khng tm thy CV."})}),t.jsx("div",{className:"modal-actions",style:{marginTop:"24px"},children:t.jsx(me,{variant:"outline",onClick:()=>{q(!1),be(null)},children:"ng"})})]})})]})}function iN({children:e}){const n=fn(),s=Mn();if(console.log("RequireAdmin check:",{role:s,pathname:n.pathname}),s!=="admin"){console.log("RequireAdmin: Redirecting to admin login, role is:",s);const a=encodeURIComponent(n.pathname+n.search);return t.jsx(Bd,{to:`/admin/login?redirect=${a}`,replace:!0})}return console.log("RequireAdmin: Allowing access"),e}const lN=[{label:"Bng iu khin",path:"/admin/dashboard"},{label:"Qun l ngi dng",path:"/admin/users"},{label:"Qun l cng vic",path:"/admin/jobs"},{label:"Duyt cng vic",path:"/admin/jobs/pending"}];function rN(){var _,b,g;const e=He(),n=fn(),[s,a]=u.useState(!1),[i,l]=u.useState(!1),[r,o]=u.useState(null),c=u.useRef(null);u.useEffect(()=>{(async()=>{try{const d=await bt.getMe();o((d==null?void 0:d.data)||d)}catch(d){console.warn("Khng th ti profile:",d==null?void 0:d.message)}})()},[]),u.useEffect(()=>{const m=d=>{c.current&&!c.current.contains(d.target)&&l(!1)};return document.addEventListener("click",m),()=>document.removeEventListener("click",m)},[]);const h=async()=>{l(!1);try{const m=el();m&&await wn.logout(m)}catch(m){console.warn("ng xut admin tht bi:",m==null?void 0:m.message)}finally{Jn(),e("/login",{replace:!0})}},v=Wi()||{},f=((_=r==null?void 0:r.profile)==null?void 0:_.display_name)||((b=r==null?void 0:r.profile)==null?void 0:b.full_name)||(v==null?void 0:v.name)||"Admin",x=((g=r==null?void 0:r.profile)==null?void 0:g.avatar_url)||(v==null?void 0:v.avatar)||"",j=f.trim().charAt(0).toUpperCase();return t.jsxs("div",{className:"admin-shell",children:[t.jsxs("header",{className:"admin-navbar",children:[t.jsxs("div",{className:"admin-logo-block",children:[t.jsxs("button",{className:"admin-hamburger",type:"button","aria-label":"Toggle menu",onClick:()=>a(m=>!m),children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]}),t.jsxs("div",{className:"admin-logo",children:[t.jsx("span",{className:"admin-logo-badge",children:"AD"}),t.jsxs("div",{children:[t.jsx("strong",{children:"JobFinder Admin"}),t.jsx("p",{children:"Khu vc qun tr"})]})]})]}),t.jsx("div",{className:"admin-nav-actions",children:t.jsxs("div",{className:"admin-user-menu",ref:c,children:[t.jsxs("div",{className:"admin-user-pill",onClick:()=>l(m=>!m),children:[t.jsx("div",{className:"admin-avatar",children:x?t.jsx("img",{src:x,alt:f}):t.jsx("span",{children:j})}),t.jsxs("div",{children:[t.jsx("strong",{children:f}),t.jsx("small",{children:"Qun tr vin"})]}),t.jsx("span",{className:"admin-chevron",children:""})]}),i&&t.jsx("div",{className:"admin-profile-menu",children:t.jsx("button",{type:"button",className:"danger",onClick:h,children:"ng xut"})})]})})]}),t.jsxs("div",{className:"admin-layout",children:[t.jsx("aside",{className:`admin-sidebar${s?" is-open":""}`,children:lN.map(m=>{const d=n.pathname===m.path||m.path!=="/admin/dashboard"&&n.pathname.startsWith(m.path);return t.jsx("button",{className:`admin-nav-item${d?" active":""}`,type:"button",onClick:()=>{e(m.path),a(!1)},children:t.jsx("span",{children:m.label})},m.label)})}),t.jsx("main",{className:"admin-main",children:t.jsx(zc,{})})]})]})}const Rt={getAllUsers:async(e={})=>{const n=new URLSearchParams;e.page&&n.append("page",String(e.page)),e.limit&&n.append("limit",String(e.limit)),e.search&&n.append("search",e.search),e.role&&n.append("role",e.role),e.verified!==void 0&&e.verified!==null&&e.verified!==""&&n.append("verified",String(e.verified)),e.deleted!==void 0&&e.deleted!==null&&e.deleted!==""&&n.append("deleted",String(e.deleted));const s=n.toString();return W.get(`/api/admin/users${s?`?${s}`:""}`)},getUserDetails:async e=>W.get(`/api/admin/users/${e}`),updateUser:async(e,n)=>W.patch(`/api/admin/users/${e}`,n),deleteUser:async e=>W.del(`/api/admin/users/${e}`),getAllJobs:async(e={})=>{const n=new URLSearchParams;e.page&&n.append("page",e.page),e.limit&&n.append("limit",e.limit),e.search&&n.append("search",e.search),e.status&&n.append("status",e.status),e.deleted!==void 0&&n.append("deleted",e.deleted);const s=n.toString();return W.get(`/api/admin/jobs${s?`?${s}`:""}`)},getPendingJobs:async(e={})=>{const n=new URLSearchParams;e.page&&n.append("page",e.page),e.limit&&n.append("limit",e.limit);const s=n.toString();return W.get(`/api/admin/jobs/pending${s?`?${s}`:""}`)},getJobDetails:async e=>W.get(`/api/admin/jobs/${e}`),approveJob:async e=>W.patch(`/api/admin/jobs/${e}/approve`),rejectJob:async(e,n)=>W.patch(`/api/admin/jobs/${e}/reject`,{reason:n}),updateJobLabels:async(e,n)=>W.patch(`/api/admin/jobs/${e}/label`,n),deleteJobForViolation:async e=>W.delete(`/api/admin/jobs/${e}/violation`),restoreJob:async e=>W.post(`/api/admin/jobs/${e}/restore`)};function gm(){const[e,n]=u.useState({totalUsers:0,totalJobs:0,pendingJobs:0,activeJobs:0,unverifiedUsers:0,deletedJobs:0}),[s,a]=u.useState(!0);u.useEffect(()=>{i()},[]);const i=async()=>{var o,c,h,v,f,x,j,_,b;try{a(!0);const[g,m,d,p]=await Promise.all([Rt.getAllUsers({page:1,limit:1}),Rt.getAllJobs({page:1,limit:100}),Rt.getPendingJobs({page:1,limit:1}),Rt.getAllUsers({page:1,limit:100,verified:!1})]),y=((o=m==null?void 0:m.data)==null?void 0:o.jobs)||[],S=y.filter(k=>k.status==="approved"&&!k.deleted).length,w=y.filter(k=>k.deleted).length;n({totalUsers:((h=(c=g==null?void 0:g.data)==null?void 0:c.pagination)==null?void 0:h.total)||0,totalJobs:((f=(v=m==null?void 0:m.data)==null?void 0:v.pagination)==null?void 0:f.total)||0,pendingJobs:((j=(x=d==null?void 0:d.data)==null?void 0:x.pagination)==null?void 0:j.total)||0,activeJobs:S,unverifiedUsers:((b=(_=p==null?void 0:p.data)==null?void 0:_.pagination)==null?void 0:b.total)||0,deletedJobs:w})}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},l=[{title:"Tng ngi dng",value:e.totalUsers,link:"/admin/users",color:"#3b82f6"},{title:"Tng cng vic",value:e.totalJobs,link:"/admin/jobs",color:"#10b981"},{title:"Ch duyt",value:e.pendingJobs,link:"/admin/jobs/pending",color:"#f59e0b",highlight:e.pendingJobs>0},{title:"Cng vic ang hot ng",value:e.activeJobs,link:"/admin/jobs?status=approved",color:"#8b5cf6"},{title:"Ngi dng cha xc thc",value:e.unverifiedUsers,link:"/admin/users?verified=false",color:"#ef4444",highlight:e.unverifiedUsers>0},{title:"Cng vic  xa",value:e.deletedJobs,link:"/admin/jobs?deleted=true",color:"#64748b"}],r=[{label:"Qun l ngi dng",path:"/admin/users"},{label:"Qun l cng vic",path:"/admin/jobs"},{label:"Duyt cng vic",path:"/admin/jobs/pending"}];return t.jsxs("div",{className:"admin-dashboard",children:[t.jsxs("div",{className:"admin-dashboard-header",children:[t.jsx("h1",{children:"Bng iu khin Admin"}),t.jsx("p",{className:"admin-muted",children:"Qun l h thng JobFinder"})]}),s?t.jsx("div",{className:"admin-loading-state",children:"ang ti..."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"admin-stats-grid",children:l.map((o,c)=>t.jsxs(We,{to:o.link,className:"admin-stat-card",children:[t.jsxs("div",{className:"admin-stat-content",children:[t.jsx("div",{className:"admin-stat-value",children:o.value.toLocaleString("vi-VN")}),t.jsx("div",{className:"admin-stat-title",children:o.title})]}),o.highlight&&t.jsx("div",{className:"admin-stat-badge",children:"Cn x l"})]},c))}),t.jsxs("div",{className:"admin-quick-actions",children:[t.jsx("h2",{children:"Thao tc nhanh"}),t.jsx("div",{className:"admin-actions-grid",children:r.map((o,c)=>t.jsx(We,{to:o.path,className:"admin-action-card",children:t.jsx("div",{className:"admin-action-label",children:o.label})},c))})]})]})]})}const Sl=20,oN=[{value:"",label:"Tt c"},{value:"candidate",label:"ng vin"},{value:"recruiter",label:"Nh tuyn dng"},{value:"admin",label:"Qun tr vin"}],cN=[{value:"",label:"Tt c"},{value:"true",label:" xc thc"},{value:"false",label:"Cha xc thc"}],dN=[{value:"",label:"Tt c"},{value:"false",label:"Hot ng"},{value:"true",label:" kha"}];function uN(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"--"}}function hN(){const e=He(),[n,s]=u.useState([]),[a,i]=u.useState(!0),[l,r]=u.useState(null),[o,c]=u.useState(1),[h,v]=u.useState({page:1,limit:Sl,total:0,totalPages:1}),[f,x]=u.useState({search:"",role:"",verified:"",deleted:""}),j=u.useCallback(async()=>{var p,y,S;i(!0),r(null);try{const w={page:o,limit:Sl,...f.search&&f.search.trim()&&{search:f.search.trim()},...f.role&&f.role!==""&&{role:f.role},...f.verified&&f.verified!==""&&{verified:f.verified},...f.deleted&&f.deleted!==""&&{deleted:f.deleted}};console.log("Fetching users with params:",w),console.log("Filters state:",f);const k=await Rt.getAllUsers(w);console.log("API Response:",k),console.log("API Response type:",typeof k),console.log("API Response keys:",Object.keys(k||{}));let C={};k!=null&&k.data?C=k.data:k!=null&&k.users?C=k:Array.isArray(k)?C={users:k,pagination:{total:k.length}}:C=k||{},console.log("Processed data:",C);const T=C.users||((p=C.data)==null?void 0:p.users)||[],L=C.pagination||((y=C.data)==null?void 0:y.pagination)||{};console.log("Users list:",T),console.log("Pagination:",L),s(T),v({page:L.page||o,limit:L.limit||Sl,total:L.total||0,totalPages:L.totalPages||Math.ceil((L.total||0)/Sl)||1})}catch(w){console.error("Failed to fetch users:",w),console.error("Error details:",{message:w==null?void 0:w.message,status:w==null?void 0:w.status,data:w==null?void 0:w.data}),r(((S=w==null?void 0:w.data)==null?void 0:S.message)||(w==null?void 0:w.message)||"Khng th ti danh sch ngi dng. Vui lng th li.")}finally{i(!1)}},[o,f]);u.useEffect(()=>{j()},[j]);const _=(p,y)=>{x(S=>({...S,[p]:y})),c(1)},b=p=>{p.preventDefault(),c(1),j()},g=p=>{e(`/admin/users/${p}`)},m=p=>({candidate:"ng vin",recruiter:"Nh tuyn dng",admin:"Qun tr vin"})[p]||p,d=p=>({candidate:"#3b82f6",recruiter:"#10b981",admin:"#dc2626"})[p]||"#64748b";return t.jsxs("div",{className:"admin-users-list",children:[t.jsxs("div",{className:"admin-page-header",children:[t.jsx("h1",{children:"Qun l ngi dng"}),t.jsx("p",{className:"admin-muted",children:"Qun l tt c ngi dng trong h thng"})]}),t.jsx("div",{className:"admin-card",children:t.jsxs("div",{className:"admin-filters",children:[t.jsxs("form",{onSubmit:b,className:"admin-search-form",children:[t.jsx("input",{type:"text",placeholder:"Tm kim theo email hoc tn...",value:f.search,onChange:p=>_("search",p.target.value),className:"admin-search-input"}),t.jsx("button",{type:"submit",className:"admin-search-btn",children:"Tm kim"})]}),t.jsxs("div",{className:"admin-filter-row",children:[t.jsx("select",{value:f.role,onChange:p=>_("role",p.target.value),className:"admin-filter-select",children:oN.map(p=>t.jsx("option",{value:p.value,children:p.label},p.value))}),t.jsx("select",{value:f.verified,onChange:p=>_("verified",p.target.value),className:"admin-filter-select",children:cN.map(p=>t.jsx("option",{value:p.value,children:p.label},p.value))}),t.jsx("select",{value:f.deleted,onChange:p=>_("deleted",p.target.value),className:"admin-filter-select",children:dN.map(p=>t.jsx("option",{value:p.value,children:p.label},p.value))})]})]})}),a&&t.jsx("div",{className:"admin-card admin-loading-state",children:t.jsx("p",{children:"ang ti..."})}),l&&t.jsxs("div",{className:"admin-card admin-error-state",children:[t.jsx("p",{children:l}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:j,children:"Th li"})]}),!a&&!l&&t.jsxs(t.Fragment,{children:[h.total>0&&t.jsx("div",{className:"admin-card",style:{padding:"12px 24px",background:"#f8fafc"},children:t.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#64748b"},children:["Tm thy ",t.jsx("strong",{children:h.total})," ngi dng",h.totalPages>1&&` (Trang ${o}/${h.totalPages})`]})}),t.jsx("div",{className:"admin-card",children:t.jsx("div",{className:"admin-table-wrapper",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Tn"}),t.jsx("th",{children:"Vai tr"}),t.jsx("th",{children:"Xc thc"}),t.jsx("th",{children:"Trng thi"}),t.jsx("th",{children:"Ngy to"}),t.jsx("th",{children:"Hnh ng"})]})}),t.jsx("tbody",{children:n.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"admin-empty-state",children:h.total===0?t.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[t.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:600,color:"#0f172a"},children:"Cha c ngi dng no trong h thng"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"#64748b"},children:f.search||f.role||f.verified||f.deleted?"Khng tm thy ngi dng ph hp vi b lc. Vui lng th li vi b lc khc.":"Database cha c d liu. Vui lng chy seed data  to d liu mu."})]}):"ang ti d liu..."})}):n.map(p=>{const S=(Array.isArray(p.profiles)?p.profiles[0]:p.profiles||{}).full_name||"--";return t.jsxs("tr",{children:[t.jsx("td",{children:p.email}),t.jsx("td",{children:S}),t.jsx("td",{children:t.jsx("span",{className:"admin-badge",style:{backgroundColor:`${d(p.role)}15`,color:d(p.role)},children:m(p.role)})}),t.jsx("td",{children:t.jsx("span",{className:`admin-badge ${p.verified?"admin-badge-success":"admin-badge-warning"}`,children:p.verified?" xc thc":"Cha xc thc"})}),t.jsx("td",{children:t.jsx("span",{className:`admin-badge ${p.deleted?"admin-badge-danger":"admin-badge-success"}`,children:p.deleted?" kha":"Hot ng"})}),t.jsx("td",{children:uN(p.created_at)}),t.jsx("td",{children:t.jsx("button",{className:"admin-btn admin-btn-link",onClick:()=>g(p.id),children:"Xem chi tit"})})]},p.id)})})]})})}),h.totalPages>1&&t.jsxs("div",{className:"admin-pagination",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>c(p=>Math.max(1,p-1)),disabled:o===1,children:"Trc"}),t.jsxs("span",{className:"admin-pagination-info",children:["Trang ",o," / ",h.totalPages," (",h.total," ngi dng)"]}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>c(p=>Math.min(h.totalPages,p+1)),disabled:o===h.totalPages,children:"Sau"})]})]})]})}const mN=[{value:"candidate",label:"ng vin"},{value:"recruiter",label:"Nh tuyn dng"},{value:"admin",label:"Qun tr vin"}];function xm(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"--"}}function pN(){const{id:e}=Gn(),n=He(),[s,a]=u.useState(null),[i,l]=u.useState(!0),[r,o]=u.useState(null),[c,h]=u.useState(!1),[v,f]=u.useState(!1),[x,j]=u.useState(!1),[_,b]=u.useState({role:"",verified:!1,deleted:!1});u.useEffect(()=>{g()},[e]);const g=async()=>{l(!0),o(null);try{const y=await Rt.getUserDetails(e),S=(y==null?void 0:y.data)||y;a(S),b({role:S.role||"",verified:S.verified||!1,deleted:S.deleted||!1})}catch(y){console.error("Failed to load user:",y),o((y==null?void 0:y.message)||"Khng th ti thng tin ngi dng.")}finally{l(!1)}},m=async y=>{y.preventDefault(),h(!0);try{const S={};if(_.role!==s.role&&(S.role=_.role),_.verified!==s.verified&&(S.verified=_.verified),_.deleted!==s.deleted&&(S.deleted=_.deleted),Object.keys(S).length===0){alert("Khng c thay i no  cp nht");return}await Rt.updateUser(e,S),alert("Cp nht thnh cng!"),g()}catch(S){console.error("Failed to update user:",S),alert((S==null?void 0:S.message)||"Khng th cp nht ngi dng.")}finally{h(!1)}},d=async()=>{j(!0);try{await Rt.deleteUser(e),alert("Xa ngi dng thnh cng!"),n("/admin/users")}catch(y){console.error("Failed to delete user:",y),alert((y==null?void 0:y.message)||"Khng th xa ngi dng.")}finally{j(!1),f(!1)}};if(i)return t.jsx("div",{className:"admin-user-detail",children:t.jsx("div",{className:"admin-card admin-loading-state",children:t.jsx("p",{children:"ang ti..."})})});if(r||!s)return t.jsx("div",{className:"admin-user-detail",children:t.jsxs("div",{className:"admin-card admin-error-state",children:[t.jsx("p",{children:r||"Khng tm thy ngi dng"}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>n("/admin/users"),children:"Quay li"})]})});const p=Array.isArray(s.profiles)?s.profiles[0]:s.profiles||{};return t.jsxs("div",{className:"admin-user-detail",children:[t.jsxs("div",{className:"admin-page-header",children:[t.jsx("button",{className:"admin-btn admin-btn-link",onClick:()=>n("/admin/users"),children:" Quay li danh sch"}),t.jsx("h1",{children:"Chi tit ngi dng"}),t.jsx("p",{className:"admin-muted",children:"Qun l thng tin v quyn ca ngi dng"})]}),t.jsxs("div",{className:"admin-card",children:[t.jsx("h2",{children:"Thng tin c bn"}),t.jsxs("div",{className:"admin-info-grid",children:[t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Email"}),t.jsx("div",{children:s.email})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Tn"}),t.jsx("div",{children:p.full_name||"--"})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"S in thoi"}),t.jsx("div",{children:p.phone_number||"--"})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Ngy to"}),t.jsx("div",{children:xm(s.created_at)})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Cp nht ln cui"}),t.jsx("div",{children:xm(s.updated_at)})]})]})]}),t.jsxs("div",{className:"admin-card",children:[t.jsx("h2",{children:"Cp nht thng tin"}),t.jsxs("form",{onSubmit:m,className:"admin-form",children:[t.jsxs("div",{className:"admin-form-group",children:[t.jsx("label",{children:"Vai tr"}),t.jsx("select",{value:_.role,onChange:y=>b({..._,role:y.target.value}),className:"admin-form-input",required:!0,children:mN.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.jsx("div",{className:"admin-form-group",children:t.jsxs("label",{className:"admin-checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:_.verified,onChange:y=>b({..._,verified:y.target.checked})}),t.jsx("span",{children:" xc thc email"})]})}),t.jsx("div",{className:"admin-form-group",children:t.jsxs("label",{className:"admin-checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:_.deleted,onChange:y=>b({..._,deleted:y.target.checked})}),t.jsx("span",{children:"Kha ti khon (Soft delete)"})]})}),t.jsxs("div",{className:"admin-form-actions",children:[t.jsx("button",{type:"button",className:"admin-btn admin-btn-secondary",onClick:()=>n("/admin/users"),children:"Hy"}),t.jsx("button",{type:"submit",className:"admin-btn admin-btn-primary",disabled:c,children:c?"ang lu...":"Lu thay i"})]})]})]}),t.jsxs("div",{className:"admin-card admin-card-danger",children:[t.jsx("h2",{children:"Xa vnh vin"}),t.jsx("p",{className:"admin-muted",children:"Hnh ng ny s xa vnh vin ngi dng khi h thng v khng th hon tc."}),t.jsx("button",{className:"admin-btn admin-btn-danger",onClick:()=>f(!0),disabled:x,children:x?"ang xa...":"Xa vnh vin"})]}),v&&t.jsx("div",{className:"admin-modal-overlay",onClick:()=>f(!1),children:t.jsxs("div",{className:"admin-modal",onClick:y=>y.stopPropagation(),children:[t.jsx("h3",{children:"Xc nhn xa"}),t.jsxs("p",{children:["Bn c chc chn mun xa vnh vin ngi dng ",t.jsx("strong",{children:s.email}),"?"]}),t.jsx("p",{className:"admin-muted",children:"Hnh ng ny khng th hon tc."}),t.jsxs("div",{className:"admin-modal-actions",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>f(!1),children:"Hy"}),t.jsx("button",{className:"admin-btn admin-btn-danger",onClick:d,disabled:x,children:x?"ang xa...":"Xa vnh vin"})]})]})})]})}const $o=20,fN=[{value:"",label:"Tt c"},{value:"draft",label:"Nhp"},{value:"approved",label:" duyt"},{value:"closed",label:" ng"}],gN=[{value:"",label:"Tt c"},{value:"false",label:"Hot ng"},{value:"true",label:" xa"}];function vm(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"--"}}function xN(){const e=He(),[n,s]=u.useState([]),[a,i]=u.useState(!0),[l,r]=u.useState(null),[o,c]=u.useState(1),[h,v]=u.useState({page:1,limit:$o,total:0,totalPages:1}),[f,x]=u.useState({search:"",status:"",deleted:""}),j=u.useCallback(async()=>{var y,S,w,k;i(!0),r(null);try{const C={page:o,limit:$o,...f.search&&{search:f.search},...f.status&&{status:f.status},...f.deleted&&{deleted:f.deleted==="true"}},T=await Rt.getAllJobs(C),L=(T==null?void 0:T.data)||{};s(L.jobs||[]),v({page:((y=L.pagination)==null?void 0:y.page)||o,limit:((S=L.pagination)==null?void 0:S.limit)||$o,total:((w=L.pagination)==null?void 0:w.total)||0,totalPages:((k=L.pagination)==null?void 0:k.totalPages)||1})}catch(C){console.error("Failed to fetch jobs:",C),r((C==null?void 0:C.message)||"Khng th ti danh sch cng vic. Vui lng th li.")}finally{i(!1)}},[o,f]);u.useEffect(()=>{j()},[j]);const _=(y,S)=>{x(w=>({...w,[y]:S})),c(1)},b=y=>{y.preventDefault(),c(1),j()},g=y=>{e(`/admin/jobs/${y}`)},m=y=>({draft:"Nhp",approved:" duyt",closed:" ng"})[y]||y,d=y=>({draft:"warning",approved:"success",closed:"danger"})[y]||"",p=y=>{if(!y||!y.labels)return[];const S=[];return y.labels.hot&&S.push({text:"Hot",color:"#ef4444"}),y.labels.urgent&&S.push({text:"Urgent",color:"#f59e0b"}),y.labels.featured&&S.push({text:"Featured",color:"#8b5cf6"}),S};return t.jsxs("div",{className:"admin-jobs-list",children:[t.jsxs("div",{className:"admin-page-header",children:[t.jsx("h1",{children:"Qun l cng vic"}),t.jsx("p",{className:"admin-muted",children:"Qun l tt c cng vic trong h thng"})]}),t.jsx("div",{className:"admin-card",children:t.jsxs("div",{className:"admin-filters",children:[t.jsxs("form",{onSubmit:b,className:"admin-search-form",children:[t.jsx("input",{type:"text",placeholder:"Tm kim theo tiu  hoc m t...",value:f.search,onChange:y=>_("search",y.target.value),className:"admin-search-input"}),t.jsx("button",{type:"submit",className:"admin-search-btn",children:"Tm kim"})]}),t.jsxs("div",{className:"admin-filter-row",children:[t.jsx("select",{value:f.status,onChange:y=>_("status",y.target.value),className:"admin-filter-select",children:fN.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))}),t.jsx("select",{value:f.deleted,onChange:y=>_("deleted",y.target.value),className:"admin-filter-select",children:gN.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]})]})}),a&&t.jsx("div",{className:"admin-card admin-loading-state",children:t.jsx("p",{children:"ang ti..."})}),l&&t.jsxs("div",{className:"admin-card admin-error-state",children:[t.jsx("p",{children:l}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:j,children:"Th li"})]}),!a&&!l&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"admin-card",children:t.jsx("div",{className:"admin-table-wrapper",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Tiu "}),t.jsx("th",{children:"Cng ty"}),t.jsx("th",{children:"Trng thi"}),t.jsx("th",{children:"Nhn"}),t.jsx("th",{children:"Ngy ng"}),t.jsx("th",{children:"Ngy ht hn"}),t.jsx("th",{children:"Hnh ng"})]})}),t.jsx("tbody",{children:n.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"admin-empty-state",children:"Khng tm thy cng vic no"})}):n.map(y=>{var w;const S=p(y.metadata);return t.jsxs("tr",{children:[t.jsxs("td",{children:[t.jsx("div",{className:"admin-job-title",children:y.title||"--"}),y.deleted&&t.jsx("span",{className:"admin-badge admin-badge-danger",style:{fontSize:"10px",marginTop:"4px"},children:" xa"})]}),t.jsx("td",{children:((w=y.companies)==null?void 0:w.name)||"--"}),t.jsx("td",{children:t.jsx("span",{className:`admin-badge admin-badge-${d(y.status)}`,children:m(y.status)})}),t.jsx("td",{children:t.jsx("div",{className:"admin-labels",children:S.length>0?S.map((k,C)=>t.jsx("span",{className:"admin-label-badge",style:{backgroundColor:`${k.color}15`,color:k.color},children:k.text},C)):t.jsx("span",{className:"admin-muted",children:"--"})})}),t.jsx("td",{children:vm(y.posted_at)}),t.jsx("td",{children:vm(y.expires_at)}),t.jsx("td",{children:t.jsx("button",{className:"admin-btn admin-btn-link",onClick:()=>g(y.id),children:"Xem chi tit"})})]},y.id)})})]})})}),h.totalPages>1&&t.jsxs("div",{className:"admin-pagination",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>c(y=>Math.max(1,y-1)),disabled:o===1,children:"Trc"}),t.jsxs("span",{className:"admin-pagination-info",children:["Trang ",o," / ",h.totalPages," (",h.total," cng vic)"]}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>c(y=>Math.min(h.totalPages,y+1)),disabled:o===h.totalPages,children:"Sau"})]})]})]})}const Fo=20;function vN(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"--"}}function jN(){const e=He(),[n,s]=u.useState([]),[a,i]=u.useState(!0),[l,r]=u.useState(null),[o,c]=u.useState(1),[h,v]=u.useState({page:1,limit:Fo,total:0,totalPages:1}),[f,x]=u.useState({}),[j,_]=u.useState(null),[b,g]=u.useState(""),m=u.useCallback(async()=>{var S,w,k,C;i(!0),r(null);try{const T={page:o,limit:Fo},L=await Rt.getPendingJobs(T),O=(L==null?void 0:L.data)||{};s(O.jobs||[]),v({page:((S=O.pagination)==null?void 0:S.page)||o,limit:((w=O.pagination)==null?void 0:w.limit)||Fo,total:((k=O.pagination)==null?void 0:k.total)||0,totalPages:((C=O.pagination)==null?void 0:C.totalPages)||1})}catch(T){console.error("Failed to fetch pending jobs:",T),r((T==null?void 0:T.message)||"Khng th ti danh sch cng vic ch duyt. Vui lng th li.")}finally{i(!1)}},[o]);u.useEffect(()=>{m()},[m]);const d=async S=>{x({...f,[S]:"approving"});try{await Rt.approveJob(S),alert("Duyt cng vic thnh cng!"),m()}catch(w){console.error("Failed to approve job:",w),alert((w==null?void 0:w.message)||"Khng th duyt cng vic.")}finally{x({...f,[S]:null})}},p=async S=>{if(!b.trim()||b.trim().length<10){alert("Vui lng nhp l do t chi (t nht 10 k t)");return}x({...f,[S]:"rejecting"});try{await Rt.rejectJob(S,b),alert("T chi cng vic thnh cng!"),_(null),g(""),m()}catch(w){console.error("Failed to reject job:",w),alert((w==null?void 0:w.message)||"Khng th t chi cng vic.")}finally{x({...f,[S]:null})}},y=S=>{e(`/admin/jobs/${S}`)};return t.jsxs("div",{className:"admin-pending-jobs",children:[t.jsxs("div",{className:"admin-page-header",children:[t.jsx("h1",{children:"Duyt cng vic"}),t.jsx("p",{className:"admin-muted",children:"Xem xt v duyt cc cng vic ang ch ph duyt"})]}),a&&t.jsx("div",{className:"admin-card admin-loading-state",children:t.jsx("p",{children:"ang ti..."})}),l&&t.jsxs("div",{className:"admin-card admin-error-state",children:[t.jsx("p",{children:l}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:m,children:"Th li"})]}),!a&&!l&&t.jsxs(t.Fragment,{children:[n.length===0?t.jsx("div",{className:"admin-card",children:t.jsx("div",{className:"admin-empty-state",children:t.jsx("p",{children:"Khng c cng vic no ch duyt"})})}):t.jsx("div",{className:"admin-jobs-grid",children:n.map(S=>{var w,k;return t.jsxs("div",{className:"admin-job-card",children:[t.jsxs("div",{className:"admin-job-card-header",children:[t.jsx("h3",{children:S.title||"Cha c tiu "}),t.jsx("span",{className:"admin-badge admin-badge-warning",children:"Ch duyt"})]}),t.jsxs("div",{className:"admin-job-card-body",children:[t.jsxs("div",{className:"admin-job-info",children:[t.jsxs("div",{className:"admin-job-info-item",children:[t.jsx("label",{children:"Cng ty:"}),t.jsx("span",{children:((w=S.companies)==null?void 0:w.name)||"--"})]}),t.jsxs("div",{className:"admin-job-info-item",children:[t.jsx("label",{children:"a im:"}),t.jsx("span",{children:((k=S.locations)==null?void 0:k.name)||"--"})]}),t.jsxs("div",{className:"admin-job-info-item",children:[t.jsx("label",{children:"Loi hnh:"}),t.jsx("span",{children:S.job_type==="full_time"?"Ton thi gian":S.job_type==="part_time"?"Bn thi gian":S.job_type==="contract"?"Hp ng":"--"})]}),t.jsxs("div",{className:"admin-job-info-item",children:[t.jsx("label",{children:"Ngy ng:"}),t.jsx("span",{children:vN(S.posted_at)})]})]}),S.description&&t.jsxs("div",{className:"admin-job-description",children:[t.jsx("label",{children:"M t:"}),t.jsxs("p",{children:[S.description.substring(0,200),S.description.length>200?"...":""]})]})]}),t.jsxs("div",{className:"admin-job-card-actions",children:[t.jsx("button",{className:"admin-btn admin-btn-link",onClick:()=>y(S.id),children:"Xem chi tit"}),t.jsx("button",{className:"admin-btn admin-btn-success",onClick:()=>d(S.id),disabled:f[S.id],children:f[S.id]==="approving"?"ang duyt...":"Duyt"}),t.jsx("button",{className:"admin-btn admin-btn-danger",onClick:()=>_(S.id),disabled:f[S.id],children:"T chi"})]})]},S.id)})}),h.totalPages>1&&t.jsxs("div",{className:"admin-pagination",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>c(S=>Math.max(1,S-1)),disabled:o===1,children:"Trc"}),t.jsxs("span",{className:"admin-pagination-info",children:["Trang ",o," / ",h.totalPages," (",h.total," cng vic)"]}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>c(S=>Math.min(h.totalPages,S+1)),disabled:o===h.totalPages,children:"Sau"})]})]}),j&&t.jsx("div",{className:"admin-modal-overlay",onClick:()=>{_(null),g("")},children:t.jsxs("div",{className:"admin-modal",onClick:S=>S.stopPropagation(),children:[t.jsx("h3",{children:"T chi cng vic"}),t.jsx("p",{children:"Vui lng nhp l do t chi (t nht 10 k t):"}),t.jsx("textarea",{className:"admin-form-input",rows:"4",value:b,onChange:S=>g(S.target.value),placeholder:"Nhp l do t chi...",style:{width:"100%",marginTop:"12px"}}),t.jsxs("div",{className:"admin-modal-actions",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>{_(null),g("")},children:"Hy"}),t.jsx("button",{className:"admin-btn admin-btn-danger",onClick:()=>p(j),disabled:f[j]||!b.trim()||b.trim().length<10,children:f[j]==="rejecting"?"ang x l...":"Xc nhn t chi"})]})]})})]})}function Vo(e){if(!e)return"--";try{return new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"--"}}function yN(){var L,O,se;const{id:e}=Gn(),n=He(),[s,a]=u.useState(null),[i,l]=u.useState(!0),[r,o]=u.useState(null),[c,h]=u.useState(!1),[v,f]=u.useState(!1),[x,j]=u.useState(!1),[_,b]=u.useState(""),[g,m]=u.useState({hot:!1,urgent:!1,featured:!1});u.useEffect(()=>{d()},[e]);const d=async()=>{var $,z,re,Y;l(!0),o(null);try{console.log("[AdminJobDetail] Loading job with id:",e);const H=await Rt.getJobDetails(e);console.log("[AdminJobDetail] Raw API response:",H),console.log("[AdminJobDetail] Response type:",typeof H),console.log("[AdminJobDetail] Response keys:",Object.keys(H||{}));const R=(H==null?void 0:H.data)||H;console.log("[AdminJobDetail] Job data received:",R),console.log("[AdminJobDetail] Job data type:",typeof R),console.log("[AdminJobDetail] Job data keys:",Object.keys(R||{}));const X=(R==null?void 0:R._count)||(R==null?void 0:R.count)||(R==null?void 0:R.stats);console.log("[AdminJobDetail] Count data found:",{_count:R==null?void 0:R._count,count:R==null?void 0:R.count,stats:R==null?void 0:R.stats,countData:X}),!R._count&&X&&(console.log("[AdminJobDetail] Using count/countData as _count"),R._count=X),console.log("[AdminJobDetail] Final jobData._count:",R==null?void 0:R._count),console.log("[AdminJobDetail] Job _count details:",{applications:($=R==null?void 0:R._count)==null?void 0:$.applications,saved_jobs:(z=R==null?void 0:R._count)==null?void 0:z.saved_jobs,job_views:(re=R==null?void 0:R._count)==null?void 0:re.job_views,full_count:R==null?void 0:R._count}),R!=null&&R._count||(console.warn("[AdminJobDetail] WARNING: _count is missing from job data!"),console.warn("[AdminJobDetail] Available keys:",Object.keys(R||{})),R._count={applications:0,saved_jobs:0,job_views:0}),a(R),(Y=R.metadata)!=null&&Y.labels&&m({hot:R.metadata.labels.hot||!1,urgent:R.metadata.labels.urgent||!1,featured:R.metadata.labels.featured||!1})}catch(H){console.error("[AdminJobDetail] Failed to load job:",H),console.error("[AdminJobDetail] Error details:",{message:H==null?void 0:H.message,status:H==null?void 0:H.status,data:H==null?void 0:H.data,stack:H==null?void 0:H.stack}),o((H==null?void 0:H.message)||"Khng th ti thng tin cng vic.")}finally{l(!1)}},p=async()=>{if(confirm("Bn c chc chn mun duyt cng vic ny?")){h(!0);try{await Rt.approveJob(e),alert("Duyt cng vic thnh cng!"),d()}catch($){console.error("Failed to approve job:",$),alert(($==null?void 0:$.message)||"Khng th duyt cng vic.")}finally{h(!1)}}},y=async()=>{if(!_.trim()||_.trim().length<10){alert("Vui lng nhp l do t chi (t nht 10 k t)");return}h(!0);try{await Rt.rejectJob(e,_),alert("T chi cng vic thnh cng!"),f(!1),b(""),d()}catch($){console.error("Failed to reject job:",$),alert(($==null?void 0:$.message)||"Khng th t chi cng vic.")}finally{h(!1)}},S=async()=>{h(!0);try{await Rt.updateJobLabels(e,g),alert("Cp nht nhn thnh cng!"),d()}catch($){console.error("Failed to update labels:",$),alert(($==null?void 0:$.message)||"Khng th cp nht nhn.")}finally{h(!1)}},w=async()=>{h(!0);try{await Rt.deleteJobForViolation(e),alert("Xa cng vic thnh cng!"),n("/admin/jobs")}catch($){console.error("Failed to delete job:",$),alert(($==null?void 0:$.message)||"Khng th xa cng vic.")}finally{h(!1),j(!1)}},k=async()=>{if(confirm("Bn c chc chn mun khi phc cng vic ny?")){h(!0);try{await Rt.restoreJob(e),alert("Khi phc cng vic thnh cng!"),d()}catch($){console.error("Failed to restore job:",$),alert(($==null?void 0:$.message)||"Khng th khi phc cng vic.")}finally{h(!1)}}};if(i)return t.jsx("div",{className:"admin-job-detail",children:t.jsx("div",{className:"admin-card admin-loading-state",children:t.jsx("p",{children:"ang ti..."})})});if(r||!s)return t.jsx("div",{className:"admin-job-detail",children:t.jsxs("div",{className:"admin-card admin-error-state",children:[t.jsx("p",{children:r||"Khng tm thy cng vic"}),t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>n("/admin/jobs"),children:"Quay li"})]})});const C=$=>({draft:"Nhp",approved:" duyt",closed:" ng"})[$]||$,T=$=>({draft:"warning",approved:"success",closed:"danger"})[$]||"";return t.jsxs("div",{className:"admin-job-detail",children:[t.jsxs("div",{className:"admin-page-header",children:[t.jsx("button",{className:"admin-btn admin-btn-link",onClick:()=>n("/admin/jobs"),children:" Quay li danh sch"}),t.jsx("h1",{children:s.title||"Cha c tiu "}),t.jsx("p",{className:"admin-muted",children:"Qun l v duyt cng vic"})]}),t.jsxs("div",{className:"admin-job-detail-grid",children:[t.jsxs("div",{className:"admin-job-detail-main",children:[t.jsxs("div",{className:"admin-card",children:[t.jsx("h2",{children:"Thng tin c bn"}),t.jsxs("div",{className:"admin-info-grid",children:[t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Tiu "}),t.jsx("div",{children:s.title||"--"})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Cng ty"}),t.jsx("div",{children:((L=s.companies)==null?void 0:L.name)||"--"})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"a im"}),t.jsx("div",{children:((O=s.locations)==null?void 0:O.name)||"--"})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Loi hnh"}),t.jsx("div",{children:s.job_type==="full_time"?"Ton thi gian":s.job_type==="part_time"?"Bn thi gian":s.job_type==="contract"?"Hp ng":"--"})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Trng thi"}),t.jsxs("div",{children:[t.jsx("span",{className:`admin-badge admin-badge-${T(s.status)}`,children:C(s.status)}),s.deleted&&t.jsx("span",{className:"admin-badge admin-badge-danger",style:{marginLeft:"8px"},children:" xa"})]})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Ngy ng"}),t.jsx("div",{children:Vo(s.posted_at)})]}),t.jsxs("div",{className:"admin-info-item",children:[t.jsx("label",{children:"Ngy ht hn"}),t.jsx("div",{children:Vo(s.expires_at)})]})]})]}),s.description&&t.jsxs("div",{className:"admin-card",children:[t.jsx("h2",{children:"M t cng vic"}),t.jsx("div",{className:"admin-job-description-content",children:s.description})]}),((se=s.metadata)==null?void 0:se.rejection_reason)&&t.jsxs("div",{className:"admin-card admin-card-warning",children:[t.jsx("h2",{children:"L do t chi"}),t.jsx("p",{children:s.metadata.rejection_reason}),s.metadata.rejected_at&&t.jsxs("p",{className:"admin-muted",children:["T chi vo: ",Vo(s.metadata.rejected_at)]})]})]}),t.jsxs("div",{className:"admin-job-detail-sidebar",children:[t.jsxs("div",{className:"admin-card",children:[t.jsx("h2",{children:"Hnh ng"}),t.jsxs("div",{className:"admin-actions-list",children:[s.status==="draft"&&!s.deleted&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"admin-btn admin-btn-success admin-btn-block",onClick:p,disabled:c,children:c?"ang x l...":"Duyt cng vic"}),t.jsx("button",{className:"admin-btn admin-btn-danger admin-btn-block",onClick:()=>f(!0),disabled:c,children:"T chi"})]}),s.deleted&&t.jsx("button",{className:"admin-btn admin-btn-success admin-btn-block",onClick:k,disabled:c,children:c?"ang x l...":"Khi phc cng vic"}),!s.deleted&&t.jsx("button",{className:"admin-btn admin-btn-danger admin-btn-block",onClick:()=>j(!0),disabled:c,children:"Xa vi phm"})]})]}),t.jsxs("div",{className:"admin-card",children:[t.jsx("h2",{children:"Nhn"}),t.jsxs("div",{className:"admin-labels-form",children:[t.jsxs("label",{className:"admin-checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:g.hot,onChange:$=>m({...g,hot:$.target.checked})}),t.jsx("span",{children:"Hot"})]}),t.jsxs("label",{className:"admin-checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:g.urgent,onChange:$=>m({...g,urgent:$.target.checked})}),t.jsx("span",{children:"Urgent"})]}),t.jsxs("label",{className:"admin-checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:g.featured,onChange:$=>m({...g,featured:$.target.checked})}),t.jsx("span",{children:"Featured"})]}),t.jsx("button",{className:"admin-btn admin-btn-primary admin-btn-block",onClick:S,disabled:c,style:{marginTop:"16px"},children:c?"ang lu...":"Cp nht nhn"})]})]})]})]}),v&&t.jsx("div",{className:"admin-modal-overlay",onClick:()=>{f(!1),b("")},children:t.jsxs("div",{className:"admin-modal",onClick:$=>$.stopPropagation(),children:[t.jsx("h3",{children:"T chi cng vic"}),t.jsx("p",{children:"Vui lng nhp l do t chi (t nht 10 k t):"}),t.jsx("textarea",{className:"admin-form-input",rows:"4",value:_,onChange:$=>b($.target.value),placeholder:"Nhp l do t chi...",style:{width:"100%",marginTop:"12px"}}),t.jsxs("div",{className:"admin-modal-actions",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>{f(!1),b("")},children:"Hy"}),t.jsx("button",{className:"admin-btn admin-btn-danger",onClick:y,disabled:c||!_.trim()||_.trim().length<10,children:c?"ang x l...":"Xc nhn t chi"})]})]})}),x&&t.jsx("div",{className:"admin-modal-overlay",onClick:()=>j(!1),children:t.jsxs("div",{className:"admin-modal",onClick:$=>$.stopPropagation(),children:[t.jsx("h3",{children:"Xc nhn xa"}),t.jsx("p",{children:"Bn c chc chn mun xa cng vic ny v vi phm?"}),t.jsx("p",{className:"admin-muted",children:"Cng vic s b xa khi h thng (soft delete)."}),t.jsxs("div",{className:"admin-modal-actions",children:[t.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>j(!1),children:"Hy"}),t.jsx("button",{className:"admin-btn admin-btn-danger",onClick:w,disabled:c,children:c?"ang xa...":"Xc nhn xa"})]})]})})]})}function _N(){const[e,n]=u.useState({email:"",password:""}),[s,a]=u.useState(!1),i=He(),[l]=qa(),[r,o]=u.useState(!1),[c,h]=u.useState(""),v=x=>n(j=>({...j,[x.target.name]:x.target.value})),f=async x=>{var j,_;x.preventDefault(),h(""),o(!0);try{const b=await wn.login({email:e.email.trim(),password:e.password}),g=((j=b==null?void 0:b.data)==null?void 0:j.access_token)||(b==null?void 0:b.access_token)||(b==null?void 0:b.token)||(b==null?void 0:b.jwt)||Qn();let m=null;if(g){const y=vr(g);m=y==null?void 0:y.role}if(m!=="admin"){h("Ti khon ny khng c quyn qun tr vin."),Jn(),o(!1);return}Od("admin");const p=l.get("redirect")||"/admin/dashboard";i(p,{replace:!0})}catch(b){h(((_=b==null?void 0:b.data)==null?void 0:_.message)||(b==null?void 0:b.message)||"ng nhp tht bi.")}finally{o(!1)}};return t.jsx("div",{className:"admin-login-page",children:t.jsxs("div",{className:"admin-login-container",children:[t.jsxs("div",{className:"admin-login-header",children:[t.jsxs("div",{className:"admin-login-brand",children:[t.jsx("span",{className:"admin-login-badge",children:"AD"}),t.jsx("span",{children:"JobFinder Admin"})]}),t.jsx("h1",{children:"ng nhp qun tr"}),t.jsx("p",{className:"admin-login-subtitle",children:"Khu vc dnh cho qun tr vin"})]}),t.jsxs("form",{onSubmit:f,className:"admin-login-form",children:[t.jsxs("div",{className:"admin-form-field",children:[t.jsx("label",{children:"Email"}),t.jsx("input",{name:"email",type:"email",value:e.email,onChange:v,placeholder:"admin@example.com",autoComplete:"off",required:!0})]}),t.jsxs("div",{className:"admin-form-field",children:[t.jsx("label",{children:"Mt khu"}),t.jsxs("div",{className:"admin-password-input",children:[t.jsx("input",{name:"password",type:s?"text":"password",value:e.password,onChange:v,placeholder:"********",autoComplete:"new-password",required:!0}),t.jsx("button",{type:"button",className:"admin-toggle-password",onClick:()=>a(x=>!x),children:s?"n":"Hin"})]})]}),c&&t.jsx("div",{className:"admin-error-banner",children:c}),t.jsx("button",{type:"submit",disabled:r,className:"admin-login-btn",children:r?"ang ng nhp...":"ng nhp"})]}),t.jsx("div",{className:"admin-login-footer",children:t.jsx("a",{href:"/login",className:"admin-back-link",children:" Quay li trang ng nhp thng"})})]})})}const NN=oy([{path:"/",element:t.jsx(Dy,{}),children:[{index:!0,element:t.jsx(Yy,{})},{path:"companies",element:t.jsx(S0,{})},{path:"companies/:id",element:t.jsx(E_,{})},{path:"jobs",element:t.jsx(Qy,{})},{path:"jobs/:id",element:t.jsx(c0,{})},{path:"jobs/:id/apply",element:t.jsx(gs,{children:t.jsx(f0,{})})},{path:"register",element:t.jsx(T0,{})},{path:"verify-email",element:t.jsx(Ah,{})},{path:"auth/verify-email",element:t.jsx(Ah,{})},{path:"forgot-password",element:t.jsx(E0,{})},{path:"verify-forgot-password",element:t.jsx(zh,{})},{path:"auth/verify-forgot-password",element:t.jsx(zh,{})},{path:"reset-password",element:t.jsx($h,{})},{path:"auth/reset-password",element:t.jsx($h,{})},{path:"change-password",element:t.jsx(L0,{})},{path:"profile",element:t.jsx(gs,{children:t.jsx(I0,{})})},{path:"resumes",element:t.jsx(gs,{children:t.jsx(R_,{})})},{path:"resumes/create",element:t.jsx(gs,{children:t.jsx($_,{})})},{path:"resumes/:id",element:t.jsx(gs,{children:t.jsx(F_,{})})},{path:"saved-jobs",element:t.jsx(gs,{children:t.jsx(B_,{})})},{path:"applications",element:t.jsx(gs,{children:t.jsx(H_,{})})},{path:"applications/:id",element:t.jsx(gs,{children:t.jsx(W_,{})})},{path:"post-job",element:t.jsx(On,{children:t.jsx(m0,{})})},{path:"recruiter/dashboard",element:t.jsx(On,{children:t.jsx(Do,{})})},{path:"recruiter/talent-pool",element:t.jsx(On,{children:t.jsx(Do,{})})},{path:"recruiter/company",element:t.jsx(On,{children:t.jsx(x_,{children:t.jsx(d_,{})})})},{path:"recruiter/change-password",element:t.jsx(On,{children:t.jsx(Y0,{})})},{path:"recruiter/jobs",element:t.jsx(On,{children:t.jsx(Do,{})})},{path:"recruiter/jobs/:id/manage",element:t.jsx(On,{children:t.jsx(Q_,{})})},{path:"recruiter/jobs/:jobId/applications",element:t.jsx(On,{children:t.jsx(Y_,{})})},{path:"recruiter/applications/:id",element:t.jsx(On,{children:t.jsx(aN,{})})},{path:"onboarding/company",element:t.jsx(On,{children:t.jsx(l_,{})})},{path:"login",element:t.jsx(p0,{})}]},{path:"/admin/login",element:t.jsx(_N,{})},{path:"/admin",element:t.jsx(iN,{children:t.jsx(rN,{})}),children:[{index:!0,element:t.jsx(gm,{})},{path:"dashboard",element:t.jsx(gm,{})},{path:"users",element:t.jsx(hN,{})},{path:"users/:id",element:t.jsx(pN,{})},{path:"jobs",element:t.jsx(xN,{})},{path:"jobs/pending",element:t.jsx(jN,{})},{path:"jobs/:id",element:t.jsx(yN,{})}]}],{future:{v7_startTransition:!0}});Af(document.getElementById("root")).render(t.jsx(gy,{router:NN}));
